(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();var Mm={exports:{}},jl={};var iv;function _x(){if(iv)return jl;iv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,l){var u=null;if(l!==void 0&&(u=""+l),r.key!==void 0&&(u=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:n,type:s,key:u,ref:r!==void 0?r:null,props:l}}return jl.Fragment=t,jl.jsx=e,jl.jsxs=e,jl}var sv;function vx(){return sv||(sv=1,Mm.exports=_x()),Mm.exports}var ft=vx(),Om={exports:{}},St={};var av;function bx(){if(av)return St;av=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function A(z){return z===null||typeof z!="object"?null:(z=T&&z[T]||z["@@iterator"],typeof z=="function"?z:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function B(z,Z,lt){this.props=z,this.context=Z,this.refs=M,this.updater=lt||O}B.prototype.isReactComponent={},B.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=B.prototype;function $(z,Z,lt){this.props=z,this.context=Z,this.refs=M,this.updater=lt||O}var st=$.prototype=new j;st.constructor=$,D(st,B.prototype),st.isPureReactComponent=!0;var it=Array.isArray;function rt(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(z,Z,lt){var ut=lt.ref;return{$$typeof:n,type:z,key:Z,ref:ut!==void 0?ut:null,props:lt}}function k(z,Z){return C(z.type,Z,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(lt){return Z[lt]})}var I=/\/+/g;function zt(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):Z.toString(36)}function Rt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(rt,rt):(z.status="pending",z.then(function(Z){z.status==="pending"&&(z.status="fulfilled",z.value=Z)},function(Z){z.status==="pending"&&(z.status="rejected",z.reason=Z)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,Z,lt,ut,_t){var bt=typeof z;(bt==="undefined"||bt==="boolean")&&(z=null);var Bt=!1;if(z===null)Bt=!0;else switch(bt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(z.$$typeof){case n:case t:Bt=!0;break;case y:return Bt=z._init,Q(Bt(z._payload),Z,lt,ut,_t)}}if(Bt)return _t=_t(z),Bt=ut===""?"."+zt(z,0):ut,it(_t)?(lt="",Bt!=null&&(lt=Bt.replace(I,"$&/")+"/"),Q(_t,Z,lt,"",function(ya){return ya})):_t!=null&&(V(_t)&&(_t=k(_t,lt+(_t.key==null||z&&z.key===_t.key?"":(""+_t.key).replace(I,"$&/")+"/")+Bt)),Z.push(_t)),1;Bt=0;var ke=ut===""?".":ut+":";if(it(z))for(var ce=0;ce<z.length;ce++)ut=z[ce],bt=ke+zt(ut,ce),Bt+=Q(ut,Z,lt,bt,_t);else if(ce=A(z),typeof ce=="function")for(z=ce.call(z),ce=0;!(ut=z.next()).done;)ut=ut.value,bt=ke+zt(ut,ce++),Bt+=Q(ut,Z,lt,bt,_t);else if(bt==="object"){if(typeof z.then=="function")return Q(Rt(z),Z,lt,ut,_t);throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function at(z,Z,lt){if(z==null)return z;var ut=[],_t=0;return Q(z,ut,"","",function(bt){return Z.call(lt,bt,_t++)}),ut}function gt(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(lt){(z._status===0||z._status===-1)&&(z._status=1,z._result=lt)},function(lt){(z._status===0||z._status===-1)&&(z._status=2,z._result=lt)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var Dt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},It={map:at,forEach:function(z,Z,lt){at(z,function(){Z.apply(this,arguments)},lt)},count:function(z){var Z=0;return at(z,function(){Z++}),Z},toArray:function(z){return at(z,function(Z){return Z})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return St.Activity=v,St.Children=It,St.Component=B,St.Fragment=e,St.Profiler=r,St.PureComponent=$,St.StrictMode=s,St.Suspense=d,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(z){return R.H.useMemoCache(z)}},St.cache=function(z){return function(){return z.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(z,Z,lt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ut=D({},z.props),_t=z.key;if(Z!=null)for(bt in Z.key!==void 0&&(_t=""+Z.key),Z)!w.call(Z,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Z.ref===void 0||(ut[bt]=Z[bt]);var bt=arguments.length-2;if(bt===1)ut.children=lt;else if(1<bt){for(var Bt=Array(bt),ke=0;ke<bt;ke++)Bt[ke]=arguments[ke+2];ut.children=Bt}return C(z.type,_t,ut)},St.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},St.createElement=function(z,Z,lt){var ut,_t={},bt=null;if(Z!=null)for(ut in Z.key!==void 0&&(bt=""+Z.key),Z)w.call(Z,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=Z[ut]);var Bt=arguments.length-2;if(Bt===1)_t.children=lt;else if(1<Bt){for(var ke=Array(Bt),ce=0;ce<Bt;ce++)ke[ce]=arguments[ce+2];_t.children=ke}if(z&&z.defaultProps)for(ut in Bt=z.defaultProps,Bt)_t[ut]===void 0&&(_t[ut]=Bt[ut]);return C(z,bt,_t)},St.createRef=function(){return{current:null}},St.forwardRef=function(z){return{$$typeof:h,render:z}},St.isValidElement=V,St.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:gt}},St.memo=function(z,Z){return{$$typeof:g,type:z,compare:Z===void 0?null:Z}},St.startTransition=function(z){var Z=R.T,lt={};R.T=lt;try{var ut=z(),_t=R.S;_t!==null&&_t(lt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(rt,Dt)}catch(bt){Dt(bt)}finally{Z!==null&&lt.types!==null&&(Z.types=lt.types),R.T=Z}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(z){return R.H.use(z)},St.useActionState=function(z,Z,lt){return R.H.useActionState(z,Z,lt)},St.useCallback=function(z,Z){return R.H.useCallback(z,Z)},St.useContext=function(z){return R.H.useContext(z)},St.useDebugValue=function(){},St.useDeferredValue=function(z,Z){return R.H.useDeferredValue(z,Z)},St.useEffect=function(z,Z){return R.H.useEffect(z,Z)},St.useEffectEvent=function(z){return R.H.useEffectEvent(z)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(z,Z,lt){return R.H.useImperativeHandle(z,Z,lt)},St.useInsertionEffect=function(z,Z){return R.H.useInsertionEffect(z,Z)},St.useLayoutEffect=function(z,Z){return R.H.useLayoutEffect(z,Z)},St.useMemo=function(z,Z){return R.H.useMemo(z,Z)},St.useOptimistic=function(z,Z){return R.H.useOptimistic(z,Z)},St.useReducer=function(z,Z,lt){return R.H.useReducer(z,Z,lt)},St.useRef=function(z){return R.H.useRef(z)},St.useState=function(z){return R.H.useState(z)},St.useSyncExternalStore=function(z,Z,lt){return R.H.useSyncExternalStore(z,Z,lt)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.4",St}var rv;function kg(){return rv||(rv=1,Om.exports=bx()),Om.exports}var X=kg(),Im={exports:{}},Hl={},Vm={exports:{}},Nm={};var ov;function Ex(){return ov||(ov=1,(function(n){function t(Q,at){var gt=Q.length;Q.push(at);t:for(;0<gt;){var Dt=gt-1>>>1,It=Q[Dt];if(0<r(It,at))Q[Dt]=at,Q[gt]=It,gt=Dt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var at=Q[0],gt=Q.pop();if(gt!==at){Q[0]=gt;t:for(var Dt=0,It=Q.length,z=It>>>1;Dt<z;){var Z=2*(Dt+1)-1,lt=Q[Z],ut=Z+1,_t=Q[ut];if(0>r(lt,gt))ut<It&&0>r(_t,lt)?(Q[Dt]=_t,Q[ut]=gt,Dt=ut):(Q[Dt]=lt,Q[Z]=gt,Dt=Z);else if(ut<It&&0>r(_t,gt))Q[Dt]=_t,Q[ut]=gt,Dt=ut;else break t}}return at}function r(Q,at){var gt=Q.sortIndex-at.sortIndex;return gt!==0?gt:Q.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],g=[],y=1,v=null,T=3,A=!1,O=!1,D=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function st(Q){for(var at=e(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=Q)s(g),at.sortIndex=at.expirationTime,t(d,at);else break;at=e(g)}}function it(Q){if(D=!1,st(Q),!O)if(e(d)!==null)O=!0,rt||(rt=!0,L());else{var at=e(g);at!==null&&Rt(it,at.startTime-Q)}}var rt=!1,R=-1,w=5,C=-1;function k(){return M?!0:!(n.unstable_now()-C<w)}function V(){if(M=!1,rt){var Q=n.unstable_now();C=Q;var at=!0;try{t:{O=!1,D&&(D=!1,j(R),R=-1),A=!0;var gt=T;try{e:{for(st(Q),v=e(d);v!==null&&!(v.expirationTime>Q&&k());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,T=v.priorityLevel;var It=Dt(v.expirationTime<=Q);if(Q=n.unstable_now(),typeof It=="function"){v.callback=It,st(Q),at=!0;break e}v===e(d)&&s(d),st(Q)}else s(d);v=e(d)}if(v!==null)at=!0;else{var z=e(g);z!==null&&Rt(it,z.startTime-Q),at=!1}}break t}finally{v=null,T=gt,A=!1}at=void 0}}finally{at?L():rt=!1}}}var L;if(typeof $=="function")L=function(){$(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,zt=I.port2;I.port1.onmessage=V,L=function(){zt.postMessage(null)}}else L=function(){B(V,0)};function Rt(Q,at){R=B(function(){Q(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var at=3;break;default:at=T}var gt=T;T=at;try{return Q()}finally{T=gt}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var gt=T;T=Q;try{return at()}finally{T=gt}},n.unstable_scheduleCallback=function(Q,at,gt){var Dt=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Dt+gt:Dt):gt=Dt,Q){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=gt+It,Q={id:y++,callback:at,priorityLevel:Q,startTime:gt,expirationTime:It,sortIndex:-1},gt>Dt?(Q.sortIndex=gt,t(g,Q),e(d)===null&&Q===e(g)&&(D?(j(R),R=-1):D=!0,Rt(it,gt-Dt))):(Q.sortIndex=It,t(d,Q),O||A||(O=!0,rt||(rt=!0,L()))),Q},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(Q){var at=T;return function(){var gt=T;T=at;try{return Q.apply(this,arguments)}finally{T=gt}}}})(Nm)),Nm}var lv;function Tx(){return lv||(lv=1,Vm.exports=Ex()),Vm.exports}var km={exports:{}},tn={};var uv;function Sx(){if(uv)return tn;uv=1;var n=kg();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(d,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:d,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(d,g,null,y)},tn.flushSync=function(d){var g=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=g,s.p=y,s.d.f()}},tn.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},tn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},tn.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:A}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},tn.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=h(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},tn.requestFormReset=function(d){s.d.r(d)},tn.unstable_batchedUpdates=function(d,g){return d(g)},tn.useFormState=function(d,g,y){return u.H.useFormState(d,g,y)},tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var cv;function Ax(){if(cv)return km.exports;cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),km.exports=Sx(),km.exports}var hv;function xx(){if(hv)return Hl;hv=1;var n=Tx(),t=kg(),e=Ax();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function g(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(s(188));return a!==i?null:i}for(var o=i,c=a;;){var m=o.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===o)return d(m),i;if(p===c)return d(m),a;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=p;else{for(var b=!1,S=m.child;S;){if(S===o){b=!0,o=m,c=p;break}if(S===c){b=!0,c=m,o=p;break}S=S.sibling}if(!b){for(S=p.child;S;){if(S===o){b=!0,o=p,c=m;break}if(S===c){b=!0,c=p,o=m;break}S=S.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:a}function y(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=y(i),a!==null)return a;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),$=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function zt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case B:return"Profiler";case M:return"StrictMode";case it:return"Suspense";case rt:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case $:return i.displayName||"Context";case j:return(i._context.displayName||"Context")+".Consumer";case st:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return a=i.displayName||null,a!==null?a:zt(i.type)||"Memo";case w:a=i._payload,i=i._init;try{return zt(i(a))}catch{}}return null}var Rt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Dt=[],It=-1;function z(i){return{current:i}}function Z(i){0>It||(i.current=Dt[It],Dt[It]=null,It--)}function lt(i,a){It++,Dt[It]=i.current,i.current=a}var ut=z(null),_t=z(null),bt=z(null),Bt=z(null);function ke(i,a){switch(lt(bt,a),lt(_t,i),lt(ut,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?w0(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=w0(a),i=R0(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(ut),lt(ut,i)}function ce(){Z(ut),Z(_t),Z(bt)}function ya(i){i.memoizedState!==null&&lt(Bt,i);var a=ut.current,o=R0(a,i.type);a!==o&&(lt(_t,i),lt(ut,o))}function pr(i){_t.current===i&&(Z(ut),Z(_t)),Bt.current===i&&(Z(Bt),zl._currentValue=gt)}var yr,_r;function mi(i){if(yr===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);yr=a&&a[1]||"",_r=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yr+i+_r}var zo=!1;function _a(i,a){if(!i||zo)return"";zo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var G=K}Reflect.construct(i,[],tt)}else{try{tt.call()}catch(K){G=K}i.call(tt.prototype)}}else{try{throw Error()}catch(K){G=K}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],S=p[1];if(b&&S){var N=b.split(`
`),q=S.split(`
`);for(m=c=0;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(c===N.length||m===q.length)for(c=N.length-1,m=q.length-1;1<=c&&0<=m&&N[c]!==q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(N[c]!==q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||N[c]!==q[m]){var W=`
`+N[c].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=c&&0<=m);break}}}finally{zo=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?mi(o):""}function Po(i,a){switch(i.tag){case 26:case 27:case 5:return mi(i.type);case 16:return mi("Lazy");case 13:return i.child!==a&&a!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return _a(i.type,!1);case 11:return _a(i.type.render,!1);case 1:return _a(i.type,!0);case 31:return mi("Activity");default:return""}}function Bo(i){try{var a="",o=null;do a+=Po(i,o),o=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Se=Object.prototype.hasOwnProperty,Le=n.unstable_scheduleCallback,bs=n.unstable_cancelCallback,If=n.unstable_shouldYield,zu=n.unstable_requestPaint,ln=n.unstable_now,va=n.unstable_getCurrentPriorityLevel,Uo=n.unstable_ImmediatePriority,jo=n.unstable_UserBlockingPriority,Es=n.unstable_NormalPriority,Vf=n.unstable_LowPriority,Pu=n.unstable_IdlePriority,Bu=n.log,Uu=n.unstable_setDisableYieldValue,$n=null,Ge=null;function Mn(i){if(typeof Bu=="function"&&Uu(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode($n,i)}catch{}}var ye=Math.clz32?Math.clz32:Hu,ju=Math.log,vr=Math.LN2;function Hu(i){return i>>>=0,i===0?32:31-(ju(i)/vr|0)|0}var gi=256,ba=262144,Ae=4194304;function pi(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yi(i,a,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,p=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~p,c!==0?m=pi(c):(b&=S,b!==0?m=pi(b):o||(o=S&~i,o!==0&&(m=pi(o))))):(S=c&~p,S!==0?m=pi(S):b!==0?m=pi(b):o||(o=c&~i,o!==0&&(m=pi(o)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:m}function Wn(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Nf(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fu(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function _i(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function Ea(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function kf(i,a,o,c,m,p){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,N=i.expirationTimes,q=i.hiddenUpdates;for(o=b&~o;0<o;){var W=31-ye(o),tt=1<<W;S[W]=0,N[W]=-1;var G=q[W];if(G!==null)for(q[W]=null,W=0;W<G.length;W++){var K=G[W];K!==null&&(K.lane&=-536870913)}o&=~tt}c!==0&&Ta(i,c,0),p!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=p&~(b&~a))}function Ta(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-ye(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Ho(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var c=31-ye(o),m=1<<c;m&a|i[c]&a&&(i[c]|=a),o&=~m}}function Fo(i,a){var o=a&-a;return o=(o&42)!==0?1:Sa(o),(o&(i.suspendedLanes|a))!==0?0:o}function Sa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function qi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qu(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:$0(i.type))}function Zn(i,a){var o=at.p;try{return at.p=i,a()}finally{at.p=o}}var Jn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Jn,je="__reactProps$"+Jn,vi="__reactContainer$"+Jn,br="__reactEvents$"+Jn,Lf="__reactListeners$"+Jn,Gu="__reactHandles$"+Jn,Yu="__reactResources$"+Jn,bi="__reactMarker$"+Jn;function Er(i){delete i[xe],delete i[je],delete i[br],delete i[Lf],delete i[Gu]}function Ei(i){var a=i[xe];if(a)return a;for(var o=i.parentNode;o;){if(a=o[vi]||o[xe]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=N0(i);i!==null;){if(o=i[xe])return o;i=N0(i)}return a}i=o,o=i.parentNode}return null}function On(i){if(i=i[xe]||i[vi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function En(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function Ti(i){var a=i[Yu];return a||(a=i[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function we(i){i[bi]=!0}var qo=new Set,Go={};function Si(i,a){Ai(i,a),Ai(i+"Capture",a)}function Ai(i,a){for(Go[i]=a,i=0;i<a.length;i++)qo.add(a[i])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Ko={};function Qu(i){return Se.call(Ko,i)?!0:Se.call(Qo,i)?!1:Yo.test(i)?Ko[i]=!0:(Qo[i]=!0,!1)}function Tr(i,a,o){if(Qu(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function Tn(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function Re(i,a,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+c)}}function He(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ts(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xo(i,a,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,p=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Xt(i){if(!i._valueTracker){var a=Ts(i)?"checked":"value";i._valueTracker=Xo(i,a,""+i[a])}}function Aa(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return i&&(c=Ts(i)?i.checked?"true":"false":i.value),i=c,i!==o?(a.setValue(i),!0):!1}function xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xa=/[\n"\\]/g;function hn(i){return i.replace(xa,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Sr(i,a,o,c,m,p,b,S){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),a!=null?b==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+He(a)):i.value!==""+He(a)&&(i.value=""+He(a)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),a!=null?$o(i,b,He(a)):o!=null?$o(i,b,He(o)):c!=null&&i.removeAttribute("value"),m==null&&p!=null&&(i.defaultChecked=!!p),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+He(S):i.removeAttribute("name")}function Ku(i,a,o,c,m,p,b,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Xt(i);return}o=o!=null?""+He(o):"",a=a!=null?""+He(a):o,S||a===i.value||(i.value=a),i.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Xt(i)}function $o(i,a,o){a==="number"&&xi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ss(i,a,o,c){if(i=i.options,a){a={};for(var m=0;m<o.length;m++)a["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=a.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+He(o),a=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function Xu(i,a,o){if(a!=null&&(a=""+He(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+He(o):""}function As(i,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(s(92));if(Rt(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=He(a),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Xt(i)}function fn(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var $u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(i,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,o):typeof o!="number"||o===0||$u.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function Zo(i,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&o[m]!==c&&Wo(i,m,c)}else for(var p in a)a.hasOwnProperty(p)&&Wo(i,p,a[p])}function Ar(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(i){return xs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ti(){}var Jo=null;function In(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ws=null,wi=null;function wa(i){var a=On(i);if(a&&(i=a.stateNode)){var o=i[je]||null;t:switch(i=a.stateNode,a.type){case"input":if(Sr(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+hn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==i&&c.form===i.form){var m=c[je]||null;if(!m)throw Error(s(90));Sr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===i.form&&Aa(c)}break t;case"textarea":Xu(i,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&Ss(i,!!o.multiple,a,!1)}}}var wr=!1;function Rs(i,a,o){if(wr)return i(a,o);wr=!0;try{var c=i(a);return c}finally{if(wr=!1,(ws!==null||wi!==null)&&(qc(),ws&&(a=ws,i=wi,wi=ws=null,wa(a),i)))for(a=0;a<i.length;a++)wa(i[a])}}function ei(i,a){var o=i.stateNode;if(o===null)return null;var c=o[je]||null;if(c===null)return null;o=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=!1;if(Vn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Ra=!1}var Ri=null,tl=null,Ca=null;function el(){if(Ca)return Ca;var i,a=tl,o=a.length,c,m="value"in Ri?Ri.value:Ri.textContent,p=m.length;for(i=0;i<o&&a[i]===m[i];i++);var b=o-i;for(c=1;c<=b&&a[o-c]===m[p-c];c++);return Ca=m.slice(i,1<c?1-c:void 0)}function Da(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Gi(){return!0}function ni(){return!1}function Ye(i){function a(o,c,m,p,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Gi:ni,this.isPropagationStopped=ni,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),a}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ye(Yi),Cs=v({},Yi,{view:0,detail:0}),nl=Ye(Cs),Ds,Rr,Di,Cr=v({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Di&&(Di&&i.type==="mousemove"?(Ds=i.screenX-Di.screenX,Rr=i.screenY-Di.screenY):Rr=Ds=0,Di=i),Ds)},movementY:function(i){return"movementY"in i?i.movementY:Rr}}),il=Ye(Cr),Ma=v({},Cr,{dataTransfer:0}),Zu=Ye(Ma),Ju=v({},Cs,{relatedTarget:0}),Oa=Ye(Ju),sl=v({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),tc=Ye(sl),Dr=v({},Yi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ec=Ye(Dr),nc=v({},Yi,{data:0}),Mi=Ye(nc),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ac[i])?!!a[i]:!1}function Ms(){return rc}var un=v({},Cs,{key:function(i){if(i.key){var a=ic[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Da(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(i){return i.type==="keypress"?Da(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Da(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),oc=Ye(un),lc=v({},Cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ye(lc),f=v({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),_=Ye(f),E=v({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Ye(E),H=v({},Cr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ye(H),ot=v({},Yi,{newState:0,oldState:0}),xt=Ye(ot),_e=[9,13,27,32],Gt=Vn&&"CompositionEvent"in window,he=null;Vn&&"documentMode"in document&&(he=document.documentMode);var Nn=Vn&&"TextEvent"in window&&!he,Oi=Vn&&(!Gt||he&&8<he&&11>=he),ii=" ",si=!1;function Ia(i,a){switch(i){case"keyup":return _e.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mr(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Or=!1;function HS(i,a){switch(i){case"compositionend":return Mr(a);case"keypress":return a.which!==32?null:(si=!0,ii);case"textInput":return i=a.data,i===ii&&si?null:i;default:return null}}function FS(i,a){if(Or)return i==="compositionend"||!Gt&&Ia(i,a)?(i=el(),Ca=tl=Ri=null,Or=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Oi&&a.locale!=="ko"?null:a.data;default:return null}}var qS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!qS[i.type]:a==="textarea"}function Pp(i,a,o,c){ws?wi?wi.push(c):wi=[c]:ws=c,a=Wc(a,"onChange"),0<a.length&&(o=new Ci("onChange","change",null,o,c),i.push({event:o,listeners:a}))}var al=null,rl=null;function GS(i){b0(i,0)}function uc(i){var a=En(i);if(Aa(a))return i}function Bp(i,a){if(i==="change")return a}var Up=!1;if(Vn){var zf;if(Vn){var Pf="oninput"in document;if(!Pf){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),Pf=typeof jp.oninput=="function"}zf=Pf}else zf=!1;Up=zf&&(!document.documentMode||9<document.documentMode)}function Hp(){al&&(al.detachEvent("onpropertychange",Fp),rl=al=null)}function Fp(i){if(i.propertyName==="value"&&uc(rl)){var a=[];Pp(a,rl,i,In(i)),Rs(GS,a)}}function YS(i,a,o){i==="focusin"?(Hp(),al=a,rl=o,al.attachEvent("onpropertychange",Fp)):i==="focusout"&&Hp()}function QS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uc(rl)}function KS(i,a){if(i==="click")return uc(a)}function XS(i,a){if(i==="input"||i==="change")return uc(a)}function $S(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Sn=typeof Object.is=="function"?Object.is:$S;function ol(i,a){if(Sn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Se.call(a,m)||!Sn(i[m],a[m]))return!1}return!0}function qp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Gp(i,a){var o=qp(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=a&&c>=a)return{node:o,offset:a-i};i=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=qp(o)}}function Yp(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Yp(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Qp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=xi(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=xi(i.document)}return a}function Bf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var WS=Vn&&"documentMode"in document&&11>=document.documentMode,Ir=null,Uf=null,ll=null,jf=!1;function Kp(i,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jf||Ir==null||Ir!==xi(c)||(c=Ir,"selectionStart"in c&&Bf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ll&&ol(ll,c)||(ll=c,c=Wc(Uf,"onSelect"),0<c.length&&(a=new Ci("onSelect","select",null,a,o),i.push({event:a,listeners:c}),a.target=Ir)))}function Va(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var Vr={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Hf={},Xp={};Vn&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Na(i){if(Hf[i])return Hf[i];if(!Vr[i])return i;var a=Vr[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in Xp)return Hf[i]=a[o];return i}var $p=Na("animationend"),Wp=Na("animationiteration"),Zp=Na("animationstart"),ZS=Na("transitionrun"),JS=Na("transitionstart"),tA=Na("transitioncancel"),Jp=Na("transitionend"),ty=new Map,Ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ff.push("scrollEnd");function ai(i,a){ty.set(i,a),Si(a,[i])}var cc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},kn=[],Nr=0,qf=0;function hc(){for(var i=Nr,a=qf=Nr=0;a<i;){var o=kn[a];kn[a++]=null;var c=kn[a];kn[a++]=null;var m=kn[a];kn[a++]=null;var p=kn[a];if(kn[a++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}p!==0&&ey(o,m,p)}}function fc(i,a,o,c){kn[Nr++]=i,kn[Nr++]=a,kn[Nr++]=o,kn[Nr++]=c,qf|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Gf(i,a,o,c){return fc(i,a,o,c),dc(i)}function ka(i,a){return fc(i,null,null,a),dc(i)}function ey(i,a,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(m=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,m&&a!==null&&(m=31-ye(o),i=p.hiddenUpdates,c=i[m],c===null?i[m]=[a]:c.push(a),a.lane=o|536870912),p):null}function dc(i){if(50<Ml)throw Ml=0,tm=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var kr={};function eA(i,a,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,a,o,c){return new eA(i,a,o,c)}function Yf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ki(i,a){var o=i.alternate;return o===null?(o=An(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function ny(i,a){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function mc(i,a,o,c,m,p){var b=0;if(c=i,typeof i=="function")Yf(i)&&(b=1);else if(typeof i=="string")b=rx(i,o,ut.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=An(31,o,a,m),i.elementType=C,i.lanes=p,i;case D:return La(o.children,m,p,a);case M:b=8,m|=24;break;case B:return i=An(12,o,a,m|2),i.elementType=B,i.lanes=p,i;case it:return i=An(13,o,a,m),i.elementType=it,i.lanes=p,i;case rt:return i=An(19,o,a,m),i.elementType=rt,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:b=10;break t;case j:b=9;break t;case st:b=11;break t;case R:b=14;break t;case w:b=16,c=null;break t}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return a=An(b,o,a,m),a.elementType=i,a.type=c,a.lanes=p,a}function La(i,a,o,c){return i=An(7,i,c,a),i.lanes=o,i}function Qf(i,a,o){return i=An(6,i,null,a),i.lanes=o,i}function iy(i){var a=An(18,null,null,0);return a.stateNode=i,a}function Kf(i,a,o){return a=An(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var sy=new WeakMap;function Ln(i,a){if(typeof i=="object"&&i!==null){var o=sy.get(i);return o!==void 0?o:(a={value:i,source:a,stack:Bo(a)},sy.set(i,a),a)}return{value:i,source:a,stack:Bo(a)}}var Lr=[],zr=0,gc=null,ul=0,zn=[],Pn=0,Os=null,Ii=1,Vi="";function Xi(i,a){Lr[zr++]=ul,Lr[zr++]=gc,gc=i,ul=a}function ay(i,a,o){zn[Pn++]=Ii,zn[Pn++]=Vi,zn[Pn++]=Os,Os=i;var c=Ii;i=Vi;var m=32-ye(c)-1;c&=~(1<<m),o+=1;var p=32-ye(a)+m;if(30<p){var b=m-m%5;p=(c&(1<<b)-1).toString(32),c>>=b,m-=b,Ii=1<<32-ye(a)+m|o<<m|c,Vi=p+i}else Ii=1<<p|o<<m|c,Vi=i}function Xf(i){i.return!==null&&(Xi(i,1),ay(i,1,0))}function $f(i){for(;i===gc;)gc=Lr[--zr],Lr[zr]=null,ul=Lr[--zr],Lr[zr]=null;for(;i===Os;)Os=zn[--Pn],zn[Pn]=null,Vi=zn[--Pn],zn[Pn]=null,Ii=zn[--Pn],zn[Pn]=null}function ry(i,a){zn[Pn++]=Ii,zn[Pn++]=Vi,zn[Pn++]=Os,Ii=a.id,Vi=a.overflow,Os=i}var Qe=null,re=null,Pt=!1,Is=null,Bn=!1,Wf=Error(s(519));function Vs(i){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Ln(a,i)),Wf}function oy(i){var a=i.stateNode,o=i.type,c=i.memoizedProps;switch(a[xe]=i,a[je]=c,o){case"dialog":Ot("cancel",a),Ot("close",a);break;case"iframe":case"object":case"embed":Ot("load",a);break;case"video":case"audio":for(o=0;o<Il.length;o++)Ot(Il[o],a);break;case"source":Ot("error",a);break;case"img":case"image":case"link":Ot("error",a),Ot("load",a);break;case"details":Ot("toggle",a);break;case"input":Ot("invalid",a),Ku(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ot("invalid",a);break;case"textarea":Ot("invalid",a),As(a,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||A0(a.textContent,o)?(c.popover!=null&&(Ot("beforetoggle",a),Ot("toggle",a)),c.onScroll!=null&&Ot("scroll",a),c.onScrollEnd!=null&&Ot("scrollend",a),c.onClick!=null&&(a.onclick=ti),a=!0):a=!1,a||Vs(i,!0)}function ly(i){for(Qe=i.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Qe=Qe.return}}function Pr(i){if(i!==Qe)return!1;if(!Pt)return ly(i),Pt=!0,!1;var a=i.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||gm(i.type,i.memoizedProps)),o=!o),o&&re&&Vs(i),ly(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));re=V0(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));re=V0(i)}else a===27?(a=re,Qs(i.type)?(i=bm,bm=null,re=i):re=a):re=Qe?jn(i.stateNode.nextSibling):null;return!0}function za(){re=Qe=null,Pt=!1}function Zf(){var i=Is;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),Is=null),i}function cl(i){Is===null?Is=[i]:Is.push(i)}var Jf=z(null),Pa=null,$i=null;function Ns(i,a,o){lt(Jf,a._currentValue),a._currentValue=o}function Wi(i){i._currentValue=Jf.current,Z(Jf)}function td(i,a,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===o)break;i=i.return}}function ed(i,a,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var p=m.dependencies;if(p!==null){var b=m.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=m;for(var N=0;N<a.length;N++)if(S.context===a[N]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),td(p.return,o,i),c||(b=null);break t}p=S.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),td(b,o,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Br(i,a,o,c){i=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var S=m.type;Sn(m.pendingProps.value,b.value)||(i!==null?i.push(S):i=[S])}}else if(m===Bt.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(zl):i=[zl])}m=m.return}i!==null&&ed(a,i,o,c),a.flags|=262144}function pc(i){for(i=i.firstContext;i!==null;){if(!Sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ba(i){Pa=i,$i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ke(i){return uy(Pa,i)}function yc(i,a){return Pa===null&&Ba(i),uy(i,a)}function uy(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},$i===null){if(i===null)throw Error(s(308));$i=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else $i=$i.next=a;return o}var nA=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},iA=n.unstable_scheduleCallback,sA=n.unstable_NormalPriority,Ce={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new nA,data:new Map,refCount:0}}function hl(i){i.refCount--,i.refCount===0&&iA(sA,function(){i.controller.abort()})}var fl=null,id=0,Ur=0,jr=null;function aA(i,a){if(fl===null){var o=fl=[];id=0,Ur=rm(),jr={status:"pending",value:void 0,then:function(c){o.push(c)}}}return id++,a.then(cy,cy),a}function cy(){if(--id===0&&fl!==null){jr!==null&&(jr.status="fulfilled");var i=fl;fl=null,Ur=0,jr=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function rA(i,a){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<o.length;m++)(0,o[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var hy=Q.S;Q.S=function(i,a){K_=ln(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&aA(i,a),hy!==null&&hy(i,a)};var Ua=z(null);function sd(){var i=Ua.current;return i!==null?i:ie.pooledCache}function _c(i,a){a===null?lt(Ua,Ua.current):lt(Ua,a.pool)}function fy(){var i=sd();return i===null?null:{parent:Ce._currentValue,pool:i}}var Hr=Error(s(460)),ad=Error(s(474)),vc=Error(s(542)),bc={then:function(){}};function dy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function my(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then(ti,ti),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,py(i),i;default:if(typeof a.status=="string")a.then(ti,ti);else{if(i=ie,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,py(i),i}throw Ha=a,Hr}}function ja(i){try{var a=i._init;return a(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ha=o,Hr):o}}var Ha=null;function gy(){if(Ha===null)throw Error(s(459));var i=Ha;return Ha=null,i}function py(i){if(i===Hr||i===vc)throw Error(s(483))}var Fr=null,dl=0;function Ec(i){var a=dl;return dl+=1,Fr===null&&(Fr=[]),my(Fr,i,a)}function ml(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Tc(i,a){throw a.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function yy(i){function a(U,P){if(i){var F=U.deletions;F===null?(U.deletions=[P],U.flags|=16):F.push(P)}}function o(U,P){if(!i)return null;for(;P!==null;)a(U,P),P=P.sibling;return null}function c(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function m(U,P){return U=Ki(U,P),U.index=0,U.sibling=null,U}function p(U,P,F){return U.index=F,i?(F=U.alternate,F!==null?(F=F.index,F<P?(U.flags|=67108866,P):F):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function b(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function S(U,P,F,J){return P===null||P.tag!==6?(P=Qf(F,U.mode,J),P.return=U,P):(P=m(P,F),P.return=U,P)}function N(U,P,F,J){var pt=F.type;return pt===D?W(U,P,F.props.children,J,F.key):P!==null&&(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&ja(pt)===P.type)?(P=m(P,F.props),ml(P,F),P.return=U,P):(P=mc(F.type,F.key,F.props,null,U.mode,J),ml(P,F),P.return=U,P)}function q(U,P,F,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=Kf(F,U.mode,J),P.return=U,P):(P=m(P,F.children||[]),P.return=U,P)}function W(U,P,F,J,pt){return P===null||P.tag!==7?(P=La(F,U.mode,J,pt),P.return=U,P):(P=m(P,F),P.return=U,P)}function tt(U,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Qf(""+P,U.mode,F),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return F=mc(P.type,P.key,P.props,null,U.mode,F),ml(F,P),F.return=U,F;case O:return P=Kf(P,U.mode,F),P.return=U,P;case w:return P=ja(P),tt(U,P,F)}if(Rt(P)||L(P))return P=La(P,U.mode,F,null),P.return=U,P;if(typeof P.then=="function")return tt(U,Ec(P),F);if(P.$$typeof===$)return tt(U,yc(U,P),F);Tc(U,P)}return null}function G(U,P,F,J){var pt=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pt!==null?null:S(U,P,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===pt?N(U,P,F,J):null;case O:return F.key===pt?q(U,P,F,J):null;case w:return F=ja(F),G(U,P,F,J)}if(Rt(F)||L(F))return pt!==null?null:W(U,P,F,J,null);if(typeof F.then=="function")return G(U,P,Ec(F),J);if(F.$$typeof===$)return G(U,P,yc(U,F),J);Tc(U,F)}return null}function K(U,P,F,J,pt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(F)||null,S(P,U,""+J,pt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return U=U.get(J.key===null?F:J.key)||null,N(P,U,J,pt);case O:return U=U.get(J.key===null?F:J.key)||null,q(P,U,J,pt);case w:return J=ja(J),K(U,P,F,J,pt)}if(Rt(J)||L(J))return U=U.get(F)||null,W(P,U,J,pt,null);if(typeof J.then=="function")return K(U,P,F,Ec(J),pt);if(J.$$typeof===$)return K(U,P,F,yc(P,J),pt);Tc(P,J)}return null}function dt(U,P,F,J){for(var pt=null,Ht=null,mt=P,Ct=P=0,Nt=null;mt!==null&&Ct<F.length;Ct++){mt.index>Ct?(Nt=mt,mt=null):Nt=mt.sibling;var Ft=G(U,mt,F[Ct],J);if(Ft===null){mt===null&&(mt=Nt);break}i&&mt&&Ft.alternate===null&&a(U,mt),P=p(Ft,P,Ct),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft,mt=Nt}if(Ct===F.length)return o(U,mt),Pt&&Xi(U,Ct),pt;if(mt===null){for(;Ct<F.length;Ct++)mt=tt(U,F[Ct],J),mt!==null&&(P=p(mt,P,Ct),Ht===null?pt=mt:Ht.sibling=mt,Ht=mt);return Pt&&Xi(U,Ct),pt}for(mt=c(mt);Ct<F.length;Ct++)Nt=K(mt,U,Ct,F[Ct],J),Nt!==null&&(i&&Nt.alternate!==null&&mt.delete(Nt.key===null?Ct:Nt.key),P=p(Nt,P,Ct),Ht===null?pt=Nt:Ht.sibling=Nt,Ht=Nt);return i&&mt.forEach(function(Zs){return a(U,Zs)}),Pt&&Xi(U,Ct),pt}function vt(U,P,F,J){if(F==null)throw Error(s(151));for(var pt=null,Ht=null,mt=P,Ct=P=0,Nt=null,Ft=F.next();mt!==null&&!Ft.done;Ct++,Ft=F.next()){mt.index>Ct?(Nt=mt,mt=null):Nt=mt.sibling;var Zs=G(U,mt,Ft.value,J);if(Zs===null){mt===null&&(mt=Nt);break}i&&mt&&Zs.alternate===null&&a(U,mt),P=p(Zs,P,Ct),Ht===null?pt=Zs:Ht.sibling=Zs,Ht=Zs,mt=Nt}if(Ft.done)return o(U,mt),Pt&&Xi(U,Ct),pt;if(mt===null){for(;!Ft.done;Ct++,Ft=F.next())Ft=tt(U,Ft.value,J),Ft!==null&&(P=p(Ft,P,Ct),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft);return Pt&&Xi(U,Ct),pt}for(mt=c(mt);!Ft.done;Ct++,Ft=F.next())Ft=K(mt,U,Ct,Ft.value,J),Ft!==null&&(i&&Ft.alternate!==null&&mt.delete(Ft.key===null?Ct:Ft.key),P=p(Ft,P,Ct),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft);return i&&mt.forEach(function(yx){return a(U,yx)}),Pt&&Xi(U,Ct),pt}function ne(U,P,F,J){if(typeof F=="object"&&F!==null&&F.type===D&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:t:{for(var pt=F.key;P!==null;){if(P.key===pt){if(pt=F.type,pt===D){if(P.tag===7){o(U,P.sibling),J=m(P,F.props.children),J.return=U,U=J;break t}}else if(P.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&ja(pt)===P.type){o(U,P.sibling),J=m(P,F.props),ml(J,F),J.return=U,U=J;break t}o(U,P);break}else a(U,P);P=P.sibling}F.type===D?(J=La(F.props.children,U.mode,J,F.key),J.return=U,U=J):(J=mc(F.type,F.key,F.props,null,U.mode,J),ml(J,F),J.return=U,U=J)}return b(U);case O:t:{for(pt=F.key;P!==null;){if(P.key===pt)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){o(U,P.sibling),J=m(P,F.children||[]),J.return=U,U=J;break t}else{o(U,P);break}else a(U,P);P=P.sibling}J=Kf(F,U.mode,J),J.return=U,U=J}return b(U);case w:return F=ja(F),ne(U,P,F,J)}if(Rt(F))return dt(U,P,F,J);if(L(F)){if(pt=L(F),typeof pt!="function")throw Error(s(150));return F=pt.call(F),vt(U,P,F,J)}if(typeof F.then=="function")return ne(U,P,Ec(F),J);if(F.$$typeof===$)return ne(U,P,yc(U,F),J);Tc(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(o(U,P.sibling),J=m(P,F),J.return=U,U=J):(o(U,P),J=Qf(F,U.mode,J),J.return=U,U=J),b(U)):o(U,P)}return function(U,P,F,J){try{dl=0;var pt=ne(U,P,F,J);return Fr=null,pt}catch(mt){if(mt===Hr||mt===vc)throw mt;var Ht=An(29,mt,null,U.mode);return Ht.lanes=J,Ht.return=U,Ht}}}var Fa=yy(!0),_y=yy(!1),ks=!1;function rd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ls(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zs(i,a,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Yt&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=dc(i),ey(i,null,o),a}return fc(i,c,a,o),dc(i)}function gl(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,Ho(i,o)}}function ld(i,a){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?m=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?m=p=a:p=p.next=a}else m=p=a;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var ud=!1;function pl(){if(ud){var i=jr;if(i!==null)throw i}}function yl(i,a,o,c){ud=!1;var m=i.updateQueue;ks=!1;var p=m.firstBaseUpdate,b=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var N=S,q=N.next;N.next=null,b===null?p=q:b.next=q,b=N;var W=i.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==b&&(S===null?W.firstBaseUpdate=q:S.next=q,W.lastBaseUpdate=N))}if(p!==null){var tt=m.baseState;b=0,W=q=N=null,S=p;do{var G=S.lane&-536870913,K=G!==S.lane;if(K?(Vt&G)===G:(c&G)===G){G!==0&&G===Ur&&(ud=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=i,vt=S;G=a;var ne=o;switch(vt.tag){case 1:if(dt=vt.payload,typeof dt=="function"){tt=dt.call(ne,tt,G);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=vt.payload,G=typeof dt=="function"?dt.call(ne,tt,G):dt,G==null)break t;tt=v({},tt,G);break t;case 2:ks=!0}}G=S.callback,G!==null&&(i.flags|=64,K&&(i.flags|=8192),K=m.callbacks,K===null?m.callbacks=[G]:K.push(G))}else K={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(q=W=K,N=tt):W=W.next=K,b|=G;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;K=S,S=K.next,K.next=null,m.lastBaseUpdate=K,m.shared.pending=null}}while(!0);W===null&&(N=tt),m.baseState=N,m.firstBaseUpdate=q,m.lastBaseUpdate=W,p===null&&(m.shared.lanes=0),Hs|=b,i.lanes=b,i.memoizedState=tt}}function vy(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function by(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)vy(o[i],a)}var qr=z(null),Sc=z(0);function Ey(i,a){i=rs,lt(Sc,i),lt(qr,a),rs=i|a.baseLanes}function cd(){lt(Sc,rs),lt(qr,qr.current)}function hd(){rs=Sc.current,Z(qr),Z(Sc)}var xn=z(null),Un=null;function Ps(i){var a=i.alternate;lt(ve,ve.current&1),lt(xn,i),Un===null&&(a===null||qr.current!==null||a.memoizedState!==null)&&(Un=i)}function fd(i){lt(ve,ve.current),lt(xn,i),Un===null&&(Un=i)}function Ty(i){i.tag===22?(lt(ve,ve.current),lt(xn,i),Un===null&&(Un=i)):Bs()}function Bs(){lt(ve,ve.current),lt(xn,xn.current)}function wn(i){Z(xn),Un===i&&(Un=null),Z(ve)}var ve=z(0);function Ac(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||_m(o)||vm(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Zi=0,wt=null,te=null,De=null,xc=!1,Gr=!1,qa=!1,wc=0,_l=0,Yr=null,oA=0;function ge(){throw Error(s(321))}function dd(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!Sn(i[o],a[o]))return!1;return!0}function md(i,a,o,c,m,p){return Zi=p,wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=i===null||i.memoizedState===null?a_:Dd,qa=!1,p=o(c,m),qa=!1,Gr&&(p=Ay(a,o,c,m)),Sy(i),p}function Sy(i){Q.H=El;var a=te!==null&&te.next!==null;if(Zi=0,De=te=wt=null,xc=!1,_l=0,Yr=null,a)throw Error(s(300));i===null||Me||(i=i.dependencies,i!==null&&pc(i)&&(Me=!0))}function Ay(i,a,o,c){wt=i;var m=0;do{if(Gr&&(Yr=null),_l=0,Gr=!1,25<=m)throw Error(s(301));if(m+=1,De=te=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=r_,p=a(o,c)}while(Gr);return p}function lA(){var i=Q.H,a=i.useState()[0];return a=typeof a.then=="function"?vl(a):a,i=i.useState()[0],(te!==null?te.memoizedState:null)!==i&&(wt.flags|=1024),a}function gd(){var i=wc!==0;return wc=0,i}function pd(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function yd(i){if(xc){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}xc=!1}Zi=0,De=te=wt=null,Gr=!1,_l=wc=0,Yr=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?wt.memoizedState=De=i:De=De.next=i,De}function be(){if(te===null){var i=wt.alternate;i=i!==null?i.memoizedState:null}else i=te.next;var a=De===null?wt.memoizedState:De.next;if(a!==null)De=a,te=i;else{if(i===null)throw wt.alternate===null?Error(s(467)):Error(s(310));te=i,i={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},De===null?wt.memoizedState=De=i:De=De.next=i}return De}function Rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(i){var a=_l;return _l+=1,Yr===null&&(Yr=[]),i=my(Yr,i,a),a=wt,(De===null?a.memoizedState:De.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?a_:Dd),i}function Cc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return vl(i);if(i.$$typeof===$)return Ke(i)}throw Error(s(438,String(i)))}function _d(i){var a=null,o=wt.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=wt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Rc(),wt.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),c=0;c<i;c++)o[c]=k;return a.index++,o}function Ji(i,a){return typeof a=="function"?a(i):a}function Dc(i){var a=be();return vd(a,te,i)}function vd(i,a,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,p=c.pending;if(p!==null){if(m!==null){var b=m.next;m.next=p.next,p.next=b}a.baseQueue=m=p,c.pending=null}if(p=i.baseState,m===null)i.memoizedState=p;else{a=m.next;var S=b=null,N=null,q=a,W=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Vt&tt)===tt:(Zi&tt)===tt){var G=q.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===Ur&&(W=!0);else if((Zi&G)===G){q=q.next,G===Ur&&(W=!0);continue}else tt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=tt,b=p):N=N.next=tt,wt.lanes|=G,Hs|=G;tt=q.action,qa&&o(p,tt),p=q.hasEagerState?q.eagerState:o(p,tt)}else G={lane:tt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(S=N=G,b=p):N=N.next=G,wt.lanes|=tt,Hs|=tt;q=q.next}while(q!==null&&q!==a);if(N===null?b=p:N.next=S,!Sn(p,i.memoizedState)&&(Me=!0,W&&(o=jr,o!==null)))throw o;i.memoizedState=p,i.baseState=b,i.baseQueue=N,c.lastRenderedState=p}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function bd(i){var a=be(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,p=a.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do p=i(p,b.action),b=b.next;while(b!==m);Sn(p,a.memoizedState)||(Me=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,c]}function xy(i,a,o){var c=wt,m=be(),p=Pt;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=a();var b=!Sn((te||m).memoizedState,o);if(b&&(m.memoizedState=o,Me=!0),m=m.queue,Sd(Cy.bind(null,c,m,i),[i]),m.getSnapshot!==a||b||De!==null&&De.memoizedState.tag&1){if(c.flags|=2048,Qr(9,{destroy:void 0},Ry.bind(null,c,m,o,a),null),ie===null)throw Error(s(349));p||(Zi&127)!==0||wy(c,a,o)}return o}function wy(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=wt.updateQueue,a===null?(a=Rc(),wt.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function Ry(i,a,o,c){a.value=o,a.getSnapshot=c,Dy(a)&&My(i)}function Cy(i,a,o){return o(function(){Dy(a)&&My(i)})}function Dy(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!Sn(i,o)}catch{return!0}}function My(i){var a=ka(i,2);a!==null&&yn(a,i,2)}function Ed(i){var a=cn();if(typeof i=="function"){var o=i;if(i=o(),qa){Mn(!0);try{o()}finally{Mn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:i},a}function Oy(i,a,o,c){return i.baseState=o,vd(i,te,typeof c=="function"?c:Ji)}function uA(i,a,o,c,m){if(Ic(i))throw Error(s(485));if(i=a.action,i!==null){var p={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};Q.T!==null?o(!0):p.isTransition=!1,c(p),o=a.pending,o===null?(p.next=a.pending=p,Iy(a,p)):(p.next=o.next,a.pending=o.next=p)}}function Iy(i,a){var o=a.action,c=a.payload,m=i.state;if(a.isTransition){var p=Q.T,b={};Q.T=b;try{var S=o(m,c),N=Q.S;N!==null&&N(b,S),Vy(i,a,S)}catch(q){Td(i,a,q)}finally{p!==null&&b.types!==null&&(p.types=b.types),Q.T=p}}else try{p=o(m,c),Vy(i,a,p)}catch(q){Td(i,a,q)}}function Vy(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Ny(i,a,c)},function(c){return Td(i,a,c)}):Ny(i,a,o)}function Ny(i,a,o){a.status="fulfilled",a.value=o,ky(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,Iy(i,o)))}function Td(i,a,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,ky(a),a=a.next;while(a!==c)}i.action=null}function ky(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Ly(i,a){return a}function zy(i,a){if(Pt){var o=ie.formState;if(o!==null){t:{var c=wt;if(Pt){if(re){e:{for(var m=re,p=Bn;m.nodeType!==8;){if(!p){m=null;break e}if(m=jn(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){re=jn(m.nextSibling),c=m.data==="F!";break t}}Vs(c)}c=!1}c&&(a=o[0])}}return o=cn(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ly,lastRenderedState:a},o.queue=c,o=n_.bind(null,wt,c),c.dispatch=o,c=Ed(!1),p=Cd.bind(null,wt,!1,c.queue),c=cn(),m={state:a,dispatch:null,action:i,pending:null},c.queue=m,o=uA.bind(null,wt,m,p,o),m.dispatch=o,c.memoizedState=i,[a,o,!1]}function Py(i){var a=be();return By(a,te,i)}function By(i,a,o){if(a=vd(i,a,Ly)[0],i=Dc(Ji)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=vl(a)}catch(b){throw b===Hr?vc:b}else c=a;a=be();var m=a.queue,p=m.dispatch;return o!==a.memoizedState&&(wt.flags|=2048,Qr(9,{destroy:void 0},cA.bind(null,m,o),null)),[c,p,i]}function cA(i,a){i.action=a}function Uy(i){var a=be(),o=te;if(o!==null)return By(a,o,i);be(),a=a.memoizedState,o=be();var c=o.queue.dispatch;return o.memoizedState=i,[a,c,!1]}function Qr(i,a,o,c){return i={tag:i,create:o,deps:c,inst:a,next:null},a=wt.updateQueue,a===null&&(a=Rc(),wt.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,a.lastEffect=i),i}function jy(){return be().memoizedState}function Mc(i,a,o,c){var m=cn();wt.flags|=i,m.memoizedState=Qr(1|a,{destroy:void 0},o,c===void 0?null:c)}function Oc(i,a,o,c){var m=be();c=c===void 0?null:c;var p=m.memoizedState.inst;te!==null&&c!==null&&dd(c,te.memoizedState.deps)?m.memoizedState=Qr(a,p,o,c):(wt.flags|=i,m.memoizedState=Qr(1|a,p,o,c))}function Hy(i,a){Mc(8390656,8,i,a)}function Sd(i,a){Oc(2048,8,i,a)}function hA(i){wt.flags|=4;var a=wt.updateQueue;if(a===null)a=Rc(),wt.updateQueue=a,a.events=[i];else{var o=a.events;o===null?a.events=[i]:o.push(i)}}function Fy(i){var a=be().memoizedState;return hA({ref:a,nextImpl:i}),function(){if((Yt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function qy(i,a){return Oc(4,2,i,a)}function Gy(i,a){return Oc(4,4,i,a)}function Yy(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Qy(i,a,o){o=o!=null?o.concat([i]):null,Oc(4,4,Yy.bind(null,a,i),o)}function Ad(){}function Ky(i,a){var o=be();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&dd(a,c[1])?c[0]:(o.memoizedState=[i,a],i)}function Xy(i,a){var o=be();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&dd(a,c[1]))return c[0];if(c=i(),qa){Mn(!0);try{i()}finally{Mn(!1)}}return o.memoizedState=[c,a],c}function xd(i,a,o){return o===void 0||(Zi&1073741824)!==0&&(Vt&261930)===0?i.memoizedState=a:(i.memoizedState=o,i=$_(),wt.lanes|=i,Hs|=i,o)}function $y(i,a,o,c){return Sn(o,a)?o:qr.current!==null?(i=xd(i,o,c),Sn(i,a)||(Me=!0),i):(Zi&42)===0||(Zi&1073741824)!==0&&(Vt&261930)===0?(Me=!0,i.memoizedState=o):(i=$_(),wt.lanes|=i,Hs|=i,a)}function Wy(i,a,o,c,m){var p=at.p;at.p=p!==0&&8>p?p:8;var b=Q.T,S={};Q.T=S,Cd(i,!1,a,o);try{var N=m(),q=Q.S;if(q!==null&&q(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=rA(N,c);bl(i,a,W,Dn(i))}else bl(i,a,c,Dn(i))}catch(tt){bl(i,a,{then:function(){},status:"rejected",reason:tt},Dn())}finally{at.p=p,b!==null&&S.types!==null&&(b.types=S.types),Q.T=b}}function fA(){}function wd(i,a,o,c){if(i.tag!==5)throw Error(s(476));var m=Zy(i).queue;Wy(i,m,a,gt,o===null?fA:function(){return Jy(i),o(c)})}function Zy(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:gt},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Jy(i){var a=Zy(i);a.next===null&&(a=i.alternate.memoizedState),bl(i,a.next.queue,{},Dn())}function Rd(){return Ke(zl)}function t_(){return be().memoizedState}function e_(){return be().memoizedState}function dA(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=Dn();i=Ls(o);var c=zs(a,i,o);c!==null&&(yn(c,a,o),gl(c,a,o)),a={cache:nd()},i.payload=a;return}a=a.return}}function mA(i,a,o){var c=Dn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ic(i)?i_(a,o):(o=Gf(i,a,o,c),o!==null&&(yn(o,i,c),s_(o,a,c)))}function n_(i,a,o){var c=Dn();bl(i,a,o,c)}function bl(i,a,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ic(i))i_(a,m);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,S=p(b,o);if(m.hasEagerState=!0,m.eagerState=S,Sn(S,b))return fc(i,a,m,0),ie===null&&hc(),!1}catch{}if(o=Gf(i,a,m,c),o!==null)return yn(o,i,c),s_(o,a,c),!0}return!1}function Cd(i,a,o,c){if(c={lane:2,revertLane:rm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ic(i)){if(a)throw Error(s(479))}else a=Gf(i,o,c,2),a!==null&&yn(a,i,2)}function Ic(i){var a=i.alternate;return i===wt||a!==null&&a===wt}function i_(i,a){Gr=xc=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function s_(i,a,o){if((o&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,Ho(i,o)}}var El={readContext:Ke,use:Cc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};El.useEffectEvent=ge;var a_={readContext:Ke,use:Cc,useCallback:function(i,a){return cn().memoizedState=[i,a===void 0?null:a],i},useContext:Ke,useEffect:Hy,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,Mc(4194308,4,Yy.bind(null,a,i),o)},useLayoutEffect:function(i,a){return Mc(4194308,4,i,a)},useInsertionEffect:function(i,a){Mc(4,2,i,a)},useMemo:function(i,a){var o=cn();a=a===void 0?null:a;var c=i();if(qa){Mn(!0);try{i()}finally{Mn(!1)}}return o.memoizedState=[c,a],c},useReducer:function(i,a,o){var c=cn();if(o!==void 0){var m=o(a);if(qa){Mn(!0);try{o(a)}finally{Mn(!1)}}}else m=a;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=mA.bind(null,wt,i),[c.memoizedState,i]},useRef:function(i){var a=cn();return i={current:i},a.memoizedState=i},useState:function(i){i=Ed(i);var a=i.queue,o=n_.bind(null,wt,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:Ad,useDeferredValue:function(i,a){var o=cn();return xd(o,i,a)},useTransition:function(){var i=Ed(!1);return i=Wy.bind(null,wt,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var c=wt,m=cn();if(Pt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),ie===null)throw Error(s(349));(Vt&127)!==0||wy(c,a,o)}m.memoizedState=o;var p={value:o,getSnapshot:a};return m.queue=p,Hy(Cy.bind(null,c,p,i),[i]),c.flags|=2048,Qr(9,{destroy:void 0},Ry.bind(null,c,p,o,a),null),o},useId:function(){var i=cn(),a=ie.identifierPrefix;if(Pt){var o=Vi,c=Ii;o=(c&~(1<<32-ye(c)-1)).toString(32)+o,a="_"+a+"R_"+o,o=wc++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=oA++,a="_"+a+"r_"+o.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Rd,useFormState:zy,useActionState:zy,useOptimistic:function(i){var a=cn();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Cd.bind(null,wt,!0,o),o.dispatch=a,[i,a]},useMemoCache:_d,useCacheRefresh:function(){return cn().memoizedState=dA.bind(null,wt)},useEffectEvent:function(i){var a=cn(),o={impl:i};return a.memoizedState=o,function(){if((Yt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Dd={readContext:Ke,use:Cc,useCallback:Ky,useContext:Ke,useEffect:Sd,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Gy,useMemo:Xy,useReducer:Dc,useRef:jy,useState:function(){return Dc(Ji)},useDebugValue:Ad,useDeferredValue:function(i,a){var o=be();return $y(o,te.memoizedState,i,a)},useTransition:function(){var i=Dc(Ji)[0],a=be().memoizedState;return[typeof i=="boolean"?i:vl(i),a]},useSyncExternalStore:xy,useId:t_,useHostTransitionStatus:Rd,useFormState:Py,useActionState:Py,useOptimistic:function(i,a){var o=be();return Oy(o,te,i,a)},useMemoCache:_d,useCacheRefresh:e_};Dd.useEffectEvent=Fy;var r_={readContext:Ke,use:Cc,useCallback:Ky,useContext:Ke,useEffect:Sd,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Gy,useMemo:Xy,useReducer:bd,useRef:jy,useState:function(){return bd(Ji)},useDebugValue:Ad,useDeferredValue:function(i,a){var o=be();return te===null?xd(o,i,a):$y(o,te.memoizedState,i,a)},useTransition:function(){var i=bd(Ji)[0],a=be().memoizedState;return[typeof i=="boolean"?i:vl(i),a]},useSyncExternalStore:xy,useId:t_,useHostTransitionStatus:Rd,useFormState:Uy,useActionState:Uy,useOptimistic:function(i,a){var o=be();return te!==null?Oy(o,te,i,a):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:_d,useCacheRefresh:e_};r_.useEffectEvent=Fy;function Md(i,a,o,c){a=i.memoizedState,o=o(c,a),o=o==null?a:v({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Od={enqueueSetState:function(i,a,o){i=i._reactInternals;var c=Dn(),m=Ls(c);m.payload=a,o!=null&&(m.callback=o),a=zs(i,m,c),a!==null&&(yn(a,i,c),gl(a,i,c))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var c=Dn(),m=Ls(c);m.tag=1,m.payload=a,o!=null&&(m.callback=o),a=zs(i,m,c),a!==null&&(yn(a,i,c),gl(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=Dn(),c=Ls(o);c.tag=2,a!=null&&(c.callback=a),a=zs(i,c,o),a!==null&&(yn(a,i,o),gl(a,i,o))}};function o_(i,a,o,c,m,p,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,b):a.prototype&&a.prototype.isPureReactComponent?!ol(o,c)||!ol(m,p):!0}function l_(i,a,o,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==i&&Od.enqueueReplaceState(a,a.state,null)}function Ga(i,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(i=i.defaultProps){o===a&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function u_(i){cc(i)}function c_(i){console.error(i)}function h_(i){cc(i)}function Vc(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function f_(i,a,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Id(i,a,o){return o=Ls(o),o.tag=3,o.payload={element:null},o.callback=function(){Vc(i,a)},o}function d_(i){return i=Ls(i),i.tag=3,i}function m_(i,a,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;i.payload=function(){return m(p)},i.callback=function(){f_(a,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){f_(a,o,c),typeof m!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function gA(i,a,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&Br(a,o,m,!0),o=xn.current,o!==null){switch(o.tag){case 31:case 13:return Un===null?Gc():o.alternate===null&&pe===0&&(pe=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===bc?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),im(i,c,m)),!1;case 22:return o.flags|=65536,c===bc?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),im(i,c,m)),!1}throw Error(s(435,o.tag))}return im(i,c,m),Gc(),!1}if(Pt)return a=xn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==Wf&&(i=Error(s(422),{cause:c}),cl(Ln(i,o)))):(c!==Wf&&(a=Error(s(423),{cause:c}),cl(Ln(a,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Ln(c,o),m=Id(i.stateNode,c,m),ld(i,m),pe!==4&&(pe=2)),!1;var p=Error(s(520),{cause:c});if(p=Ln(p,o),Dl===null?Dl=[p]:Dl.push(p),pe!==4&&(pe=2),a===null)return!0;c=Ln(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Id(o.stateNode,c,i),ld(o,i),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Fs===null||!Fs.has(p))))return o.flags|=65536,m&=-m,o.lanes|=m,m=d_(m),m_(m,i,o,c),ld(o,m),!1}o=o.return}while(o!==null);return!1}var Vd=Error(s(461)),Me=!1;function Xe(i,a,o,c){a.child=i===null?_y(a,null,o,c):Fa(a,i.child,o,c)}function g_(i,a,o,c,m){o=o.render;var p=a.ref;if("ref"in c){var b={};for(var S in c)S!=="ref"&&(b[S]=c[S])}else b=c;return Ba(a),c=md(i,a,o,b,p,m),S=gd(),i!==null&&!Me?(pd(i,a,m),ts(i,a,m)):(Pt&&S&&Xf(a),a.flags|=1,Xe(i,a,c,m),a.child)}function p_(i,a,o,c,m){if(i===null){var p=o.type;return typeof p=="function"&&!Yf(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,y_(i,a,p,c,m)):(i=mc(o.type,null,c,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(p=i.child,!jd(i,m)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:ol,o(b,c)&&i.ref===a.ref)return ts(i,a,m)}return a.flags|=1,i=Ki(p,c),i.ref=a.ref,i.return=a,a.child=i}function y_(i,a,o,c,m){if(i!==null){var p=i.memoizedProps;if(ol(p,c)&&i.ref===a.ref)if(Me=!1,a.pendingProps=c=p,jd(i,m))(i.flags&131072)!==0&&(Me=!0);else return a.lanes=i.lanes,ts(i,a,m)}return Nd(i,a,o,c,m)}function __(i,a,o,c){var m=c.children,p=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(c=a.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~p}else c=0,a.child=null;return v_(i,a,p,o,c)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&_c(a,p!==null?p.cachePool:null),p!==null?Ey(a,p):cd(),Ty(a);else return c=a.lanes=536870912,v_(i,a,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(_c(a,p.cachePool),Ey(a,p),Bs(),a.memoizedState=null):(i!==null&&_c(a,null),cd(),Bs());return Xe(i,a,m,o),a.child}function Tl(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function v_(i,a,o,c,m){var p=sd();return p=p===null?null:{parent:Ce._currentValue,pool:p},a.memoizedState={baseLanes:o,cachePool:p},i!==null&&_c(a,null),cd(),Ty(a),i!==null&&Br(i,a,c,!0),a.childLanes=m,null}function Nc(i,a){return a=Lc({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function b_(i,a,o){return Fa(a,i.child,null,o),i=Nc(a,a.pendingProps),i.flags|=2,wn(a),a.memoizedState=null,i}function pA(i,a,o){var c=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Pt){if(c.mode==="hidden")return i=Nc(a,c),a.lanes=536870912,Tl(null,i);if(fd(a),(i=re)?(i=I0(i,Bn),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Os!==null?{id:Ii,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},o=iy(i),o.return=a,a.child=o,Qe=a,re=null)):i=null,i===null)throw Vs(a);return a.lanes=536870912,null}return Nc(a,c)}var p=i.memoizedState;if(p!==null){var b=p.dehydrated;if(fd(a),m)if(a.flags&256)a.flags&=-257,a=b_(i,a,o);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(s(558));else if(Me||Br(i,a,o,!1),m=(o&i.childLanes)!==0,Me||m){if(c=ie,c!==null&&(b=Fo(c,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,ka(i,b),yn(c,i,b),Vd;Gc(),a=b_(i,a,o)}else i=p.treeContext,re=jn(b.nextSibling),Qe=a,Pt=!0,Is=null,Bn=!1,i!==null&&ry(a,i),a=Nc(a,c),a.flags|=4096;return a}return i=Ki(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function kc(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(a.flags|=4194816)}}function Nd(i,a,o,c,m){return Ba(a),o=md(i,a,o,c,void 0,m),c=gd(),i!==null&&!Me?(pd(i,a,m),ts(i,a,m)):(Pt&&c&&Xf(a),a.flags|=1,Xe(i,a,o,m),a.child)}function E_(i,a,o,c,m,p){return Ba(a),a.updateQueue=null,o=Ay(a,c,o,m),Sy(i),c=gd(),i!==null&&!Me?(pd(i,a,p),ts(i,a,p)):(Pt&&c&&Xf(a),a.flags|=1,Xe(i,a,o,p),a.child)}function T_(i,a,o,c,m){if(Ba(a),a.stateNode===null){var p=kr,b=o.contextType;typeof b=="object"&&b!==null&&(p=Ke(b)),p=new o(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Od,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},rd(a),b=o.contextType,p.context=typeof b=="object"&&b!==null?Ke(b):kr,p.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Md(a,o,b,c),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Od.enqueueReplaceState(p,p.state,null),yl(a,c,p,m),pl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){p=a.stateNode;var S=a.memoizedProps,N=Ga(o,S);p.props=N;var q=p.context,W=o.contextType;b=kr,typeof W=="object"&&W!==null&&(b=Ke(W));var tt=o.getDerivedStateFromProps;W=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||q!==b)&&l_(a,p,c,b),ks=!1;var G=a.memoizedState;p.state=G,yl(a,c,p,m),pl(),q=a.memoizedState,S||G!==q||ks?(typeof tt=="function"&&(Md(a,o,tt,c),q=a.memoizedState),(N=ks||o_(a,o,N,c,G,q,b))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=q),p.props=c,p.state=q,p.context=b,c=N):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,od(i,a),b=a.memoizedProps,W=Ga(o,b),p.props=W,tt=a.pendingProps,G=p.context,q=o.contextType,N=kr,typeof q=="object"&&q!==null&&(N=Ke(q)),S=o.getDerivedStateFromProps,(q=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==tt||G!==N)&&l_(a,p,c,N),ks=!1,G=a.memoizedState,p.state=G,yl(a,c,p,m),pl();var K=a.memoizedState;b!==tt||G!==K||ks||i!==null&&i.dependencies!==null&&pc(i.dependencies)?(typeof S=="function"&&(Md(a,o,S,c),K=a.memoizedState),(W=ks||o_(a,o,W,c,G,K,N)||i!==null&&i.dependencies!==null&&pc(i.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,K,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,K,N)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&G===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&G===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=K),p.props=c,p.state=K,p.context=N,c=W):(typeof p.componentDidUpdate!="function"||b===i.memoizedProps&&G===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&G===i.memoizedState||(a.flags|=1024),c=!1)}return p=c,kc(i,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,i!==null&&c?(a.child=Fa(a,i.child,null,m),a.child=Fa(a,null,o,m)):Xe(i,a,o,m),a.memoizedState=p.state,i=a.child):i=ts(i,a,m),i}function S_(i,a,o,c){return za(),a.flags|=256,Xe(i,a,o,c),a.child}var kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(i){return{baseLanes:i,cachePool:fy()}}function zd(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=Cn),i}function A_(i,a,o){var c=a.pendingProps,m=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=i!==null&&i.memoizedState===null?!1:(ve.current&2)!==0),b&&(m=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,i===null){if(Pt){if(m?Ps(a):Bs(),(i=re)?(i=I0(i,Bn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Os!==null?{id:Ii,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},o=iy(i),o.return=a,a.child=o,Qe=a,re=null)):i=null,i===null)throw Vs(a);return vm(i)?a.lanes=32:a.lanes=536870912,null}var S=c.children;return c=c.fallback,m?(Bs(),m=a.mode,S=Lc({mode:"hidden",children:S},m),c=La(c,m,o,null),S.return=a,c.return=a,S.sibling=c,a.child=S,c=a.child,c.memoizedState=Ld(o),c.childLanes=zd(i,b,o),a.memoizedState=kd,Tl(null,c)):(Ps(a),Pd(a,S))}var N=i.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(p)a.flags&256?(Ps(a),a.flags&=-257,a=Bd(i,a,o)):a.memoizedState!==null?(Bs(),a.child=i.child,a.flags|=128,a=null):(Bs(),S=c.fallback,m=a.mode,c=Lc({mode:"visible",children:c.children},m),S=La(S,m,o,null),S.flags|=2,c.return=a,S.return=a,c.sibling=S,a.child=c,Fa(a,i.child,null,o),c=a.child,c.memoizedState=Ld(o),c.childLanes=zd(i,b,o),a.memoizedState=kd,a=Tl(null,c));else if(Ps(a),vm(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var q=b.dgst;b=q,c=Error(s(419)),c.stack="",c.digest=b,cl({value:c,source:null,stack:null}),a=Bd(i,a,o)}else if(Me||Br(i,a,o,!1),b=(o&i.childLanes)!==0,Me||b){if(b=ie,b!==null&&(c=Fo(b,o),c!==0&&c!==N.retryLane))throw N.retryLane=c,ka(i,c),yn(b,i,c),Vd;_m(S)||Gc(),a=Bd(i,a,o)}else _m(S)?(a.flags|=192,a.child=i.child,a=null):(i=N.treeContext,re=jn(S.nextSibling),Qe=a,Pt=!0,Is=null,Bn=!1,i!==null&&ry(a,i),a=Pd(a,c.children),a.flags|=4096);return a}return m?(Bs(),S=c.fallback,m=a.mode,N=i.child,q=N.sibling,c=Ki(N,{mode:"hidden",children:c.children}),c.subtreeFlags=N.subtreeFlags&65011712,q!==null?S=Ki(q,S):(S=La(S,m,o,null),S.flags|=2),S.return=a,c.return=a,c.sibling=S,a.child=c,Tl(null,c),c=a.child,S=i.child.memoizedState,S===null?S=Ld(o):(m=S.cachePool,m!==null?(N=Ce._currentValue,m=m.parent!==N?{parent:N,pool:N}:m):m=fy(),S={baseLanes:S.baseLanes|o,cachePool:m}),c.memoizedState=S,c.childLanes=zd(i,b,o),a.memoizedState=kd,Tl(i.child,c)):(Ps(a),o=i.child,i=o.sibling,o=Ki(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,i!==null&&(b=a.deletions,b===null?(a.deletions=[i],a.flags|=16):b.push(i)),a.child=o,a.memoizedState=null,o)}function Pd(i,a){return a=Lc({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Lc(i,a){return i=An(22,i,null,a),i.lanes=0,i}function Bd(i,a,o){return Fa(a,i.child,null,o),i=Pd(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function x_(i,a,o){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),td(i.return,a,o)}function Ud(i,a,o,c,m,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=m,b.treeForkCount=p)}function w_(i,a,o){var c=a.pendingProps,m=c.revealOrder,p=c.tail;c=c.children;var b=ve.current,S=(b&2)!==0;if(S?(b=b&1|2,a.flags|=128):b&=1,lt(ve,b),Xe(i,a,c,o),c=Pt?ul:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&x_(i,o,a);else if(i.tag===19)x_(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=a.child,m=null;o!==null;)i=o.alternate,i!==null&&Ac(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=a.child,a.child=null):(m=o.sibling,o.sibling=null),Ud(a,!1,m,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Ac(i)===null){a.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Ud(a,!0,o,null,p,c);break;case"together":Ud(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function ts(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),Hs|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(Br(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,o=Ki(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=Ki(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function jd(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&pc(i)))}function yA(i,a,o){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),Ns(a,Ce,i.memoizedState.cache),za();break;case 27:case 5:ya(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:Ns(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,fd(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ps(a),a.flags|=128,null):(o&a.child.childLanes)!==0?A_(i,a,o):(Ps(a),i=ts(i,a,o),i!==null?i.sibling:null);Ps(a);break;case 19:var m=(i.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(Br(i,a,o,!1),c=(o&a.childLanes)!==0),m){if(c)return w_(i,a,o);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(ve,ve.current),c)break;return null;case 22:return a.lanes=0,__(i,a,o,a.pendingProps);case 24:Ns(a,Ce,i.memoizedState.cache)}return ts(i,a,o)}function R_(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)Me=!0;else{if(!jd(i,o)&&(a.flags&128)===0)return Me=!1,yA(i,a,o);Me=(i.flags&131072)!==0}else Me=!1,Pt&&(a.flags&1048576)!==0&&ay(a,ul,a.index);switch(a.lanes=0,a.tag){case 16:t:{var c=a.pendingProps;if(i=ja(a.elementType),a.type=i,typeof i=="function")Yf(i)?(c=Ga(i,c),a.tag=1,a=T_(null,a,i,c,o)):(a.tag=0,a=Nd(null,a,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===st){a.tag=11,a=g_(null,a,i,c,o);break t}else if(m===R){a.tag=14,a=p_(null,a,i,c,o);break t}}throw a=zt(i)||i,Error(s(306,a,""))}}return a;case 0:return Nd(i,a,a.type,a.pendingProps,o);case 1:return c=a.type,m=Ga(c,a.pendingProps),T_(i,a,c,m,o);case 3:t:{if(ke(a,a.stateNode.containerInfo),i===null)throw Error(s(387));c=a.pendingProps;var p=a.memoizedState;m=p.element,od(i,a),yl(a,c,null,o);var b=a.memoizedState;if(c=b.cache,Ns(a,Ce,c),c!==p.cache&&ed(a,[Ce],o,!0),pl(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=S_(i,a,c,o);break t}else if(c!==m){m=Ln(Error(s(424)),a),cl(m),a=S_(i,a,c,o);break t}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,re=jn(i.firstChild),Qe=a,Pt=!0,Is=null,Bn=!0,o=_y(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(za(),c===m){a=ts(i,a,o);break t}Xe(i,a,c,o)}a=a.child}return a;case 26:return kc(i,a),i===null?(o=P0(a.type,null,a.pendingProps,null))?a.memoizedState=o:Pt||(o=a.type,i=a.pendingProps,c=Zc(bt.current).createElement(o),c[xe]=a,c[je]=i,$e(c,o,i),we(c),a.stateNode=c):a.memoizedState=P0(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ya(a),i===null&&Pt&&(c=a.stateNode=k0(a.type,a.pendingProps,bt.current),Qe=a,Bn=!0,m=re,Qs(a.type)?(bm=m,re=jn(c.firstChild)):re=m),Xe(i,a,a.pendingProps.children,o),kc(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Pt&&((m=c=re)&&(c=QA(c,a.type,a.pendingProps,Bn),c!==null?(a.stateNode=c,Qe=a,re=jn(c.firstChild),Bn=!1,m=!0):m=!1),m||Vs(a)),ya(a),m=a.type,p=a.pendingProps,b=i!==null?i.memoizedProps:null,c=p.children,gm(m,p)?c=null:b!==null&&gm(m,b)&&(a.flags|=32),a.memoizedState!==null&&(m=md(i,a,lA,null,null,o),zl._currentValue=m),kc(i,a),Xe(i,a,c,o),a.child;case 6:return i===null&&Pt&&((i=o=re)&&(o=KA(o,a.pendingProps,Bn),o!==null?(a.stateNode=o,Qe=a,re=null,i=!0):i=!1),i||Vs(a)),null;case 13:return A_(i,a,o);case 4:return ke(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Fa(a,null,c,o):Xe(i,a,c,o),a.child;case 11:return g_(i,a,a.type,a.pendingProps,o);case 7:return Xe(i,a,a.pendingProps,o),a.child;case 8:return Xe(i,a,a.pendingProps.children,o),a.child;case 12:return Xe(i,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,Ns(a,a.type,c.value),Xe(i,a,c.children,o),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Ba(a),m=Ke(m),c=c(m),a.flags|=1,Xe(i,a,c,o),a.child;case 14:return p_(i,a,a.type,a.pendingProps,o);case 15:return y_(i,a,a.type,a.pendingProps,o);case 19:return w_(i,a,o);case 31:return pA(i,a,o);case 22:return __(i,a,o,a.pendingProps);case 24:return Ba(a),c=Ke(Ce),i===null?(m=sd(),m===null&&(m=ie,p=nd(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=o),m=p),a.memoizedState={parent:c,cache:m},rd(a),Ns(a,Ce,m)):((i.lanes&o)!==0&&(od(i,a),yl(a,null,null,o),pl()),m=i.memoizedState,p=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ns(a,Ce,c)):(c=p.cache,Ns(a,Ce,c),c!==m.cache&&ed(a,[Ce],o,!0))),Xe(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function es(i){i.flags|=4}function Hd(i,a,o,c,m){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(t0())i.flags|=8192;else throw Ha=bc,ad}else i.flags&=-16777217}function C_(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!F0(a))if(t0())i.flags|=8192;else throw Ha=bc,ad}function zc(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Fu():536870912,i.lanes|=a,Wr|=a)}function Sl(i,a){if(!Pt)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function oe(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(a)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,a}function _A(i,a,o){var c=a.pendingProps;switch($f(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(a),null;case 1:return oe(a),null;case 3:return o=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Wi(Ce),ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Pr(a)?es(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zf())),oe(a),null;case 26:var m=a.type,p=a.memoizedState;return i===null?(es(a),p!==null?(oe(a),C_(a,p)):(oe(a),Hd(a,m,null,c,o))):p?p!==i.memoizedState?(es(a),oe(a),C_(a,p)):(oe(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&es(a),oe(a),Hd(a,m,i,c,o)),null;case 27:if(pr(a),o=bt.current,m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&es(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return oe(a),null}i=ut.current,Pr(a)?oy(a):(i=k0(m,c,o),a.stateNode=i,es(a))}return oe(a),null;case 5:if(pr(a),m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&es(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return oe(a),null}if(p=ut.current,Pr(a))oy(a);else{var b=Zc(bt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}p[xe]=a,p[je]=c;t:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break t;for(;b.sibling===null;){if(b.return===null||b.return===a)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;t:switch($e(p,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&es(a)}}return oe(a),Hd(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,o),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&es(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(s(166));if(i=bt.current,Pr(a)){if(i=a.stateNode,o=a.memoizedProps,c=null,m=Qe,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[xe]=a,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||A0(i.nodeValue,o)),i||Vs(a,!0)}else i=Zc(i).createTextNode(c),i[xe]=a,a.stateNode=i}return oe(a),null;case 31:if(o=a.memoizedState,i===null||i.memoizedState!==null){if(c=Pr(a),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[xe]=a}else za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;oe(a),i=!1}else o=Zf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return a.flags&256?(wn(a),a):(wn(a),null);if((a.flags&128)!==0)throw Error(s(558))}return oe(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Pr(a),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[xe]=a}else za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;oe(a),m=!1}else m=Zf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(wn(a),a):(wn(a),null)}return wn(a),(a.flags&128)!==0?(a.lanes=o,a):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)),o!==i&&o&&(a.child.flags|=8192),zc(a,a.updateQueue),oe(a),null);case 4:return ce(),i===null&&cm(a.stateNode.containerInfo),oe(a),null;case 10:return Wi(a.type),oe(a),null;case 19:if(Z(ve),c=a.memoizedState,c===null)return oe(a),null;if(m=(a.flags&128)!==0,p=c.rendering,p===null)if(m)Sl(c,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(p=Ac(i),p!==null){for(a.flags|=128,Sl(c,!1),i=p.updateQueue,a.updateQueue=i,zc(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)ny(o,i),o=o.sibling;return lt(ve,ve.current&1|2),Pt&&Xi(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&ln()>Hc&&(a.flags|=128,m=!0,Sl(c,!1),a.lanes=4194304)}else{if(!m)if(i=Ac(p),i!==null){if(a.flags|=128,m=!0,i=i.updateQueue,a.updateQueue=i,zc(a,i),Sl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Pt)return oe(a),null}else 2*ln()-c.renderingStartTime>Hc&&o!==536870912&&(a.flags|=128,m=!0,Sl(c,!1),a.lanes=4194304);c.isBackwards?(p.sibling=a.child,a.child=p):(i=c.last,i!==null?i.sibling=p:a.child=p,c.last=p)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=ln(),i.sibling=null,o=ve.current,lt(ve,m?o&1|2:o&1),Pt&&Xi(a,c.treeForkCount),i):(oe(a),null);case 22:case 23:return wn(a),hd(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(oe(a),a.subtreeFlags&6&&(a.flags|=8192)):oe(a),o=a.updateQueue,o!==null&&zc(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),i!==null&&Z(Ua),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Wi(Ce),oe(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function vA(i,a){switch($f(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Wi(Ce),ce(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return pr(a),null;case 31:if(a.memoizedState!==null){if(wn(a),a.alternate===null)throw Error(s(340));za()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(wn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));za()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Z(ve),null;case 4:return ce(),null;case 10:return Wi(a.type),null;case 22:case 23:return wn(a),hd(),i!==null&&Z(Ua),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Wi(Ce),null;case 25:return null;default:return null}}function D_(i,a){switch($f(a),a.tag){case 3:Wi(Ce),ce();break;case 26:case 27:case 5:pr(a);break;case 4:ce();break;case 31:a.memoizedState!==null&&wn(a);break;case 13:wn(a);break;case 19:Z(ve);break;case 10:Wi(a.type);break;case 22:case 23:wn(a),hd(),i!==null&&Z(Ua);break;case 24:Wi(Ce)}}function Al(i,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var p=o.create,b=o.inst;c=p(),b.destroy=c}o=o.next}while(o!==m)}}catch(S){Wt(a,a.return,S)}}function Us(i,a,o){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&i)===i){var b=c.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,m=a;var N=o,q=S;try{q()}catch(W){Wt(m,N,W)}}}c=c.next}while(c!==p)}}catch(W){Wt(a,a.return,W)}}function M_(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{by(a,o)}catch(c){Wt(i,i.return,c)}}}function O_(i,a,o){o.props=Ga(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Wt(i,a,c)}}function xl(i,a){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Wt(i,a,m)}}function Ni(i,a){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Wt(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Wt(i,a,m)}else o.current=null}function I_(i){var a=i.type,o=i.memoizedProps,c=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Wt(i,i.return,m)}}function Fd(i,a,o){try{var c=i.stateNode;jA(c,i.type,o,a),c[je]=a}catch(m){Wt(i,i.return,m)}}function V_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Qs(i.type)||i.tag===4}function qd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||V_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Qs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gd(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(i),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=ti));else if(c!==4&&(c===27&&Qs(i.type)&&(o=i.stateNode,a=null),i=i.child,i!==null))for(Gd(i,a,o),i=i.sibling;i!==null;)Gd(i,a,o),i=i.sibling}function Pc(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(c!==4&&(c===27&&Qs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Pc(i,a,o),i=i.sibling;i!==null;)Pc(i,a,o),i=i.sibling}function N_(i){var a=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);$e(a,c,o),a[xe]=i,a[je]=o}catch(p){Wt(i,i.return,p)}}var ns=!1,Oe=!1,Yd=!1,k_=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function bA(i,a){if(i=i.containerInfo,dm=ah,i=Qp(i),Bf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var b=0,S=-1,N=-1,q=0,W=0,tt=i,G=null;e:for(;;){for(var K;tt!==o||m!==0&&tt.nodeType!==3||(S=b+m),tt!==p||c!==0&&tt.nodeType!==3||(N=b+c),tt.nodeType===3&&(b+=tt.nodeValue.length),(K=tt.firstChild)!==null;)G=tt,tt=K;for(;;){if(tt===i)break e;if(G===o&&++q===m&&(S=b),G===p&&++W===c&&(N=b),(K=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=K}o=S===-1||N===-1?null:{start:S,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(mm={focusedElem:i,selectionRange:o},ah=!1,Fe=a;Fe!==null;)if(a=Fe,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Fe=i;else for(;Fe!==null;){switch(a=Fe,p=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=a,m=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var dt=Ga(o.type,m);i=c.getSnapshotBeforeUpdate(dt,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Wt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)ym(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ym(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,Fe=i;break}Fe=a.return}}function L_(i,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ss(i,o),c&4&&Al(5,o);break;case 1:if(ss(i,o),c&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(b){Wt(o,o.return,b)}else{var m=Ga(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Wt(o,o.return,b)}}c&64&&M_(o),c&512&&xl(o,o.return);break;case 3:if(ss(i,o),c&64&&(i=o.updateQueue,i!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{by(i,a)}catch(b){Wt(o,o.return,b)}}break;case 27:a===null&&c&4&&N_(o);case 26:case 5:ss(i,o),a===null&&c&4&&I_(o),c&512&&xl(o,o.return);break;case 12:ss(i,o);break;case 31:ss(i,o),c&4&&B_(i,o);break;case 13:ss(i,o),c&4&&U_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=DA.bind(null,o),XA(i,o))));break;case 22:if(c=o.memoizedState!==null||ns,!c){a=a!==null&&a.memoizedState!==null||Oe,m=ns;var p=Oe;ns=c,(Oe=a)&&!p?as(i,o,(o.subtreeFlags&8772)!==0):ss(i,o),ns=m,Oe=p}break;case 30:break;default:ss(i,o)}}function z_(i){var a=i.alternate;a!==null&&(i.alternate=null,z_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Er(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var fe=null,dn=!1;function is(i,a,o){for(o=o.child;o!==null;)P_(i,a,o),o=o.sibling}function P_(i,a,o){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount($n,o)}catch{}switch(o.tag){case 26:Oe||Ni(o,a),is(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Oe||Ni(o,a);var c=fe,m=dn;Qs(o.type)&&(fe=o.stateNode,dn=!1),is(i,a,o),Nl(o.stateNode),fe=c,dn=m;break;case 5:Oe||Ni(o,a);case 6:if(c=fe,m=dn,fe=null,is(i,a,o),fe=c,dn=m,fe!==null)if(dn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(o.stateNode)}catch(p){Wt(o,a,p)}else try{fe.removeChild(o.stateNode)}catch(p){Wt(o,a,p)}break;case 18:fe!==null&&(dn?(i=fe,M0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),ao(i)):M0(fe,o.stateNode));break;case 4:c=fe,m=dn,fe=o.stateNode.containerInfo,dn=!0,is(i,a,o),fe=c,dn=m;break;case 0:case 11:case 14:case 15:Us(2,o,a),Oe||Us(4,o,a),is(i,a,o);break;case 1:Oe||(Ni(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&O_(o,a,c)),is(i,a,o);break;case 21:is(i,a,o);break;case 22:Oe=(c=Oe)||o.memoizedState!==null,is(i,a,o),Oe=c;break;default:is(i,a,o)}}function B_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ao(i)}catch(o){Wt(a,a.return,o)}}}function U_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ao(i)}catch(o){Wt(a,a.return,o)}}function EA(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new k_),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new k_),a;default:throw Error(s(435,i.tag))}}function Bc(i,a){var o=EA(i);a.forEach(function(c){if(!o.has(c)){o.add(c);var m=MA.bind(null,i,c);c.then(m,m)}})}function mn(i,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],p=i,b=a,S=b;t:for(;S!==null;){switch(S.tag){case 27:if(Qs(S.type)){fe=S.stateNode,dn=!1;break t}break;case 5:fe=S.stateNode,dn=!1;break t;case 3:case 4:fe=S.stateNode.containerInfo,dn=!0;break t}S=S.return}if(fe===null)throw Error(s(160));P_(p,b,m),fe=null,dn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)j_(a,i),a=a.sibling}var ri=null;function j_(i,a){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mn(a,i),gn(i),c&4&&(Us(3,i,i.return),Al(3,i),Us(5,i,i.return));break;case 1:mn(a,i),gn(i),c&512&&(Oe||o===null||Ni(o,o.return)),c&64&&ns&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=ri;if(mn(a,i),gn(i),c&512&&(Oe||o===null||Ni(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){t:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[bi]||p[xe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),$e(p,c,o),p[xe]=i,we(p),c=p;break t;case"link":var b=j0("link","href",m).get(c+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(p=b[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break e}}p=m.createElement(c),$e(p,c,o),m.head.appendChild(p);break;case"meta":if(b=j0("meta","content",m).get(c+(o.content||""))){for(S=0;S<b.length;S++)if(p=b[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break e}}p=m.createElement(c),$e(p,c,o),m.head.appendChild(p);break;default:throw Error(s(468,c))}p[xe]=i,we(p),c=p}i.stateNode=c}else H0(m,i.type,i.stateNode);else i.stateNode=U0(m,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?H0(m,i.type,i.stateNode):U0(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Fd(i,i.memoizedProps,o.memoizedProps)}break;case 27:mn(a,i),gn(i),c&512&&(Oe||o===null||Ni(o,o.return)),o!==null&&c&4&&Fd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(mn(a,i),gn(i),c&512&&(Oe||o===null||Ni(o,o.return)),i.flags&32){m=i.stateNode;try{fn(m,"")}catch(dt){Wt(i,i.return,dt)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Fd(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Yd=!0);break;case 6:if(mn(a,i),gn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(dt){Wt(i,i.return,dt)}}break;case 3:if(eh=null,m=ri,ri=Jc(a.containerInfo),mn(a,i),ri=m,gn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ao(a.containerInfo)}catch(dt){Wt(i,i.return,dt)}Yd&&(Yd=!1,H_(i));break;case 4:c=ri,ri=Jc(i.stateNode.containerInfo),mn(a,i),gn(i),ri=c;break;case 12:mn(a,i),gn(i);break;case 31:mn(a,i),gn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bc(i,c)));break;case 13:mn(a,i),gn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jc=ln()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bc(i,c)));break;case 22:m=i.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,q=ns,W=Oe;if(ns=q||m,Oe=W||N,mn(a,i),Oe=W,ns=q,gn(i),c&8192)t:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(o===null||N||ns||Oe||Ya(i)),o=null,a=i;;){if(a.tag===5||a.tag===26){if(o===null){N=o=a;try{if(p=N.stateNode,m)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=N.stateNode;var tt=N.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(dt){Wt(N,N.return,dt)}}}else if(a.tag===6){if(o===null){N=a;try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch(dt){Wt(N,N.return,dt)}}}else if(a.tag===18){if(o===null){N=a;try{var K=N.stateNode;m?O0(K,!0):O0(N.stateNode,!1)}catch(dt){Wt(N,N.return,dt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Bc(i,o))));break;case 19:mn(a,i),gn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Bc(i,c)));break;case 30:break;case 21:break;default:mn(a,i),gn(i)}}function gn(i){var a=i.flags;if(a&2){try{for(var o,c=i.return;c!==null;){if(V_(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,p=qd(i);Pc(i,p,m);break;case 5:var b=o.stateNode;o.flags&32&&(fn(b,""),o.flags&=-33);var S=qd(i);Pc(i,S,b);break;case 3:case 4:var N=o.stateNode.containerInfo,q=qd(i);Gd(i,q,N);break;default:throw Error(s(161))}}catch(W){Wt(i,i.return,W)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function H_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;H_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ss(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)L_(i,a.alternate,a),a=a.sibling}function Ya(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Us(4,a,a.return),Ya(a);break;case 1:Ni(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&O_(a,a.return,o),Ya(a);break;case 27:Nl(a.stateNode);case 26:case 5:Ni(a,a.return),Ya(a);break;case 22:a.memoizedState===null&&Ya(a);break;case 30:Ya(a);break;default:Ya(a)}i=i.sibling}}function as(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=i,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:as(m,p,o),Al(4,p);break;case 1:if(as(m,p,o),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){Wt(c,c.return,q)}if(c=p,m=c.updateQueue,m!==null){var S=c.stateNode;try{var N=m.shared.hiddenCallbacks;if(N!==null)for(m.shared.hiddenCallbacks=null,m=0;m<N.length;m++)vy(N[m],S)}catch(q){Wt(c,c.return,q)}}o&&b&64&&M_(p),xl(p,p.return);break;case 27:N_(p);case 26:case 5:as(m,p,o),o&&c===null&&b&4&&I_(p),xl(p,p.return);break;case 12:as(m,p,o);break;case 31:as(m,p,o),o&&b&4&&B_(m,p);break;case 13:as(m,p,o),o&&b&4&&U_(m,p);break;case 22:p.memoizedState===null&&as(m,p,o),xl(p,p.return);break;case 30:break;default:as(m,p,o)}a=a.sibling}}function Qd(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&hl(o))}function Kd(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&hl(i))}function oi(i,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)F_(i,a,o,c),a=a.sibling}function F_(i,a,o,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:oi(i,a,o,c),m&2048&&Al(9,a);break;case 1:oi(i,a,o,c);break;case 3:oi(i,a,o,c),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&hl(i)));break;case 12:if(m&2048){oi(i,a,o,c),i=a.stateNode;try{var p=a.memoizedProps,b=p.id,S=p.onPostCommit;typeof S=="function"&&S(b,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Wt(a,a.return,N)}}else oi(i,a,o,c);break;case 31:oi(i,a,o,c);break;case 13:oi(i,a,o,c);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?oi(i,a,o,c):wl(i,a):p._visibility&2?oi(i,a,o,c):(p._visibility|=2,Kr(i,a,o,c,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Qd(b,a);break;case 24:oi(i,a,o,c),m&2048&&Kd(a.alternate,a);break;default:oi(i,a,o,c)}}function Kr(i,a,o,c,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=i,b=a,S=o,N=c,q=b.flags;switch(b.tag){case 0:case 11:case 15:Kr(p,b,S,N,m),Al(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?Kr(p,b,S,N,m):wl(p,b):(W._visibility|=2,Kr(p,b,S,N,m)),m&&q&2048&&Qd(b.alternate,b);break;case 24:Kr(p,b,S,N,m),m&&q&2048&&Kd(b.alternate,b);break;default:Kr(p,b,S,N,m)}a=a.sibling}}function wl(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,c=a,m=c.flags;switch(c.tag){case 22:wl(o,c),m&2048&&Qd(c.alternate,c);break;case 24:wl(o,c),m&2048&&Kd(c.alternate,c);break;default:wl(o,c)}a=a.sibling}}var Rl=8192;function Xr(i,a,o){if(i.subtreeFlags&Rl)for(i=i.child;i!==null;)q_(i,a,o),i=i.sibling}function q_(i,a,o){switch(i.tag){case 26:Xr(i,a,o),i.flags&Rl&&i.memoizedState!==null&&ox(o,ri,i.memoizedState,i.memoizedProps);break;case 5:Xr(i,a,o);break;case 3:case 4:var c=ri;ri=Jc(i.stateNode.containerInfo),Xr(i,a,o),ri=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Rl,Rl=16777216,Xr(i,a,o),Rl=c):Xr(i,a,o));break;default:Xr(i,a,o)}}function G_(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Cl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Fe=c,Q_(c,i)}G_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y_(i),i=i.sibling}function Y_(i){switch(i.tag){case 0:case 11:case 15:Cl(i),i.flags&2048&&Us(9,i,i.return);break;case 3:Cl(i);break;case 12:Cl(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Uc(i)):Cl(i);break;default:Cl(i)}}function Uc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];Fe=c,Q_(c,i)}G_(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Us(8,a,a.return),Uc(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Uc(a));break;default:Uc(a)}i=i.sibling}}function Q_(i,a){for(;Fe!==null;){var o=Fe;switch(o.tag){case 0:case 11:case 15:Us(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:hl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Fe=c;else t:for(o=i;Fe!==null;){c=Fe;var m=c.sibling,p=c.return;if(z_(c),c===o){Fe=null;break t}if(m!==null){m.return=p,Fe=m;break t}Fe=p}}}var TA={getCacheForType:function(i){var a=Ke(Ce),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o},cacheSignal:function(){return Ke(Ce).controller.signal}},SA=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ie=null,Mt=null,Vt=0,$t=0,Rn=null,js=!1,$r=!1,Xd=!1,rs=0,pe=0,Hs=0,Qa=0,$d=0,Cn=0,Wr=0,Dl=null,pn=null,Wd=!1,jc=0,K_=0,Hc=1/0,Fc=null,Fs=null,ze=0,qs=null,Zr=null,os=0,Zd=0,Jd=null,X_=null,Ml=0,tm=null;function Dn(){return(Yt&2)!==0&&Vt!==0?Vt&-Vt:Q.T!==null?rm():qu()}function $_(){if(Cn===0)if((Vt&536870912)===0||Pt){var i=ba;ba<<=1,(ba&3932160)===0&&(ba=262144),Cn=i}else Cn=536870912;return i=xn.current,i!==null&&(i.flags|=32),Cn}function yn(i,a,o){(i===ie&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(Jr(i,0),Gs(i,Vt,Cn,!1)),Ea(i,o),((Yt&2)===0||i!==ie)&&(i===ie&&((Yt&2)===0&&(Qa|=o),pe===4&&Gs(i,Vt,Cn,!1)),ki(i))}function W_(i,a,o){if((Yt&6)!==0)throw Error(s(327));var c=!o&&(a&127)===0&&(a&i.expiredLanes)===0||Wn(i,a),m=c?wA(i,a):nm(i,a,!0),p=c;do{if(m===0){$r&&!c&&Gs(i,a,0,!1);break}else{if(o=i.current.alternate,p&&!AA(o)){m=nm(i,a,!1),p=!1;continue}if(m===2){if(p=a,i.errorRecoveryDisabledLanes&p)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;t:{var S=i;m=Dl;var N=S.current.memoizedState.isDehydrated;if(N&&(Jr(S,b).flags|=256),b=nm(S,b,!1),b!==2){if(Xd&&!N){S.errorRecoveryDisabledLanes|=p,Qa|=p,m=4;break t}p=pn,pn=m,p!==null&&(pn===null?pn=p:pn.push.apply(pn,p))}m=b}if(p=!1,m!==2)continue}}if(m===1){Jr(i,0),Gs(i,a,0,!0);break}t:{switch(c=i,p=m,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Gs(c,a,Cn,!js);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(m=jc+300-ln(),10<m)){if(Gs(c,a,Cn,!js),yi(c,0,!0)!==0)break t;os=a,c.timeoutHandle=C0(Z_.bind(null,c,o,pn,Fc,Wd,a,Cn,Qa,Wr,js,p,"Throttled",-0,0),m);break t}Z_(c,o,pn,Fc,Wd,a,Cn,Qa,Wr,js,p,null,-0,0)}}break}while(!0);ki(i)}function Z_(i,a,o,c,m,p,b,S,N,q,W,tt,G,K){if(i.timeoutHandle=-1,tt=a.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},q_(a,p,tt);var dt=(p&62914560)===p?jc-ln():(p&4194048)===p?K_-ln():0;if(dt=lx(tt,dt),dt!==null){os=p,i.cancelPendingCommit=dt(r0.bind(null,i,a,p,o,c,m,b,S,N,W,tt,null,G,K)),Gs(i,p,b,!q);return}}r0(i,a,p,o,c,m,b,S,N)}function AA(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],p=m.getSnapshot;m=m.value;try{if(!Sn(p(),m))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Gs(i,a,o,c){a&=~$d,a&=~Qa,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var m=a;0<m;){var p=31-ye(m),b=1<<p;c[p]=-1,m&=~b}o!==0&&Ta(i,o,a)}function qc(){return(Yt&6)===0?(Ol(0),!1):!0}function em(){if(Mt!==null){if($t===0)var i=Mt.return;else i=Mt,$i=Pa=null,yd(i),Fr=null,dl=0,i=Mt;for(;i!==null;)D_(i.alternate,i),i=i.return;Mt=null}}function Jr(i,a){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,qA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),os=0,em(),ie=i,Mt=o=Ki(i.current,null),Vt=a,$t=0,Rn=null,js=!1,$r=Wn(i,a),Xd=!1,Wr=Cn=$d=Qa=Hs=pe=0,pn=Dl=null,Wd=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var m=31-ye(c),p=1<<m;a|=i[m],c&=~p}return rs=a,hc(),o}function J_(i,a){wt=null,Q.H=El,a===Hr||a===vc?(a=gy(),$t=3):a===ad?(a=gy(),$t=4):$t=a===Vd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Rn=a,Mt===null&&(pe=1,Vc(i,Ln(a,i.current)))}function t0(){var i=xn.current;return i===null?!0:(Vt&4194048)===Vt?Un===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?i===Un:!1}function e0(){var i=Q.H;return Q.H=El,i===null?El:i}function n0(){var i=Q.A;return Q.A=TA,i}function Gc(){pe=4,js||(Vt&4194048)!==Vt&&xn.current!==null||($r=!0),(Hs&134217727)===0&&(Qa&134217727)===0||ie===null||Gs(ie,Vt,Cn,!1)}function nm(i,a,o){var c=Yt;Yt|=2;var m=e0(),p=n0();(ie!==i||Vt!==a)&&(Fc=null,Jr(i,a)),a=!1;var b=pe;t:do try{if($t!==0&&Mt!==null){var S=Mt,N=Rn;switch($t){case 8:em(),b=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(a=!0);var q=$t;if($t=0,Rn=null,to(i,S,N,q),o&&$r){b=0;break t}break;default:q=$t,$t=0,Rn=null,to(i,S,N,q)}}xA(),b=pe;break}catch(W){J_(i,W)}while(!0);return a&&i.shellSuspendCounter++,$i=Pa=null,Yt=c,Q.H=m,Q.A=p,Mt===null&&(ie=null,Vt=0,hc()),b}function xA(){for(;Mt!==null;)i0(Mt)}function wA(i,a){var o=Yt;Yt|=2;var c=e0(),m=n0();ie!==i||Vt!==a?(Fc=null,Hc=ln()+500,Jr(i,a)):$r=Wn(i,a);t:do try{if($t!==0&&Mt!==null){a=Mt;var p=Rn;e:switch($t){case 1:$t=0,Rn=null,to(i,a,p,1);break;case 2:case 9:if(dy(p)){$t=0,Rn=null,s0(a);break}a=function(){$t!==2&&$t!==9||ie!==i||($t=7),ki(i)},p.then(a,a);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:dy(p)?($t=0,Rn=null,s0(a)):($t=0,Rn=null,to(i,a,p,7));break;case 5:var b=null;switch(Mt.tag){case 26:b=Mt.memoizedState;case 5:case 27:var S=Mt;if(b?F0(b):S.stateNode.complete){$t=0,Rn=null;var N=S.sibling;if(N!==null)Mt=N;else{var q=S.return;q!==null?(Mt=q,Yc(q)):Mt=null}break e}}$t=0,Rn=null,to(i,a,p,5);break;case 6:$t=0,Rn=null,to(i,a,p,6);break;case 8:em(),pe=6;break t;default:throw Error(s(462))}}RA();break}catch(W){J_(i,W)}while(!0);return $i=Pa=null,Q.H=c,Q.A=m,Yt=o,Mt!==null?0:(ie=null,Vt=0,hc(),pe)}function RA(){for(;Mt!==null&&!If();)i0(Mt)}function i0(i){var a=R_(i.alternate,i,rs);i.memoizedProps=i.pendingProps,a===null?Yc(i):Mt=a}function s0(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=E_(o,a,a.pendingProps,a.type,void 0,Vt);break;case 11:a=E_(o,a,a.pendingProps,a.type.render,a.ref,Vt);break;case 5:yd(a);default:D_(o,a),a=Mt=ny(a,rs),a=R_(o,a,rs)}i.memoizedProps=i.pendingProps,a===null?Yc(i):Mt=a}function to(i,a,o,c){$i=Pa=null,yd(a),Fr=null,dl=0;var m=a.return;try{if(gA(i,m,a,o,Vt)){pe=1,Vc(i,Ln(o,i.current)),Mt=null;return}}catch(p){if(m!==null)throw Mt=m,p;pe=1,Vc(i,Ln(o,i.current)),Mt=null;return}a.flags&32768?(Pt||c===1?i=!0:$r||(Vt&536870912)!==0?i=!1:(js=i=!0,(c===2||c===9||c===3||c===6)&&(c=xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),a0(a,i)):Yc(a)}function Yc(i){var a=i;do{if((a.flags&32768)!==0){a0(a,js);return}i=a.return;var o=_A(a.alternate,a,rs);if(o!==null){Mt=o;return}if(a=a.sibling,a!==null){Mt=a;return}Mt=a=i}while(a!==null);pe===0&&(pe=5)}function a0(i,a){do{var o=vA(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);pe=6,Mt=null}function r0(i,a,o,c,m,p,b,S,N){i.cancelPendingCommit=null;do Qc();while(ze!==0);if((Yt&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=qf,kf(i,o,p,b,S,N),i===ie&&(Mt=ie=null,Vt=0),Zr=a,qs=i,os=o,Zd=p,Jd=m,X_=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,OA(Es,function(){return h0(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,m=at.p,at.p=2,b=Yt,Yt|=4;try{bA(i,a,o)}finally{Yt=b,at.p=m,Q.T=c}}ze=1,o0(),l0(),u0()}}function o0(){if(ze===1){ze=0;var i=qs,a=Zr,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var c=at.p;at.p=2;var m=Yt;Yt|=4;try{j_(a,i);var p=mm,b=Qp(i.containerInfo),S=p.focusedElem,N=p.selectionRange;if(b!==S&&S&&S.ownerDocument&&Yp(S.ownerDocument.documentElement,S)){if(N!==null&&Bf(S)){var q=N.start,W=N.end;if(W===void 0&&(W=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(W,S.value.length);else{var tt=S.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var K=G.getSelection(),dt=S.textContent.length,vt=Math.min(N.start,dt),ne=N.end===void 0?vt:Math.min(N.end,dt);!K.extend&&vt>ne&&(b=ne,ne=vt,vt=b);var U=Gp(S,vt),P=Gp(S,ne);if(U&&P&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var F=tt.createRange();F.setStart(U.node,U.offset),K.removeAllRanges(),vt>ne?(K.addRange(F),K.extend(P.node,P.offset)):(F.setEnd(P.node,P.offset),K.addRange(F))}}}}for(tt=[],K=S;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var J=tt[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ah=!!dm,mm=dm=null}finally{Yt=m,at.p=c,Q.T=o}}i.current=a,ze=2}}function l0(){if(ze===2){ze=0;var i=qs,a=Zr,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var c=at.p;at.p=2;var m=Yt;Yt|=4;try{L_(i,a.alternate,a)}finally{Yt=m,at.p=c,Q.T=o}}ze=3}}function u0(){if(ze===4||ze===3){ze=0,zu();var i=qs,a=Zr,o=os,c=X_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ze=5:(ze=0,Zr=qs=null,c0(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Fs=null),qi(o),a=a.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot($n,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Q.T,m=at.p,at.p=2,Q.T=null;try{for(var p=i.onRecoverableError,b=0;b<c.length;b++){var S=c[b];p(S.value,{componentStack:S.stack})}}finally{Q.T=a,at.p=m}}(os&3)!==0&&Qc(),ki(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===tm?Ml++:(Ml=0,tm=i):Ml=0,Ol(0)}}function c0(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,hl(a)))}function Qc(){return o0(),l0(),u0(),h0()}function h0(){if(ze!==5)return!1;var i=qs,a=Zd;Zd=0;var o=qi(os),c=Q.T,m=at.p;try{at.p=32>o?32:o,Q.T=null,o=Jd,Jd=null;var p=qs,b=os;if(ze=0,Zr=qs=null,os=0,(Yt&6)!==0)throw Error(s(331));var S=Yt;if(Yt|=4,Y_(p.current),F_(p,p.current,b,o),Yt=S,Ol(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot($n,p)}catch{}return!0}finally{at.p=m,Q.T=c,c0(i,a)}}function f0(i,a,o){a=Ln(o,a),a=Id(i.stateNode,a,2),i=zs(i,a,2),i!==null&&(Ea(i,2),ki(i))}function Wt(i,a,o){if(i.tag===3)f0(i,i,o);else for(;a!==null;){if(a.tag===3){f0(a,i,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Fs===null||!Fs.has(c))){i=Ln(o,i),o=d_(2),c=zs(a,o,2),c!==null&&(m_(o,c,a,i),Ea(c,2),ki(c));break}}a=a.return}}function im(i,a,o){var c=i.pingCache;if(c===null){c=i.pingCache=new SA;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(o)||(Xd=!0,m.add(o),i=CA.bind(null,i,a,o),a.then(i,i))}function CA(i,a,o){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ie===i&&(Vt&o)===o&&(pe===4||pe===3&&(Vt&62914560)===Vt&&300>ln()-jc?(Yt&2)===0&&Jr(i,0):$d|=o,Wr===Vt&&(Wr=0)),ki(i)}function d0(i,a){a===0&&(a=Fu()),i=ka(i,a),i!==null&&(Ea(i,a),ki(i))}function DA(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),d0(i,o)}function MA(i,a){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(a),d0(i,o)}function OA(i,a){return Le(i,a)}var Kc=null,eo=null,sm=!1,Xc=!1,am=!1,Ys=0;function ki(i){i!==eo&&i.next===null&&(eo===null?Kc=eo=i:eo=eo.next=i),Xc=!0,sm||(sm=!0,VA())}function Ol(i,a){if(!am&&Xc){am=!0;do for(var o=!1,c=Kc;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var b=c.suspendedLanes,S=c.pingedLanes;p=(1<<31-ye(42|i)+1)-1,p&=m&~(b&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,y0(c,p))}else p=Vt,p=yi(c,c===ie?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Wn(c,p)||(o=!0,y0(c,p));c=c.next}while(o);am=!1}}function IA(){m0()}function m0(){Xc=sm=!1;var i=0;Ys!==0&&FA()&&(i=Ys);for(var a=ln(),o=null,c=Kc;c!==null;){var m=c.next,p=g0(c,a);p===0?(c.next=null,o===null?Kc=m:o.next=m,m===null&&(eo=o)):(o=c,(i!==0||(p&3)!==0)&&(Xc=!0)),c=m}ze!==0&&ze!==5||Ol(i),Ys!==0&&(Ys=0)}function g0(i,a){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var b=31-ye(p),S=1<<b,N=m[b];N===-1?((S&o)===0||(S&c)!==0)&&(m[b]=Nf(S,a)):N<=a&&(i.expiredLanes|=S),p&=~S}if(a=ie,o=Vt,o=yi(i,i===a?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===a&&($t===2||$t===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&bs(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Wn(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(c!==null&&bs(c),qi(o)){case 2:case 8:o=jo;break;case 32:o=Es;break;case 268435456:o=Pu;break;default:o=Es}return c=p0.bind(null,i),o=Le(o,c),i.callbackPriority=a,i.callbackNode=o,a}return c!==null&&c!==null&&bs(c),i.callbackPriority=2,i.callbackNode=null,2}function p0(i,a){if(ze!==0&&ze!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Qc()&&i.callbackNode!==o)return null;var c=Vt;return c=yi(i,i===ie?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(W_(i,c,a),g0(i,ln()),i.callbackNode!=null&&i.callbackNode===o?p0.bind(null,i):null)}function y0(i,a){if(Qc())return null;W_(i,a,!0)}function VA(){GA(function(){(Yt&6)!==0?Le(Uo,IA):m0()})}function rm(){if(Ys===0){var i=Ur;i===0&&(i=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Ys=i}return Ys}function _0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:xr(""+i)}function v0(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function NA(i,a,o,c,m){if(a==="submit"&&o&&o.stateNode===m){var p=_0((m[je]||null).action),b=c.submitter;b&&(a=(a=b[je]||null)?_0(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var S=new Ci("action","action",null,c,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ys!==0){var N=b?v0(m,b):new FormData(m);wd(o,{pending:!0,data:N,method:m.method,action:p},null,N)}}else typeof p=="function"&&(S.preventDefault(),N=b?v0(m,b):new FormData(m),wd(o,{pending:!0,data:N,method:m.method,action:p},p,N))},currentTarget:m}]})}}for(var om=0;om<Ff.length;om++){var lm=Ff[om],kA=lm.toLowerCase(),LA=lm[0].toUpperCase()+lm.slice(1);ai(kA,"on"+LA)}ai($p,"onAnimationEnd"),ai(Wp,"onAnimationIteration"),ai(Zp,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(ZS,"onTransitionRun"),ai(JS,"onTransitionStart"),ai(tA,"onTransitionCancel"),ai(Jp,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function b0(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;t:{var p=void 0;if(a)for(var b=c.length-1;0<=b;b--){var S=c[b],N=S.instance,q=S.currentTarget;if(S=S.listener,N!==p&&m.isPropagationStopped())break t;p=S,m.currentTarget=q;try{p(m)}catch(W){cc(W)}m.currentTarget=null,p=N}else for(b=0;b<c.length;b++){if(S=c[b],N=S.instance,q=S.currentTarget,S=S.listener,N!==p&&m.isPropagationStopped())break t;p=S,m.currentTarget=q;try{p(m)}catch(W){cc(W)}m.currentTarget=null,p=N}}}}function Ot(i,a){var o=a[br];o===void 0&&(o=a[br]=new Set);var c=i+"__bubble";o.has(c)||(E0(a,i,2,!1),o.add(c))}function um(i,a,o){var c=0;a&&(c|=4),E0(o,i,c,a)}var $c="_reactListening"+Math.random().toString(36).slice(2);function cm(i){if(!i[$c]){i[$c]=!0,qo.forEach(function(o){o!=="selectionchange"&&(zA.has(o)||um(o,!1,i),um(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[$c]||(a[$c]=!0,um("selectionchange",!1,a))}}function E0(i,a,o,c){switch($0(a)){case 2:var m=hx;break;case 8:m=fx;break;default:m=xm}o=m.bind(null,a,o,i),m=void 0,!Ra||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(a,o,{capture:!0,passive:m}):i.addEventListener(a,o,!0):m!==void 0?i.addEventListener(a,o,{passive:m}):i.addEventListener(a,o,!1)}function hm(i,a,o,c,m){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var S=c.stateNode.containerInfo;if(S===m)break;if(b===4)for(b=c.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;S!==null;){if(b=Ei(S),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){c=p=b;continue t}S=S.parentNode}}c=c.return}Rs(function(){var q=p,W=In(o),tt=[];t:{var G=ty.get(i);if(G!==void 0){var K=Ci,dt=i;switch(i){case"keypress":if(Da(o)===0)break t;case"keydown":case"keyup":K=oc;break;case"focusin":dt="focus",K=Oa;break;case"focusout":dt="blur",K=Oa;break;case"beforeblur":case"afterblur":K=Oa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case $p:case Wp:case Zp:K=tc;break;case Jp:K=x;break;case"scroll":case"scrollend":K=nl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Qi;break;case"toggle":case"beforetoggle":K=xt}var vt=(a&4)!==0,ne=!vt&&(i==="scroll"||i==="scrollend"),U=vt?G!==null?G+"Capture":null:G;vt=[];for(var P=q,F;P!==null;){var J=P;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||U===null||(J=ei(P,U),J!=null&&vt.push(Vl(P,J,F))),ne)break;P=P.return}0<vt.length&&(G=new K(G,dt,null,o,W),tt.push({event:G,listeners:vt}))}}if((a&7)===0){t:{if(G=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",G&&o!==Jo&&(dt=o.relatedTarget||o.fromElement)&&(Ei(dt)||dt[vi]))break t;if((K||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,K?(dt=o.relatedTarget||o.toElement,K=q,dt=dt?Ei(dt):null,dt!==null&&(ne=l(dt),vt=dt.tag,dt!==ne||vt!==5&&vt!==27&&vt!==6)&&(dt=null)):(K=null,dt=q),K!==dt)){if(vt=il,J="onMouseLeave",U="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Qi,J="onPointerLeave",U="onPointerEnter",P="pointer"),ne=K==null?G:En(K),F=dt==null?G:En(dt),G=new vt(J,P+"leave",K,o,W),G.target=ne,G.relatedTarget=F,J=null,Ei(W)===q&&(vt=new vt(U,P+"enter",dt,o,W),vt.target=F,vt.relatedTarget=ne,J=vt),ne=J,K&&dt)e:{for(vt=PA,U=K,P=dt,F=0,J=U;J;J=vt(J))F++;J=0;for(var pt=P;pt;pt=vt(pt))J++;for(;0<F-J;)U=vt(U),F--;for(;0<J-F;)P=vt(P),J--;for(;F--;){if(U===P||P!==null&&U===P.alternate){vt=U;break e}U=vt(U),P=vt(P)}vt=null}else vt=null;K!==null&&T0(tt,G,K,vt,!1),dt!==null&&ne!==null&&T0(tt,ne,dt,vt,!0)}}t:{if(G=q?En(q):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Ht=Bp;else if(zp(G))if(Up)Ht=XS;else{Ht=QS;var mt=YS}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Ar(q.elementType)&&(Ht=Bp):Ht=KS;if(Ht&&(Ht=Ht(i,q))){Pp(tt,Ht,o,W);break t}mt&&mt(i,G,q),i==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&$o(G,"number",G.value)}switch(mt=q?En(q):window,i){case"focusin":(zp(mt)||mt.contentEditable==="true")&&(Ir=mt,Uf=q,ll=null);break;case"focusout":ll=Uf=Ir=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Kp(tt,o,W);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":Kp(tt,o,W)}var Ct;if(Gt)t:{switch(i){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Or?Ia(i,o)&&(Nt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Nt="onCompositionStart");Nt&&(Oi&&o.locale!=="ko"&&(Or||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Or&&(Ct=el()):(Ri=W,tl="value"in Ri?Ri.value:Ri.textContent,Or=!0)),mt=Wc(q,Nt),0<mt.length&&(Nt=new Mi(Nt,i,null,o,W),tt.push({event:Nt,listeners:mt}),Ct?Nt.data=Ct:(Ct=Mr(o),Ct!==null&&(Nt.data=Ct)))),(Ct=Nn?HS(i,o):FS(i,o))&&(Nt=Wc(q,"onBeforeInput"),0<Nt.length&&(mt=new Mi("onBeforeInput","beforeinput",null,o,W),tt.push({event:mt,listeners:Nt}),mt.data=Ct)),NA(tt,i,q,o,W)}b0(tt,a)})}function Vl(i,a,o){return{instance:i,listener:a,currentTarget:o}}function Wc(i,a){for(var o=a+"Capture",c=[];i!==null;){var m=i,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=ei(i,o),m!=null&&c.unshift(Vl(i,m,p)),m=ei(i,a),m!=null&&c.push(Vl(i,m,p))),i.tag===3)return c;i=i.return}return[]}function PA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function T0(i,a,o,c,m){for(var p=a._reactName,b=[];o!==null&&o!==c;){var S=o,N=S.alternate,q=S.stateNode;if(S=S.tag,N!==null&&N===c)break;S!==5&&S!==26&&S!==27||q===null||(N=q,m?(q=ei(o,p),q!=null&&b.unshift(Vl(o,q,N))):m||(q=ei(o,p),q!=null&&b.push(Vl(o,q,N)))),o=o.return}b.length!==0&&i.push({event:a,listeners:b})}var BA=/\r\n?/g,UA=/\u0000|\uFFFD/g;function S0(i){return(typeof i=="string"?i:""+i).replace(BA,`
`).replace(UA,"")}function A0(i,a){return a=S0(a),S0(i)===a}function ee(i,a,o,c,m,p){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||fn(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&fn(i,""+c);break;case"className":Tn(i,"class",c);break;case"tabIndex":Tn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(i,o,c);break;case"style":Zo(i,c,p);break;case"data":if(a!=="object"){Tn(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=xr(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&ee(i,a,"name",m.name,m,null),ee(i,a,"formEncType",m.formEncType,m,null),ee(i,a,"formMethod",m.formMethod,m,null),ee(i,a,"formTarget",m.formTarget,m,null)):(ee(i,a,"encType",m.encType,m,null),ee(i,a,"method",m.method,m,null),ee(i,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=xr(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=ti);break;case"onScroll":c!=null&&Ot("scroll",i);break;case"onScrollEnd":c!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=xr(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),Tr(i,"popover",c);break;case"xlinkActuate":Re(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Re(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Re(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Re(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Re(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Re(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Re(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Re(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Re(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Tr(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wu.get(o)||o,Tr(i,o,c))}}function fm(i,a,o,c,m,p){switch(o){case"style":Zo(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?fn(i,c):(typeof c=="number"||typeof c=="bigint")&&fn(i,""+c);break;case"onScroll":c!=null&&Ot("scroll",i);break;case"onScrollEnd":c!=null&&Ot("scrollend",i);break;case"onClick":c!=null&&(i.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),a=o.slice(2,m?o.length-7:void 0),p=i[je]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(a,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,c,m);break t}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Tr(i,o,c)}}}function $e(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var c=!1,m=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:ee(i,a,p,b,o,null)}}m&&ee(i,a,"srcSet",o.srcSet,o,null),c&&ee(i,a,"src",o.src,o,null);return;case"input":Ot("invalid",i);var S=p=b=m=null,N=null,q=null;for(c in o)if(o.hasOwnProperty(c)){var W=o[c];if(W!=null)switch(c){case"name":m=W;break;case"type":b=W;break;case"checked":N=W;break;case"defaultChecked":q=W;break;case"value":p=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,a));break;default:ee(i,a,c,W,o,null)}}Ku(i,p,S,N,q,b,m,!1);return;case"select":Ot("invalid",i),c=b=p=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":p=S;break;case"defaultValue":b=S;break;case"multiple":c=S;default:ee(i,a,m,S,o,null)}a=p,o=b,i.multiple=!!c,a!=null?Ss(i,!!c,a,!1):o!=null&&Ss(i,!!c,o,!0);return;case"textarea":Ot("invalid",i),p=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":c=S;break;case"defaultValue":m=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ee(i,a,b,S,o,null)}As(i,c,m,p);return;case"option":for(N in o)o.hasOwnProperty(N)&&(c=o[N],c!=null)&&(N==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":ee(i,a,N,c,o,null));return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(c=0;c<Il.length;c++)Ot(Il[c],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(c=o[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:ee(i,a,q,c,o,null)}return;default:if(Ar(a)){for(W in o)o.hasOwnProperty(W)&&(c=o[W],c!==void 0&&fm(i,a,W,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&ee(i,a,S,c,o,null))}function jA(i,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,b=null,S=null,N=null,q=null,W=null;for(K in o){var tt=o[K];if(o.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=tt;default:c.hasOwnProperty(K)||ee(i,a,K,null,c,tt)}}for(var G in c){var K=c[G];if(tt=o[G],c.hasOwnProperty(G)&&(K!=null||tt!=null))switch(G){case"type":p=K;break;case"name":m=K;break;case"checked":q=K;break;case"defaultChecked":W=K;break;case"value":b=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,a));break;default:K!==tt&&ee(i,a,G,K,c,tt)}}Sr(i,b,S,N,q,W,p,m);return;case"select":K=b=S=G=null;for(p in o)if(N=o[p],o.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":K=N;default:c.hasOwnProperty(p)||ee(i,a,p,null,c,N)}for(m in c)if(p=c[m],N=o[m],c.hasOwnProperty(m)&&(p!=null||N!=null))switch(m){case"value":G=p;break;case"defaultValue":S=p;break;case"multiple":b=p;default:p!==N&&ee(i,a,m,p,c,N)}a=S,o=b,c=K,G!=null?Ss(i,!!o,G,!1):!!c!=!!o&&(a!=null?Ss(i,!!o,a,!0):Ss(i,!!o,o?[]:"",!1));return;case"textarea":K=G=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ee(i,a,S,null,c,m)}for(b in c)if(m=c[b],p=o[b],c.hasOwnProperty(b)&&(m!=null||p!=null))switch(b){case"value":G=m;break;case"defaultValue":K=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==p&&ee(i,a,b,m,c,p)}Xu(i,G,K);return;case"option":for(var dt in o)G=o[dt],o.hasOwnProperty(dt)&&G!=null&&!c.hasOwnProperty(dt)&&(dt==="selected"?i.selected=!1:ee(i,a,dt,null,c,G));for(N in c)G=c[N],K=o[N],c.hasOwnProperty(N)&&G!==K&&(G!=null||K!=null)&&(N==="selected"?i.selected=G&&typeof G!="function"&&typeof G!="symbol":ee(i,a,N,G,c,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)G=o[vt],o.hasOwnProperty(vt)&&G!=null&&!c.hasOwnProperty(vt)&&ee(i,a,vt,null,c,G);for(q in c)if(G=c[q],K=o[q],c.hasOwnProperty(q)&&G!==K&&(G!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,a));break;default:ee(i,a,q,G,c,K)}return;default:if(Ar(a)){for(var ne in o)G=o[ne],o.hasOwnProperty(ne)&&G!==void 0&&!c.hasOwnProperty(ne)&&fm(i,a,ne,void 0,c,G);for(W in c)G=c[W],K=o[W],!c.hasOwnProperty(W)||G===K||G===void 0&&K===void 0||fm(i,a,W,G,c,K);return}}for(var U in o)G=o[U],o.hasOwnProperty(U)&&G!=null&&!c.hasOwnProperty(U)&&ee(i,a,U,null,c,G);for(tt in c)G=c[tt],K=o[tt],!c.hasOwnProperty(tt)||G===K||G==null&&K==null||ee(i,a,tt,G,c,K)}function x0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],p=m.transferSize,b=m.initiatorType,S=m.duration;if(p&&S&&x0(b)){for(b=0,S=m.responseEnd,c+=1;c<o.length;c++){var N=o[c],q=N.startTime;if(q>S)break;var W=N.transferSize,tt=N.initiatorType;W&&x0(tt)&&(N=N.responseEnd,b+=W*(N<S?1:(S-q)/(N-q)))}if(--c,a+=8*(p+b)/(m.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var dm=null,mm=null;function Zc(i){return i.nodeType===9?i:i.ownerDocument}function w0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R0(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function gm(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var pm=null;function FA(){var i=window.event;return i&&i.type==="popstate"?i===pm?!1:(pm=i,!0):(pm=null,!1)}var C0=typeof setTimeout=="function"?setTimeout:void 0,qA=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(i){return D0.resolve(null).then(i).catch(YA)}:C0;function YA(i){setTimeout(function(){throw i})}function Qs(i){return i==="head"}function M0(i,a){var o=a,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),ao(a);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Nl(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Nl(o);for(var p=o.firstChild;p;){var b=p.nextSibling,S=p.nodeName;p[bi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&Nl(i.ownerDocument.body);o=m}while(o);ao(a)}function O0(i,a){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function ym(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ym(o),Er(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function QA(i,a,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[bi])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=jn(i.nextSibling),i===null)break}return null}function KA(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=jn(i.nextSibling),i===null))return null;return i}function I0(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=jn(i.nextSibling),i===null))return null;return i}function _m(i){return i.data==="$?"||i.data==="$~"}function vm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function XA(i,a){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||o.readyState!=="loading")a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function jn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var bm=null;function V0(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(a===0)return jn(i.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}i=i.nextSibling}return null}function N0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return i;a--}else o!=="/$"&&o!=="/&"||a++}i=i.previousSibling}return null}function k0(i,a,o){switch(a=Zc(o),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Nl(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Er(i)}var Hn=new Map,L0=new Set;function Jc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ls=at.d;at.d={f:$A,r:WA,D:ZA,C:JA,L:tx,m:ex,X:ix,S:nx,M:sx};function $A(){var i=ls.f(),a=qc();return i||a}function WA(i){var a=On(i);a!==null&&a.tag===5&&a.type==="form"?Jy(a):ls.r(i)}var no=typeof document>"u"?null:document;function z0(i,a,o){var c=no;if(c&&typeof a=="string"&&a){var m=hn(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),L0.has(m)||(L0.add(m),i={rel:i,crossOrigin:o,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),$e(a,"link",i),we(a),c.head.appendChild(a)))}}function ZA(i){ls.D(i),z0("dns-prefetch",i,null)}function JA(i,a){ls.C(i,a),z0("preconnect",i,a)}function tx(i,a,o){ls.L(i,a,o);var c=no;if(c&&i&&a){var m='link[rel="preload"][as="'+hn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+hn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+hn(o.imageSizes)+'"]')):m+='[href="'+hn(i)+'"]';var p=m;switch(a){case"style":p=io(i);break;case"script":p=so(i)}Hn.has(p)||(i=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),Hn.set(p,i),c.querySelector(m)!==null||a==="style"&&c.querySelector(kl(p))||a==="script"&&c.querySelector(Ll(p))||(a=c.createElement("link"),$e(a,"link",i),we(a),c.head.appendChild(a)))}}function ex(i,a){ls.m(i,a);var o=no;if(o&&i){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+hn(c)+'"][href="'+hn(i)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=so(i)}if(!Hn.has(p)&&(i=v({rel:"modulepreload",href:i},a),Hn.set(p,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ll(p)))return}c=o.createElement("link"),$e(c,"link",i),we(c),o.head.appendChild(c)}}}function nx(i,a,o){ls.S(i,a,o);var c=no;if(c&&i){var m=Ti(c).hoistableStyles,p=io(i);a=a||"default";var b=m.get(p);if(!b){var S={loading:0,preload:null};if(b=c.querySelector(kl(p)))S.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":a},o),(o=Hn.get(p))&&Em(i,o);var N=b=c.createElement("link");we(N),$e(N,"link",i),N._p=new Promise(function(q,W){N.onload=q,N.onerror=W}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,th(b,a,c)}b={type:"stylesheet",instance:b,count:1,state:S},m.set(p,b)}}}function ix(i,a){ls.X(i,a);var o=no;if(o&&i){var c=Ti(o).hoistableScripts,m=so(i),p=c.get(m);p||(p=o.querySelector(Ll(m)),p||(i=v({src:i,async:!0},a),(a=Hn.get(m))&&Tm(i,a),p=o.createElement("script"),we(p),$e(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function sx(i,a){ls.M(i,a);var o=no;if(o&&i){var c=Ti(o).hoistableScripts,m=so(i),p=c.get(m);p||(p=o.querySelector(Ll(m)),p||(i=v({src:i,async:!0,type:"module"},a),(a=Hn.get(m))&&Tm(i,a),p=o.createElement("script"),we(p),$e(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function P0(i,a,o,c){var m=(m=bt.current)?Jc(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=io(o.href),o=Ti(m).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=io(o.href);var p=Ti(m).hoistableStyles,b=p.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,b),(p=m.querySelector(kl(i)))&&!p._p&&(b.instance=p,b.state.loading=5),Hn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hn.set(i,o),p||ax(m,i,o,b.state))),a&&c===null)throw Error(s(528,""));return b}if(a&&c!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=so(o),o=Ti(m).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function io(i){return'href="'+hn(i)+'"'}function kl(i){return'link[rel="stylesheet"]['+i+"]"}function B0(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function ax(i,a,o,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),$e(a,"link",o),we(a),i.head.appendChild(a))}function so(i){return'[src="'+hn(i)+'"]'}function Ll(i){return"script[async]"+i}function U0(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+hn(o.href)+'"]');if(c)return a.instance=c,we(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),we(c),$e(c,"style",m),th(c,o.precedence,i),a.instance=c;case"stylesheet":m=io(o.href);var p=i.querySelector(kl(m));if(p)return a.state.loading|=4,a.instance=p,we(p),p;c=B0(o),(m=Hn.get(m))&&Em(c,m),p=(i.ownerDocument||i).createElement("link"),we(p);var b=p;return b._p=new Promise(function(S,N){b.onload=S,b.onerror=N}),$e(p,"link",c),a.state.loading|=4,th(p,o.precedence,i),a.instance=p;case"script":return p=so(o.src),(m=i.querySelector(Ll(p)))?(a.instance=m,we(m),m):(c=o,(m=Hn.get(p))&&(c=v({},o),Tm(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),we(m),$e(m,"link",c),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,th(c,o.precedence,i));return a.instance}function th(i,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,b=0;b<c.length;b++){var S=c[b];if(S.dataset.precedence===a)p=S;else if(p!==m)break}p?p.parentNode.insertBefore(i,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function Em(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Tm(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var eh=null;function j0(i,a,o){if(eh===null){var c=new Map,m=eh=new Map;m.set(o,c)}else m=eh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var p=o[m];if(!(p[bi]||p[xe]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=i+b;var S=c.get(b);S?S.push(p):c.set(b,[p])}}return c}function H0(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function rx(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function F0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function ox(i,a,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=io(c.href),p=a.querySelector(kl(m));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=nh.bind(i),a.then(i,i)),o.state.loading|=4,o.instance=p,we(p);return}p=a.ownerDocument||a,c=B0(c),(m=Hn.get(m))&&Em(c,m),p=p.createElement("link"),we(p);var b=p;b._p=new Promise(function(S,N){b.onload=S,b.onerror=N}),$e(p,"link",c),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=nh.bind(i),a.addEventListener("load",o),a.addEventListener("error",o))}}var Sm=0;function lx(i,a){return i.stylesheets&&i.count===0&&sh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&sh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+a);0<i.imgBytes&&Sm===0&&(Sm=62500*HA());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&sh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Sm?50:800)+a);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ih=null;function sh(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ih=new Map,a.forEach(ux,i),ih=null,nh.call(i))}function ux(i,a){if(!(a.state.loading&4)){var o=ih.get(i);if(o)var c=o.get(null);else{o=new Map,ih.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var b=m[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=a.instance,b=m.getAttribute("data-precedence"),p=o.get(b)||c,p===c&&o.set(null,m),o.set(b,m),this.count++,c=nh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var zl={$$typeof:$,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function cx(i,a,o,c,m,p,b,S,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function q0(i,a,o,c,m,p,b,S,N,q,W,tt){return i=new cx(i,a,o,b,N,q,W,tt,S),a=1,p===!0&&(a|=24),p=An(3,null,null,a),i.current=p,p.stateNode=i,a=nd(),a.refCount++,i.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:a},rd(p),i}function G0(i){return i?(i=kr,i):kr}function Y0(i,a,o,c,m,p){m=G0(m),c.context===null?c.context=m:c.pendingContext=m,c=Ls(a),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=zs(i,c,a),o!==null&&(yn(o,i,a),gl(o,i,a))}function Q0(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function Am(i,a){Q0(i,a),(i=i.alternate)&&Q0(i,a)}function K0(i){if(i.tag===13||i.tag===31){var a=ka(i,67108864);a!==null&&yn(a,i,67108864),Am(i,67108864)}}function X0(i){if(i.tag===13||i.tag===31){var a=Dn();a=Sa(a);var o=ka(i,a);o!==null&&yn(o,i,a),Am(i,a)}}var ah=!0;function hx(i,a,o,c){var m=Q.T;Q.T=null;var p=at.p;try{at.p=2,xm(i,a,o,c)}finally{at.p=p,Q.T=m}}function fx(i,a,o,c){var m=Q.T;Q.T=null;var p=at.p;try{at.p=8,xm(i,a,o,c)}finally{at.p=p,Q.T=m}}function xm(i,a,o,c){if(ah){var m=wm(c);if(m===null)hm(i,a,c,rh,o),W0(i,c);else if(mx(m,i,a,o,c))c.stopPropagation();else if(W0(i,c),a&4&&-1<dx.indexOf(i)){for(;m!==null;){var p=On(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=pi(p.pendingLanes);if(b!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var N=1<<31-ye(b);S.entanglements[1]|=N,b&=~N}ki(p),(Yt&6)===0&&(Hc=ln()+500,Ol(0))}}break;case 31:case 13:S=ka(p,2),S!==null&&yn(S,p,2),qc(),Am(p,2)}if(p=wm(c),p===null&&hm(i,a,c,rh,o),p===m)break;m=p}m!==null&&c.stopPropagation()}else hm(i,a,c,null,o)}}function wm(i){return i=In(i),Rm(i)}var rh=null;function Rm(i){if(rh=null,i=Ei(i),i!==null){var a=l(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=u(a),i!==null)return i;i=null}else if(o===31){if(i=h(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return rh=i,null}function $0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(va()){case Uo:return 2;case jo:return 8;case Es:case Vf:return 32;case Pu:return 268435456;default:return 32}default:return 32}}var Cm=!1,Ks=null,Xs=null,$s=null,Pl=new Map,Bl=new Map,Ws=[],dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W0(i,a){switch(i){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Pl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(a.pointerId)}}function Ul(i,a,o,c,m,p){return i===null||i.nativeEvent!==p?(i={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},a!==null&&(a=On(a),a!==null&&K0(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function mx(i,a,o,c,m){switch(a){case"focusin":return Ks=Ul(Ks,i,a,o,c,m),!0;case"dragenter":return Xs=Ul(Xs,i,a,o,c,m),!0;case"mouseover":return $s=Ul($s,i,a,o,c,m),!0;case"pointerover":var p=m.pointerId;return Pl.set(p,Ul(Pl.get(p)||null,i,a,o,c,m)),!0;case"gotpointercapture":return p=m.pointerId,Bl.set(p,Ul(Bl.get(p)||null,i,a,o,c,m)),!0}return!1}function Z0(i){var a=Ei(i.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=u(o),a!==null){i.blockedOn=a,Zn(i.priority,function(){X0(o)});return}}else if(a===31){if(a=h(o),a!==null){i.blockedOn=a,Zn(i.priority,function(){X0(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function oh(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=wm(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Jo=c,o.target.dispatchEvent(c),Jo=null}else return a=On(o),a!==null&&K0(a),i.blockedOn=o,!1;a.shift()}return!0}function J0(i,a,o){oh(i)&&o.delete(a)}function gx(){Cm=!1,Ks!==null&&oh(Ks)&&(Ks=null),Xs!==null&&oh(Xs)&&(Xs=null),$s!==null&&oh($s)&&($s=null),Pl.forEach(J0),Bl.forEach(J0)}function lh(i,a){i.blockedOn===a&&(i.blockedOn=null,Cm||(Cm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gx)))}var uh=null;function tv(i){uh!==i&&(uh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uh===i&&(uh=null);for(var a=0;a<i.length;a+=3){var o=i[a],c=i[a+1],m=i[a+2];if(typeof c!="function"){if(Rm(c||o)===null)continue;break}var p=On(o);p!==null&&(i.splice(a,3),a-=3,wd(p,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function ao(i){function a(N){return lh(N,i)}Ks!==null&&lh(Ks,i),Xs!==null&&lh(Xs,i),$s!==null&&lh($s,i),Pl.forEach(a),Bl.forEach(a);for(var o=0;o<Ws.length;o++){var c=Ws[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ws.length&&(o=Ws[0],o.blockedOn===null);)Z0(o),o.blockedOn===null&&Ws.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],p=o[c+1],b=m[je]||null;if(typeof p=="function")b||tv(o);else if(b){var S=null;if(p&&p.hasAttribute("formAction")){if(m=p,b=p[je]||null)S=b.formAction;else if(Rm(m)!==null)continue}else S=b.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),tv(o)}}}function ev(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function Dm(i){this._internalRoot=i}ch.prototype.render=Dm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,c=Dn();Y0(o,c,i,a,null,null)},ch.prototype.unmount=Dm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Y0(i.current,2,null,i,null,null),qc(),a[vi]=null}};function ch(i){this._internalRoot=i}ch.prototype.unstable_scheduleHydration=function(i){if(i){var a=qu();i={blockedOn:null,target:i,priority:a};for(var o=0;o<Ws.length&&a!==0&&a<Ws[o].priority;o++);Ws.splice(o,0,i),o===0&&Z0(i)}};var nv=t.version;if(nv!=="19.2.4")throw Error(s(527,nv,"19.2.4"));at.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(a),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var px={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{$n=hh.inject(px),Ge=hh}catch{}}return Hl.createRoot=function(i,a){if(!r(i))throw Error(s(299));var o=!1,c="",m=u_,p=c_,b=h_;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=q0(i,1,!1,null,null,o,c,null,m,p,b,ev),i[vi]=a.current,cm(i),new Dm(a)},Hl.hydrateRoot=function(i,a,o){if(!r(i))throw Error(s(299));var c=!1,m="",p=u_,b=c_,S=h_,N=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),a=q0(i,1,!0,a,o??null,c,m,N,p,b,S,ev),a.context=G0(null),o=a.current,c=Dn(),c=Sa(c),m=Ls(c),m.callback=null,zs(o,m,c),o=c,a.current.lanes=o,Ea(a,o),ki(a),i[vi]=a.current,cm(i),new ch(a)},Hl.version="19.2.4",Hl}var fv;function wx(){if(fv)return Im.exports;fv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Im.exports=xx(),Im.exports}var Rx=wx();var dv="popstate";function Cx(n={}){function t(r,l){let{pathname:u="/",search:h="",hash:d=""}=ur(r.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),rg("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(r,l){let u=r.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=r.location.href,g=d.indexOf("#");h=g===-1?d:d.slice(0,g)}return h+"#"+(typeof l=="string"?l:fu(l))}function s(r,l){fi(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Mx(t,e,s,n)}function de(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function fi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dx(){return Math.random().toString(36).substring(2,10)}function mv(n,t){return{usr:n.state,key:n.key,idx:t}}function rg(n,t,e=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ur(t):t,state:e,key:t&&t.key||s||Dx()}}function fu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ur(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let s=n.indexOf("?");s>=0&&(t.search=n.substring(s),n=n.substring(0,s)),n&&(t.pathname=n)}return t}function Mx(n,t,e,s={}){let{window:r=document.defaultView,v5Compat:l=!1}=s,u=r.history,h="POP",d=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let M=y(),B=M==null?null:M-g;g=M,d&&d({action:h,location:D.location,delta:B})}function T(M,B){h="PUSH";let j=rg(D.location,M,B);e&&e(j,M),g=y()+1;let $=mv(j,g),st=D.createHref(j);try{u.pushState($,"",st)}catch(it){if(it instanceof DOMException&&it.name==="DataCloneError")throw it;r.location.assign(st)}l&&d&&d({action:h,location:D.location,delta:1})}function A(M,B){h="REPLACE";let j=rg(D.location,M,B);e&&e(j,M),g=y();let $=mv(j,g),st=D.createHref(j);u.replaceState($,"",st),l&&d&&d({action:h,location:D.location,delta:0})}function O(M){return Ox(M)}let D={get action(){return h},get location(){return n(r,u)},listen(M){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(dv,v),d=M,()=>{r.removeEventListener(dv,v),d=null}},createHref(M){return t(r,M)},createURL:O,encodeLocation(M){let B=O(M);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:T,replace:A,go(M){return u.go(M)}};return D}function Ox(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),de(e,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:fu(n);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function GE(n,t,e="/"){return Ix(n,t,e,!1)}function Ix(n,t,e,s){let r=typeof t=="string"?ur(t):t,l=gs(r.pathname||"/",e);if(l==null)return null;let u=YE(n);Vx(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let g=qx(l);h=Hx(u[d],g,s)}return h}function YE(n,t=[],e=[],s="",r=!1){let l=(u,h,d=r,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&d)return;de(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=ds([s,y.relativePath]),T=e.concat(y);u.children&&u.children.length>0&&(de(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),YE(u.children,t,T,v,d)),!(u.path==null&&!u.index)&&t.push({path:v,score:Ux(v,u.index),routesMeta:T})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of QE(u.path))l(u,h,!0,d)}),t}function QE(n){let t=n.split("/");if(t.length===0)return[];let[e,...s]=t,r=e.endsWith("?"),l=e.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let u=QE(s.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),r&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function Vx(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:jx(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var Nx=/^:[\w-]+$/,kx=3,Lx=2,zx=1,Px=10,Bx=-2,gv=n=>n==="*";function Ux(n,t){let e=n.split("/"),s=e.length;return e.some(gv)&&(s+=Bx),t&&(s+=Lx),e.filter(r=>!gv(r)).reduce((r,l)=>r+(Nx.test(l)?kx:l===""?zx:Px),s)}function jx(n,t){return n.length===t.length&&n.slice(0,-1).every((s,r)=>s===t[r])?n[n.length-1]-t[t.length-1]:0}function Hx(n,t,e=!1){let{routesMeta:s}=n,r={},l="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],g=h===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",v=Hh({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},y),T=d.route;if(!v&&g&&e&&!s[s.length-1].route.index&&(v=Hh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:ds([l,v.pathname]),pathnameBase:Kx(ds([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=ds([l,v.pathnameBase]))}return u}function Hh(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,s]=Fx(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let l=r[0],u=l.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:v},T)=>{if(y==="*"){let O=h[T]||"";u=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const A=h[T];return v&&!A?g[y]=void 0:g[y]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:n}}function Fx(n,t=!1,e=!0){fi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function qx(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function gs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=n.charAt(e);return s&&s!=="/"?null:n.slice(e)||"/"}var Gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Yx(n,t="/"){let{pathname:e,search:s="",hash:r=""}=typeof n=="string"?ur(n):n,l;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?l=pv(e.substring(1),"/"):l=pv(e,t)):l=t,{pathname:l,search:Xx(s),hash:$x(r)}}function pv(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Lm(n,t,e,s){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qx(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function KE(n){let t=Qx(n);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function XE(n,t,e,s=!1){let r;typeof n=="string"?r=ur(n):(r={...n},de(!r.pathname||!r.pathname.includes("?"),Lm("?","pathname","search",r)),de(!r.pathname||!r.pathname.includes("#"),Lm("#","pathname","hash",r)),de(!r.search||!r.search.includes("#"),Lm("#","search","hash",r)));let l=n===""||r.pathname==="",u=l?"/":r.pathname,h;if(u==null)h=e;else{let v=t.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;r.pathname=T.join("/")}h=v>=0?t[v]:"/"}let d=Yx(r,h),g=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}var ds=n=>n.join("/").replace(/\/\/+/g,"/"),Kx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Xx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$x=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Wx=class{constructor(n,t,e,s=!1){this.status=n,this.statusText=t||"",this.internal=s,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function Zx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Jx(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function WE(n,t){let e=n;if(typeof e!="string"||!Gx.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let s=e,r=!1;if($E)try{let l=new URL(window.location.href),u=e.startsWith("//")?new URL(l.protocol+e):new URL(e),h=gs(u.pathname,t);u.origin===l.origin&&h!=null?e=h+u.search+u.hash:r=!0}catch{fi(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var tw=["GET",...ZE];new Set(tw);var Ro=X.createContext(null);Ro.displayName="DataRouter";var ff=X.createContext(null);ff.displayName="DataRouterState";var ew=X.createContext(!1),JE=X.createContext({isTransitioning:!1});JE.displayName="ViewTransition";var nw=X.createContext(new Map);nw.displayName="Fetchers";var iw=X.createContext(null);iw.displayName="Await";var Xn=X.createContext(null);Xn.displayName="Navigation";var Cu=X.createContext(null);Cu.displayName="Location";var vs=X.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var Lg=X.createContext(null);Lg.displayName="RouteError";var tT="REACT_ROUTER_ERROR",sw="REDIRECT",aw="ROUTE_ERROR_RESPONSE";function rw(n){if(n.startsWith(`${tT}:${sw}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function ow(n){if(n.startsWith(`${tT}:${aw}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Wx(t.status,t.statusText,t.data)}catch{}}function lw(n,{relative:t}={}){de(Du(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=X.useContext(Xn),{hash:r,pathname:l,search:u}=Mu(n,{relative:t}),h=l;return e!=="/"&&(h=l==="/"?e:ds([e,l])),s.createHref({pathname:h,search:u,hash:r})}function Du(){return X.useContext(Cu)!=null}function cr(){return de(Du(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Cu).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(n){X.useContext(Xn).static||X.useLayoutEffect(n)}function uw(){let{isDataRoute:n}=X.useContext(vs);return n?Tw():cw()}function cw(){de(Du(),"useNavigate() may be used only in the context of a <Router> component.");let n=X.useContext(Ro),{basename:t,navigator:e}=X.useContext(Xn),{matches:s}=X.useContext(vs),{pathname:r}=cr(),l=JSON.stringify(KE(s)),u=X.useRef(!1);return nT(()=>{u.current=!0}),X.useCallback((d,g={})=>{if(fi(u.current,eT),!u.current)return;if(typeof d=="number"){e.go(d);return}let y=XE(d,JSON.parse(l),r,g.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ds([t,y.pathname])),(g.replace?e.replace:e.push)(y,g.state,g)},[t,e,l,r,n])}X.createContext(null);function Mu(n,{relative:t}={}){let{matches:e}=X.useContext(vs),{pathname:s}=cr(),r=JSON.stringify(KE(e));return X.useMemo(()=>XE(n,JSON.parse(r),s,t==="path"),[n,r,s,t])}function hw(n,t){return iT(n,t)}function iT(n,t,e,s,r){de(Du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=X.useContext(Xn),{matches:u}=X.useContext(vs),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let j=v&&v.path||"";aT(g,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let T=cr(),A;if(t){let j=typeof t=="string"?ur(t):t;de(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),A=j}else A=T;let O=A.pathname||"/",D=O;if(y!=="/"){let j=y.replace(/^\//,"").split("/");D="/"+O.replace(/^\//,"").split("/").slice(j.length).join("/")}let M=GE(n,{pathname:D});fi(v||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),fi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=pw(M&&M.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:ds([y,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:ds([y,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,e,s,r);return t&&B?X.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},B):B}function fw(){let n=Ew(),t=Zx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:l},"ErrorBoundary")," or"," ",X.createElement("code",{style:l},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),e?X.createElement("pre",{style:r},e):null,u)}var dw=X.createElement(fw,null),sT=class extends X.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const e=ow(n.digest);e&&(n=e)}let t=n!==void 0?X.createElement(vs.Provider,{value:this.props.routeContext},X.createElement(Lg.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?X.createElement(mw,{error:n},t):t}};sT.contextType=ew;var zm=new WeakMap;function mw({children:n,error:t}){let{basename:e}=X.useContext(Xn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=rw(t.digest);if(s){let r=zm.get(t);if(r)throw r;let l=WE(s.location,e);if($E&&!zm.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw zm.set(t,u),u}return X.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function gw({routeContext:n,match:t,children:e}){let s=X.useContext(Ro);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(vs.Provider,{value:n},e)}function pw(n,t=[],e=null,s=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let l=n,u=e?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);de(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(e)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:T,errors:A}=e,O=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||O){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let g=e&&s?(y,v)=>{s(y,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:Jx(e.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let A,O=!1,D=null,M=null;e&&(A=u&&v.route.id?u[v.route.id]:void 0,D=v.route.errorElement||dw,h&&(d<0&&T===0?(aT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,M=null):d===T&&(O=!0,M=v.route.hydrateFallbackElement||null)));let B=t.concat(l.slice(0,T+1)),j=()=>{let $;return A?$=D:O?$=M:v.route.Component?$=X.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=y,X.createElement(gw,{match:v,routeContext:{outlet:y,matches:B,isDataRoute:e!=null},children:$})};return e&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?X.createElement(sT,{location:e.location,revalidation:e.revalidation,component:D,error:A,children:j(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:g}):j()},null)}function zg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yw(n){let t=X.useContext(Ro);return de(t,zg(n)),t}function _w(n){let t=X.useContext(ff);return de(t,zg(n)),t}function vw(n){let t=X.useContext(vs);return de(t,zg(n)),t}function Pg(n){let t=vw(n),e=t.matches[t.matches.length-1];return de(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function bw(){return Pg("useRouteId")}function Ew(){let n=X.useContext(Lg),t=_w("useRouteError"),e=Pg("useRouteError");return n!==void 0?n:t.errors?.[e]}function Tw(){let{router:n}=yw("useNavigate"),t=Pg("useNavigate"),e=X.useRef(!1);return nT(()=>{e.current=!0}),X.useCallback(async(r,l={})=>{fi(e.current,eT),e.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...l}))},[n,t])}var yv={};function aT(n,t,e){!t&&!yv[n]&&(yv[n]=!0,fi(!1,e))}X.memo(Sw);function Sw({routes:n,future:t,state:e,onError:s}){return iT(n,void 0,e,s,t)}function Mh(n){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Aw({basename:n="/",children:t=null,location:e,navigationType:s="POP",navigator:r,static:l=!1,unstable_useTransitions:u}){de(!Du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=X.useMemo(()=>({basename:h,navigator:r,static:l,unstable_useTransitions:u,future:{}}),[h,r,l,u]);typeof e=="string"&&(e=ur(e));let{pathname:g="/",search:y="",hash:v="",state:T=null,key:A="default"}=e,O=X.useMemo(()=>{let D=gs(g,h);return D==null?null:{location:{pathname:D,search:y,hash:v,state:T,key:A},navigationType:s}},[h,g,y,v,T,A,s]);return fi(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:X.createElement(Xn.Provider,{value:d},X.createElement(Cu.Provider,{children:t,value:O}))}function xw({children:n,location:t}){return hw(og(n),t)}function og(n,t=[]){let e=[];return X.Children.forEach(n,(s,r)=>{if(!X.isValidElement(s))return;let l=[...t,r];if(s.type===X.Fragment){e.push.apply(e,og(s.props.children,l));return}de(s.type===Mh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=og(s.props.children,l)),e.push(u)}),e}var Oh="get",Ih="application/x-www-form-urlencoded";function df(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function ww(n){return df(n)&&n.tagName.toLowerCase()==="button"}function Rw(n){return df(n)&&n.tagName.toLowerCase()==="form"}function Cw(n){return df(n)&&n.tagName.toLowerCase()==="input"}function Dw(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Mw(n,t){return n.button===0&&(!t||t==="_self")&&!Dw(n)}var fh=null;function Ow(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var Iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(n){return n!=null&&!Iw.has(n)?(fi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):n}function Vw(n,t){let e,s,r,l,u;if(Rw(n)){let h=n.getAttribute("action");s=h?gs(h,t):null,e=n.getAttribute("method")||Oh,r=Pm(n.getAttribute("enctype"))||Ih,l=new FormData(n)}else if(ww(n)||Cw(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(s=d?gs(d,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Oh,r=Pm(n.getAttribute("formenctype"))||Pm(h.getAttribute("enctype"))||Ih,l=new FormData(h,n),!Ow()){let{name:g,type:y,value:v}=n;if(y==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,v)}}else{if(df(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Oh,s=null,r=Ih,u=n}return l&&r==="text/plain"&&(u=l,l=void 0),{action:s,method:e.toLowerCase(),encType:r,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bg(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Nw(n,t,e,s){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${s}`:r.pathname=`${r.pathname}.${s}`:r.pathname==="/"?r.pathname=`_root.${s}`:t&&gs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function kw(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function zw(n,t,e){let s=await Promise.all(n.map(async r=>{let l=t.routes[r.route.id];if(l){let u=await kw(l,e);return u.links?u.links():[]}return[]}));return jw(s.flat(1).filter(Lw).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function _v(n,t,e,s,r,l){let u=(d,g)=>e[g]?d.route.id!==e[g].route.id:!0,h=(d,g)=>e[g].pathname!==d.pathname||e[g].route.path?.endsWith("*")&&e[g].params["*"]!==d.params["*"];return l==="assets"?t.filter((d,g)=>u(d,g)||h(d,g)):l==="data"?t.filter((d,g)=>{let y=s.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,g)||h(d,g))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Pw(n,t,{includeHydrateFallback:e}={}){return Bw(n.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function Bw(n){return[...new Set(n)]}function Uw(n){let t={},e=Object.keys(n).sort();for(let s of e)t[s]=n[s];return t}function jw(n,t){let e=new Set;return new Set(t),n.reduce((s,r)=>{let l=JSON.stringify(Uw(r));return e.has(l)||(e.add(l),s.push({key:l,link:r})),s},[])}function rT(){let n=X.useContext(Ro);return Bg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Hw(){let n=X.useContext(ff);return Bg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ug=X.createContext(void 0);Ug.displayName="FrameworkContext";function oT(){let n=X.useContext(Ug);return Bg(n,"You must render this element inside a <HydratedRouter> element"),n}function Fw(n,t){let e=X.useContext(Ug),[s,r]=X.useState(!1),[l,u]=X.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,T=X.useRef(null);X.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let D=B=>{B.forEach(j=>{u(j.isIntersecting)})},M=new IntersectionObserver(D,{threshold:.5});return T.current&&M.observe(T.current),()=>{M.disconnect()}}},[n]),X.useEffect(()=>{if(s){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[s]);let A=()=>{r(!0)},O=()=>{r(!1),u(!1)};return e?n!=="intent"?[l,T,{}]:[l,T,{onFocus:Fl(h,A),onBlur:Fl(d,O),onMouseEnter:Fl(g,A),onMouseLeave:Fl(y,O),onTouchStart:Fl(v,A)}]:[!1,T,{}]}function Fl(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function qw({page:n,...t}){let{router:e}=rT(),s=X.useMemo(()=>GE(e.routes,n,e.basename),[e.routes,n,e.basename]);return s?X.createElement(Yw,{page:n,matches:s,...t}):null}function Gw(n){let{manifest:t,routeModules:e}=oT(),[s,r]=X.useState([]);return X.useEffect(()=>{let l=!1;return zw(n,t,e).then(u=>{l||r(u)}),()=>{l=!0}},[n,t,e]),s}function Yw({page:n,matches:t,...e}){let s=cr(),{future:r,manifest:l,routeModules:u}=oT(),{basename:h}=rT(),{loaderData:d,matches:g}=Hw(),y=X.useMemo(()=>_v(n,t,g,l,s,"data"),[n,t,g,l,s]),v=X.useMemo(()=>_v(n,t,g,l,s,"assets"),[n,t,g,l,s]),T=X.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let D=new Set,M=!1;if(t.forEach(j=>{let $=l.routes[j.route.id];!$||!$.hasLoader||(!y.some(st=>st.route.id===j.route.id)&&j.route.id in d&&u[j.route.id]?.shouldRevalidate||$.hasClientLoader?M=!0:D.add(j.route.id))}),D.size===0)return[];let B=Nw(n,h,r.unstable_trailingSlashAwareDataRequests,"data");return M&&D.size>0&&B.searchParams.set("_routes",t.filter(j=>D.has(j.route.id)).map(j=>j.route.id).join(",")),[B.pathname+B.search]},[h,r.unstable_trailingSlashAwareDataRequests,d,s,l,y,t,n,u]),A=X.useMemo(()=>Pw(v,l),[v,l]),O=Gw(v);return X.createElement(X.Fragment,null,T.map(D=>X.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...e})),A.map(D=>X.createElement("link",{key:D,rel:"modulepreload",href:D,...e})),O.map(({key:D,link:M})=>X.createElement("link",{key:D,nonce:e.nonce,...M,crossOrigin:M.crossOrigin??e.crossOrigin})))}function Qw(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kw&&(window.__reactRouterVersion="7.13.0")}catch{}function Xw({basename:n,children:t,unstable_useTransitions:e,window:s}){let r=X.useRef();r.current==null&&(r.current=Cx({window:s,v5Compat:!0}));let l=r.current,[u,h]=X.useState({action:l.action,location:l.location}),d=X.useCallback(g=>{e===!1?h(g):X.startTransition(()=>h(g))},[e]);return X.useLayoutEffect(()=>l.listen(d),[l,d]),X.createElement(Aw,{basename:n,children:t,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:e})}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uT=X.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:r,reloadDocument:l,replace:u,state:h,target:d,to:g,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...A},O){let{basename:D,unstable_useTransitions:M}=X.useContext(Xn),B=typeof g=="string"&&lT.test(g),j=WE(g,D);g=j.to;let $=lw(g,{relative:r}),[st,it,rt]=Fw(s,A),R=Jw(g,{replace:u,state:h,target:d,preventScrollReset:y,relative:r,viewTransition:v,unstable_defaultShouldRevalidate:T,unstable_useTransitions:M});function w(k){t&&t(k),k.defaultPrevented||R(k)}let C=X.createElement("a",{...A,...rt,href:j.absoluteURL||$,onClick:j.isExternal||l?t:w,ref:Qw(O,it),target:d,"data-discover":!B&&e==="render"?"true":void 0});return st&&!B?X.createElement(X.Fragment,null,C,X.createElement(qw,{page:$})):C});uT.displayName="Link";var $w=X.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:r=!1,style:l,to:u,viewTransition:h,children:d,...g},y){let v=Mu(u,{relative:g.relative}),T=cr(),A=X.useContext(ff),{navigator:O,basename:D}=X.useContext(Xn),M=A!=null&&s2(v)&&h===!0,B=O.encodeLocation?O.encodeLocation(v).pathname:v.pathname,j=T.pathname,$=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(j=j.toLowerCase(),$=$?$.toLowerCase():null,B=B.toLowerCase()),$&&D&&($=gs($,D)||$);const st=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let it=j===B||!r&&j.startsWith(B)&&j.charAt(st)==="/",rt=$!=null&&($===B||!r&&$.startsWith(B)&&$.charAt(B.length)==="/"),R={isActive:it,isPending:rt,isTransitioning:M},w=it?t:void 0,C;typeof s=="function"?C=s(R):C=[s,it?"active":null,rt?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(R):l;return X.createElement(uT,{...g,"aria-current":w,className:C,ref:y,style:k,to:u,viewTransition:h},typeof d=="function"?d(R):d)});$w.displayName="NavLink";var Ww=X.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:r,state:l,method:u=Oh,action:h,onSubmit:d,relative:g,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T,...A},O)=>{let{unstable_useTransitions:D}=X.useContext(Xn),M=n2(),B=i2(h,{relative:g}),j=u.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&lT.test(h),st=it=>{if(d&&d(it),it.defaultPrevented)return;it.preventDefault();let rt=it.nativeEvent.submitter,R=rt?.getAttribute("formmethod")||u,w=()=>M(rt||it.currentTarget,{fetcherKey:t,method:R,navigate:e,replace:r,state:l,relative:g,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:T});D&&e!==!1?X.startTransition(()=>w()):w()};return X.createElement("form",{ref:O,method:j,action:B,onSubmit:s?d:st,...A,"data-discover":!$&&n==="render"?"true":void 0})});Ww.displayName="Form";function Zw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(n){let t=X.useContext(Ro);return de(t,Zw(n)),t}function Jw(n,{target:t,replace:e,state:s,preventScrollReset:r,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let g=uw(),y=cr(),v=Mu(n,{relative:l});return X.useCallback(T=>{if(Mw(T,t)){T.preventDefault();let A=e!==void 0?e:fu(y)===fu(v),O=()=>g(n,{replace:A,state:s,preventScrollReset:r,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});d?X.startTransition(()=>O()):O()}},[y,g,v,e,s,t,n,r,l,u,h,d])}var t2=0,e2=()=>`__${String(++t2)}__`;function n2(){let{router:n}=cT("useSubmit"),{basename:t}=X.useContext(Xn),e=bw(),s=n.fetch,r=n.navigate;return X.useCallback(async(l,u={})=>{let{action:h,method:d,encType:g,formData:y,body:v}=Vw(l,t);if(u.navigate===!1){let T=u.fetcherKey||e2();await s(T,e,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||g,flushSync:u.flushSync})}else await r(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||d,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:e,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,r,t,e])}function i2(n,{relative:t}={}){let{basename:e}=X.useContext(Xn),s=X.useContext(vs);de(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l={...Mu(n||".",{relative:t})},u=cr();if(n==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:ds([e,l.pathname])),fu(l)}function s2(n,{relative:t}={}){let e=X.useContext(JE);de(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cT("useViewTransitionState"),r=Mu(n,{relative:t});if(!e.isTransitioning)return!1;let l=gs(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=gs(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Hh(r.pathname,u)!=null||Hh(r.pathname,l)!=null}const a2=()=>{};var vv={};const hT=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let r=n.charCodeAt(s);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},r2=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const r=n[e++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const l=n[e++];t[s++]=String.fromCharCode((r&31)<<6|l&63)}else if(r>239&&r<365){const l=n[e++],u=n[e++],h=n[e++],d=((r&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const l=n[e++],u=n[e++];t[s++]=String.fromCharCode((r&15)<<12|(l&63)<<6|u&63)}}return t.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<n.length;r+=3){const l=n[r],u=r+1<n.length,h=u?n[r+1]:0,d=r+2<n.length,g=d?n[r+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|g>>6,A=g&63;d||(A=64,u||(T=64)),s.push(e[y],e[v],e[T],e[A])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(hT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):r2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<n.length;){const l=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,l==null||h==null||g==null||v==null)throw new o2;const T=l<<2|h>>4;if(s.push(T),g!==64){const A=h<<4&240|g>>2;if(s.push(A),v!==64){const O=g<<6&192|v;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class o2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l2=function(n){const t=hT(n);return fT.encodeByteArray(t,!0)},Fh=function(n){return l2(n).replace(/\./g,"")},u2=function(n){try{return fT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const h2=()=>c2().__FIREBASE_DEFAULTS__,f2=()=>{if(typeof process>"u"||typeof vv>"u")return;const n=vv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},d2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&u2(n[1]);return t&&JSON.parse(t)},jg=()=>{try{return a2()||h2()||f2()||d2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m2=n=>jg()?.emulatorHosts?.[n],g2=n=>{const t=m2(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},dT=()=>jg()?.config;class p2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}function Hg(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y2(n){return(await fetch(n,{credentials:"include"})).ok}function _2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",r=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Fh(JSON.stringify(e)),Fh(JSON.stringify(u)),""].join(".")}const iu={};function v2(){const n={prod:[],emulator:[]};for(const t of Object.keys(iu))iu[t]?n.emulator.push(t):n.prod.push(t);return n}function b2(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let bv=!1;function E2(n,t){if(typeof window>"u"||typeof document>"u"||!Hg(window.location.host)||iu[n]===t||iu[n]||bv)return;iu[n]=t;function e(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=v2().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{bv=!0,u()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=b2(s),A=e("text"),O=document.getElementById(A)||document.createElement("span"),D=e("learnmore"),M=document.getElementById(D)||document.createElement("a"),B=e("preprendIcon"),j=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const $=T.element;h($),y(M,D);const st=g();d(j,B),$.append(j,O,M,st),document.body.appendChild($)}l?(O.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function T2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S2(){const n=jg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A2(){return!S2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x2(){try{return typeof indexedDB=="object"}catch{return!1}}function w2(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const R2="FirebaseError";class Co extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=R2,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mT.prototype.create)}}class mT{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},r=`${this.service}/${t}`,l=this.errors[t],u=l?C2(l,s):"Error",h=`${this.serviceName}: ${u} (${r}).`;return new Co(r,h,s)}}function C2(n,t){return n.replace(D2,(e,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const D2=/\{\$([^}]+)}/g;function qh(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const r of e){if(!s.includes(r))return!1;const l=n[r],u=t[r];if(Ev(l)&&Ev(u)){if(!qh(l,u))return!1}else if(l!==u)return!1}for(const r of s)if(!e.includes(r))return!1;return!0}function Ev(n){return n!==null&&typeof n=="object"}function ar(n){return n&&n._delegate?n._delegate:n}class du{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Za="[DEFAULT]";class M2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new p2;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(I2(t))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:r});s.resolve(l)}catch{}}}}clearInstance(t=Za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Za){return this.instances.has(t)}getOptions(t=Za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(r)}return r}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(s)??new Set;r.add(t),this.onInitCallbacks.set(s,r);const l=this.instances.get(s);return l&&t(l,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const r of s)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:O2(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Za){return this.component?this.component.multipleInstances?t:Za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O2(n){return n===Za?void 0:n}function I2(n){return n.instantiationMode==="EAGER"}class V2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new M2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const N2={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},k2=jt.INFO,L2={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},z2=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),r=L2[t];if(r)console[r](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gT{constructor(t){this.name=t,this._logLevel=k2,this._logHandler=z2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?N2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const P2=(n,t)=>t.some(e=>n instanceof e);let Tv,Sv;function B2(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U2(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,lg=new WeakMap,yT=new WeakMap,Bm=new WeakMap,Fg=new WeakMap;function j2(n){const t=new Promise((e,s)=>{const r=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(ia(n.result)),r()},u=()=>{s(n.error),r()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&pT.set(e,n)}).catch(()=>{}),Fg.set(t,n),t}function H2(n){if(lg.has(n))return;const t=new Promise((e,s)=>{const r=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),r()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});lg.set(n,t)}let ug={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return lg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||yT.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ia(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function F2(n){ug=n(ug)}function q2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Um(this),t,...e);return yT.set(s,t.sort?t.sort():[t]),ia(s)}:U2().includes(n)?function(...t){return n.apply(Um(this),t),ia(pT.get(this))}:function(...t){return ia(n.apply(Um(this),t))}}function G2(n){return typeof n=="function"?q2(n):(n instanceof IDBTransaction&&H2(n),P2(n,B2())?new Proxy(n,ug):n)}function ia(n){if(n instanceof IDBRequest)return j2(n);if(Bm.has(n))return Bm.get(n);const t=G2(n);return t!==n&&(Bm.set(n,t),Fg.set(t,n)),t}const Um=n=>Fg.get(n);function Y2(n,t,{blocked:e,upgrade:s,blocking:r,terminated:l}={}){const u=indexedDB.open(n,t),h=ia(u);return s&&u.addEventListener("upgradeneeded",d=>{s(ia(u.result),d.oldVersion,d.newVersion,ia(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),r&&d.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Q2=["get","getKey","getAll","getAllKeys","count"],K2=["put","add","delete","clear"],jm=new Map;function Av(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(jm.get(t))return jm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,r=K2.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(r||Q2.includes(e)))return;const l=async function(u,...h){const d=this.transaction(u,r?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&d.done]))[0]};return jm.set(t,l),l}F2(n=>({...n,get:(t,e,s)=>Av(t,e)||n.get(t,e,s),has:(t,e)=>!!Av(t,e)||n.has(t,e)}));class X2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($2(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function $2(n){return n.getComponent()?.type==="VERSION"}const cg="@firebase/app",xv="0.14.7";const ps=new gT("@firebase/app"),W2="@firebase/app-compat",Z2="@firebase/analytics-compat",J2="@firebase/analytics",tR="@firebase/app-check-compat",eR="@firebase/app-check",nR="@firebase/auth",iR="@firebase/auth-compat",sR="@firebase/database",aR="@firebase/data-connect",rR="@firebase/database-compat",oR="@firebase/functions",lR="@firebase/functions-compat",uR="@firebase/installations",cR="@firebase/installations-compat",hR="@firebase/messaging",fR="@firebase/messaging-compat",dR="@firebase/performance",mR="@firebase/performance-compat",gR="@firebase/remote-config",pR="@firebase/remote-config-compat",yR="@firebase/storage",_R="@firebase/storage-compat",vR="@firebase/firestore",bR="@firebase/ai",ER="@firebase/firestore-compat",TR="firebase",SR="12.8.0";const hg="[DEFAULT]",AR={[cg]:"fire-core",[W2]:"fire-core-compat",[J2]:"fire-analytics",[Z2]:"fire-analytics-compat",[eR]:"fire-app-check",[tR]:"fire-app-check-compat",[nR]:"fire-auth",[iR]:"fire-auth-compat",[sR]:"fire-rtdb",[aR]:"fire-data-connect",[rR]:"fire-rtdb-compat",[oR]:"fire-fn",[lR]:"fire-fn-compat",[uR]:"fire-iid",[cR]:"fire-iid-compat",[hR]:"fire-fcm",[fR]:"fire-fcm-compat",[dR]:"fire-perf",[mR]:"fire-perf-compat",[gR]:"fire-rc",[pR]:"fire-rc-compat",[yR]:"fire-gcs",[_R]:"fire-gcs-compat",[vR]:"fire-fst",[ER]:"fire-fst-compat",[bR]:"fire-vertex","fire-js":"fire-js",[TR]:"fire-js-all"};const Gh=new Map,xR=new Map,fg=new Map;function wv(n,t){try{n.container.addComponent(t)}catch(e){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Yh(n){const t=n.name;if(fg.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;fg.set(t,n);for(const e of Gh.values())wv(e,n);for(const e of xR.values())wv(e,n);return!0}function wR(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function RR(n){return n==null?!1:n.settings!==void 0}const CR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new mT("app","Firebase",CR);class DR{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new du("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}const MR=SR;function _T(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:hg,automaticDataCollectionEnabled:!0,...t},r=s.name;if(typeof r!="string"||!r)throw sa.create("bad-app-name",{appName:String(r)});if(e||(e=dT()),!e)throw sa.create("no-options");const l=Gh.get(r);if(l){if(qh(e,l.options)&&qh(s,l.config))return l;throw sa.create("duplicate-app",{appName:r})}const u=new V2(r);for(const d of fg.values())u.addComponent(d);const h=new DR(e,s,u);return Gh.set(r,h),h}function OR(n=hg){const t=Gh.get(n);if(!t&&n===hg&&dT())return _T();if(!t)throw sa.create("no-app",{appName:n});return t}function fo(n,t,e){let s=AR[n]??n;e&&(s+=`-${e}`);const r=s.match(/\s|\//),l=t.match(/\s|\//);if(r||l){const u=[`Unable to register library "${s}" with version "${t}":`];r&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(u.join(" "));return}Yh(new du(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const IR="firebase-heartbeat-database",VR=1,mu="firebase-heartbeat-store";let Hm=null;function vT(){return Hm||(Hm=Y2(IR,VR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(mu)}catch(e){console.warn(e)}}}}).catch(n=>{throw sa.create("idb-open",{originalErrorMessage:n.message})})),Hm}async function NR(n){try{const e=(await vT()).transaction(mu),s=await e.objectStore(mu).get(bT(n));return await e.done,s}catch(t){if(t instanceof Co)ps.warn(t.message);else{const e=sa.create("idb-get",{originalErrorMessage:t?.message});ps.warn(e.message)}}}async function Rv(n,t){try{const s=(await vT()).transaction(mu,"readwrite");await s.objectStore(mu).put(t,bT(n)),await s.done}catch(e){if(e instanceof Co)ps.warn(e.message);else{const s=sa.create("idb-set",{originalErrorMessage:e?.message});ps.warn(s.message)}}}function bT(n){return`${n.name}!${n.options.appId}`}const kR=1024,LR=30;class zR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new BR(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>LR){const r=UR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Cv(),{heartbeatsToSend:e,unsentEntries:s}=PR(this._heartbeatsCache.heartbeats),r=Fh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return ps.warn(t),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function PR(n,t=kR){const e=[];let s=n.slice();for(const r of n){const l=e.find(u=>u.agent===r.agent);if(l){if(l.dates.push(r.date),Dv(e)>t){l.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Dv(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class BR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x2()?w2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await NR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Dv(n){return Fh(JSON.stringify({version:2,heartbeats:n})).length}function UR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}function jR(n){Yh(new du("platform-logger",t=>new X2(t),"PRIVATE")),Yh(new du("heartbeat",t=>new zR(t),"PRIVATE")),fo(cg,xv,n),fo(cg,xv,"esm2020"),fo("fire-js","")}jR("");var HR="firebase",FR="12.8.0";fo(HR,FR,"app");var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aa,ET;(function(){var n;function t(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(k,V,L){for(var I=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)I[zt-2]=arguments[zt];return w.prototype[V].apply(k,I)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,e),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,w,C){C||(C=0);const k=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)k[V]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(V=0;V<16;++V)k[V]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],V=R.g[2];let L=R.g[3],I;I=w+(L^C&(V^L))+k[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(V^w&(C^V))+k[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(C^L&(w^C))+k[2]+606105819&4294967295,V=L+(I<<17&4294967295|I>>>15),I=C+(w^V&(L^w))+k[3]+3250441966&4294967295,C=V+(I<<22&4294967295|I>>>10),I=w+(L^C&(V^L))+k[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(V^w&(C^V))+k[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(C^L&(w^C))+k[6]+2821735955&4294967295,V=L+(I<<17&4294967295|I>>>15),I=C+(w^V&(L^w))+k[7]+4249261313&4294967295,C=V+(I<<22&4294967295|I>>>10),I=w+(L^C&(V^L))+k[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(V^w&(C^V))+k[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(C^L&(w^C))+k[10]+4294925233&4294967295,V=L+(I<<17&4294967295|I>>>15),I=C+(w^V&(L^w))+k[11]+2304563134&4294967295,C=V+(I<<22&4294967295|I>>>10),I=w+(L^C&(V^L))+k[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(V^w&(C^V))+k[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=V+(C^L&(w^C))+k[14]+2792965006&4294967295,V=L+(I<<17&4294967295|I>>>15),I=C+(w^V&(L^w))+k[15]+1236535329&4294967295,C=V+(I<<22&4294967295|I>>>10),I=w+(V^L&(C^V))+k[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^V&(w^C))+k[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^C&(L^w))+k[11]+643717713&4294967295,V=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(V^L))+k[0]+3921069994&4294967295,C=V+(I<<20&4294967295|I>>>12),I=w+(V^L&(C^V))+k[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^V&(w^C))+k[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^C&(L^w))+k[15]+3634488961&4294967295,V=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(V^L))+k[4]+3889429448&4294967295,C=V+(I<<20&4294967295|I>>>12),I=w+(V^L&(C^V))+k[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^V&(w^C))+k[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^C&(L^w))+k[3]+4107603335&4294967295,V=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(V^L))+k[8]+1163531501&4294967295,C=V+(I<<20&4294967295|I>>>12),I=w+(V^L&(C^V))+k[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^V&(w^C))+k[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=V+(w^C&(L^w))+k[7]+1735328473&4294967295,V=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(V^L))+k[12]+2368359562&4294967295,C=V+(I<<20&4294967295|I>>>12),I=w+(C^V^L)+k[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^V)+k[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^C)+k[11]+1839030562&4294967295,V=L+(I<<16&4294967295|I>>>16),I=C+(V^L^w)+k[14]+4259657740&4294967295,C=V+(I<<23&4294967295|I>>>9),I=w+(C^V^L)+k[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^V)+k[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^C)+k[7]+4139469664&4294967295,V=L+(I<<16&4294967295|I>>>16),I=C+(V^L^w)+k[10]+3200236656&4294967295,C=V+(I<<23&4294967295|I>>>9),I=w+(C^V^L)+k[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^V)+k[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^C)+k[3]+3572445317&4294967295,V=L+(I<<16&4294967295|I>>>16),I=C+(V^L^w)+k[6]+76029189&4294967295,C=V+(I<<23&4294967295|I>>>9),I=w+(C^V^L)+k[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^V)+k[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=V+(L^w^C)+k[15]+530742520&4294967295,V=L+(I<<16&4294967295|I>>>16),I=C+(V^L^w)+k[2]+3299628645&4294967295,C=V+(I<<23&4294967295|I>>>9),I=w+(V^(C|~L))+k[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~V))+k[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~C))+k[14]+2878612391&4294967295,V=L+(I<<15&4294967295|I>>>17),I=C+(L^(V|~w))+k[5]+4237533241&4294967295,C=V+(I<<21&4294967295|I>>>11),I=w+(V^(C|~L))+k[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~V))+k[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~C))+k[10]+4293915773&4294967295,V=L+(I<<15&4294967295|I>>>17),I=C+(L^(V|~w))+k[1]+2240044497&4294967295,C=V+(I<<21&4294967295|I>>>11),I=w+(V^(C|~L))+k[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~V))+k[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~C))+k[6]+2734768916&4294967295,V=L+(I<<15&4294967295|I>>>17),I=C+(L^(V|~w))+k[13]+1309151649&4294967295,C=V+(I<<21&4294967295|I>>>11),I=w+(V^(C|~L))+k[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~V))+k[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=V+(w^(L|~C))+k[2]+718787259&4294967295,V=L+(I<<15&4294967295|I>>>17),I=C+(L^(V|~w))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,k=this.C;let V=this.h,L=0;for(;L<w;){if(V==0)for(;L<=C;)r(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<w;)if(k[V++]=R.charCodeAt(L++),V==this.blockSize){r(this,k),V=0;break}}else for(;L<w;)if(k[V++]=R[L++],V==this.blockSize){r(this,k),V=0;break}}this.h=V,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)R[w++]=this.g[C]>>>k&255;return R};function l(R,w){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function u(R,w){this.h=w;const C=[];let k=!0;for(let V=R.length-1;V>=0;V--){const L=R[V]|0;k&&L==w||(C[V]=L,k=!1)}this.g=C}var h={};function d(R){return-128<=R&&R<128?l(R,function(w){return new u([w|0],w<0?-1:0)}):new u([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return M(g(-R));const w=[];let C=1;for(let k=0;R>=C;k++)w[k]=R/C|0,C*=4294967296;return new u(w,0)}function y(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return M(y(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let k=v;for(let L=0;L<R.length;L+=8){var V=Math.min(8,R.length-L);const I=parseInt(R.substring(L,L+V),w);V<8?(V=g(Math.pow(w,V)),k=k.j(V).add(g(I))):(k=k.j(C),k=k.add(g(I)))}return k}var v=d(0),T=d(1),A=d(16777216);n=u.prototype,n.m=function(){if(D(this))return-M(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);R+=(k>=0?k:4294967296+k)*w,w*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O(this))return"0";if(D(this))return"-"+M(this).toString(R);const w=g(Math.pow(R,6));var C=this;let k="";for(;;){const V=st(C,w).g;C=B(C,V.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=V,O(C))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function O(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function D(R){return R.h==-1}n.l=function(R){return R=B(this,R),D(R)?-1:O(R)?0:1};function M(R){const w=R.g.length,C=[];for(let k=0;k<w;k++)C[k]=~R.g[k];return new u(C,~R.h).add(T)}n.abs=function(){return D(this)?M(this):this},n.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let k=0;for(let V=0;V<=w;V++){let L=k+(this.i(V)&65535)+(R.i(V)&65535),I=(L>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);k=I>>>16,L&=65535,I&=65535,C[V]=I<<16|L}return new u(C,C[C.length-1]&-2147483648?-1:0)};function B(R,w){return R.add(M(w))}n.j=function(R){if(O(this)||O(R))return v;if(D(this))return D(R)?M(this).j(M(R)):M(M(this).j(R));if(D(R))return M(this.j(M(R)));if(this.l(A)<0&&R.l(A)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var k=0;k<2*w;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let V=0;V<R.g.length;V++){const L=this.i(k)>>>16,I=this.i(k)&65535,zt=R.i(V)>>>16,Rt=R.i(V)&65535;C[2*k+2*V]+=I*Rt,j(C,2*k+2*V),C[2*k+2*V+1]+=L*Rt,j(C,2*k+2*V+1),C[2*k+2*V+1]+=I*zt,j(C,2*k+2*V+1),C[2*k+2*V+2]+=L*zt,j(C,2*k+2*V+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new u(C,0)};function j(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function $(R,w){this.g=R,this.h=w}function st(R,w){if(O(w))throw Error("division by zero");if(O(R))return new $(v,v);if(D(R))return w=st(M(R),w),new $(M(w.g),M(w.h));if(D(w))return w=st(R,M(w)),new $(M(w.g),w.h);if(R.g.length>30){if(D(R)||D(w))throw Error("slowDivide_ only works with positive integers.");for(var C=T,k=w;k.l(R)<=0;)C=it(C),k=it(k);var V=rt(C,1),L=rt(k,1);for(k=rt(k,2),C=rt(C,2);!O(k);){var I=L.add(k);I.l(R)<=0&&(V=V.add(C),L=I),k=rt(k,1),C=rt(C,1)}return w=B(R,V.j(w)),new $(V,w)}for(V=v;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=g(C),I=L.j(w);D(I)||I.l(R)>0;)C-=k,L=g(C),I=L.j(w);O(L)&&(L=T),V=V.add(L),R=B(R,I)}return new $(V,R)}n.B=function(R){return st(this,R).h},n.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)&R.i(k);return new u(C,this.h&R.h)},n.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)|R.i(k);return new u(C,this.h|R.h)},n.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)^R.i(k);return new u(C,this.h^R.h)};function it(R){const w=R.g.length+1,C=[];for(let k=0;k<w;k++)C[k]=R.i(k)<<1|R.i(k-1)>>>31;return new u(C,R.h)}function rt(R,w){const C=w>>5;w%=32;const k=R.g.length-C,V=[];for(let L=0;L<k;L++)V[L]=w>0?R.i(L+C)>>>w|R.i(L+C+1)<<32-w:R.i(L+C);return new u(V,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ET=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,aa=u}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TT,$l,ST,Vh,dg,AT,xT,wT;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=e(this);function r(f,_){if(_)t:{var E=s;f=f.split(".");for(var x=0;x<f.length-1;x++){var H=f[x];if(!(H in E))break t;E=E[H]}f=f[f.length-1],x=E[f],_=_(x),_!=x&&_!=null&&t(E,f,{configurable:!0,writable:!0,value:_})}}r("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(f){return f||function(_){var E=[],x;for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&E.push([x,_[x]]);return E}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function g(f,_,E){return g=d,g.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(x,H,Y){for(var ot=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ot[xt-2]=arguments[xt];return _.prototype[H].apply(x,ot)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const _=f.length;if(_>0){const E=Array(_);for(let x=0;x<_;x++)E[x]=f[x];return E}return[]}function O(f,_){for(let x=1;x<arguments.length;x++){const H=arguments[x];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=f.length||0;const Y=H.length||0;f.length=E+Y;for(let ot=0;ot<Y;ot++)f[E+ot]=H[ot]}else f.push(H)}}class D{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(f){u.setTimeout(()=>{throw f},0)}function B(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,E){const x=$.get();x.set(_,E),this.h?this.h.next=x:this.g=x,this.h=x}}var $=new D(()=>new st,f=>f.reset());class st{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let it,rt=!1,R=new j,w=()=>{const f=Promise.resolve(void 0);it=()=>{f.then(C)}};function C(){for(var f;f=B();){try{f.h.call(f.g)}catch(E){M(E)}var _=$;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}rt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function I(f){return/^[\s\xa0]*$/.test(f)}function zt(f,_){V.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(zt,V),zt.prototype.init=function(f,_){const E=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&zt.Z.h.call(this)},zt.prototype.h=function(){zt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function at(f,_,E,x,H){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!x,this.ha=H,this.key=++Q,this.da=this.fa=!1}function gt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dt(f,_,E){for(const x in f)_.call(E,f[x],x,f)}function It(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function z(f){const _={};for(const E in f)_[E]=f[E];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(f,_){let E,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(E in x)f[E]=x[E];for(let Y=0;Y<Z.length;Y++)E=Z[Y],Object.prototype.hasOwnProperty.call(x,E)&&(f[E]=x[E])}}function ut(f){this.src=f,this.g={},this.h=0}ut.prototype.add=function(f,_,E,x,H){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const ot=bt(f,_,x,H);return ot>-1?(_=f[ot],E||(_.fa=!1)):(_=new at(_,this.src,Y,!!x,H),_.fa=E,f.push(_)),_};function _t(f,_){const E=_.type;if(E in f.g){var x=f.g[E],H=Array.prototype.indexOf.call(x,_,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(x,H,1),Y&&(gt(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function bt(f,_,E,x){for(let H=0;H<f.length;++H){const Y=f[H];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==x)return H}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),ke={};function ce(f,_,E,x,H){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)ce(f,_[Y],E,x,H);return null}return E=Bo(E),f&&f[Rt]?f.J(_,E,h(x)?!!x.capture:!1,H):ya(f,_,E,!1,x,H)}function ya(f,_,E,x,H,Y){if(!_)throw Error("Invalid event type");const ot=h(H)?!!H.capture:!!H;let xt=_a(f);if(xt||(f[Bt]=xt=new ut(f)),E=xt.add(_,E,x,ot,Y),E.proxy)return E;if(x=pr(),E.proxy=x,x.src=f,x.listener=E,f.addEventListener)L||(H=ot),H===void 0&&(H=!1),f.addEventListener(_.toString(),x,H);else if(f.attachEvent)f.attachEvent(mi(_.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function pr(){function f(E){return _.call(f.src,f.listener,E)}const _=zo;return f}function yr(f,_,E,x,H){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)yr(f,_[Y],E,x,H);else x=h(x)?!!x.capture:!!x,E=Bo(E),f&&f[Rt]?(f=f.i,Y=String(_).toString(),Y in f.g&&(_=f.g[Y],E=bt(_,E,x,H),E>-1&&(gt(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[Y],f.h--)))):f&&(f=_a(f))&&(_=f.g[_.toString()],f=-1,_&&(f=bt(_,E,x,H)),(E=f>-1?_[f]:null)&&_r(E))}function _r(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Rt])_t(_.i,f);else{var E=f.type,x=f.proxy;_.removeEventListener?_.removeEventListener(E,x,f.capture):_.detachEvent?_.detachEvent(mi(E),x):_.addListener&&_.removeListener&&_.removeListener(x),(E=_a(_))?(_t(E,f),E.h==0&&(E.src=null,_[Bt]=null)):gt(f)}}}function mi(f){return f in ke?ke[f]:ke[f]="on"+f}function zo(f,_){if(f.da)f=!0;else{_=new zt(_,this);const E=f.listener,x=f.ha||f.src;f.fa&&_r(f),f=E.call(x,_)}return f}function _a(f){return f=f[Bt],f instanceof ut?f:null}var Po="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bo(f){return typeof f=="function"?f:(f[Po]||(f[Po]=function(_){return f.handleEvent(_)}),f[Po])}function Se(){k.call(this),this.i=new ut(this),this.M=this,this.G=null}v(Se,k),Se.prototype[Rt]=!0,Se.prototype.removeEventListener=function(f,_,E,x){yr(this,f,_,E,x)};function Le(f,_){var E,x=f.G;if(x)for(E=[];x;x=x.G)E.push(x);if(f=f.M,x=_.type||_,typeof _=="string")_=new V(_,f);else if(_ instanceof V)_.target=_.target||f;else{var H=_;_=new V(x,f),lt(_,H)}H=!0;let Y,ot;if(E)for(ot=E.length-1;ot>=0;ot--)Y=_.g=E[ot],H=bs(Y,x,!0,_)&&H;if(Y=_.g=f,H=bs(Y,x,!0,_)&&H,H=bs(Y,x,!1,_)&&H,E)for(ot=0;ot<E.length;ot++)Y=_.g=E[ot],H=bs(Y,x,!1,_)&&H}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let x=0;x<E.length;x++)gt(E[x]);delete f.g[_],f.h--}}this.G=null},Se.prototype.J=function(f,_,E,x){return this.i.add(String(f),_,!1,E,x)},Se.prototype.K=function(f,_,E,x){return this.i.add(String(f),_,!0,E,x)};function bs(f,_,E,x){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let Y=0;Y<_.length;++Y){const ot=_[Y];if(ot&&!ot.da&&ot.capture==E){const xt=ot.listener,_e=ot.ha||ot.src;ot.fa&&_t(f.i,ot),H=xt.call(_e,x)!==!1&&H}}return H&&!x.defaultPrevented}function If(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function zu(f){f.g=If(()=>{f.g=null,f.i&&(f.i=!1,zu(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class ln extends k{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(f){k.call(this),this.h=f,this.g={}}v(va,k);var Uo=[];function jo(f){Dt(f.g,function(_,E){this.g.hasOwnProperty(E)&&_r(_)},f),f.g={}}va.prototype.N=function(){va.Z.N.call(this),jo(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=u.JSON.stringify,Vf=u.JSON.parse,Pu=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Bu(){}function Uu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){V.call(this,"d")}v(Ge,V);function Mn(){V.call(this,"c")}v(Mn,V);var ye={},ju=null;function vr(){return ju=ju||new Se}ye.Ia="serverreachability";function Hu(f){V.call(this,ye.Ia,f)}v(Hu,V);function gi(f){const _=vr();Le(_,new Hu(_))}ye.STAT_EVENT="statevent";function ba(f,_){V.call(this,ye.STAT_EVENT,f),this.stat=_}v(ba,V);function Ae(f){const _=vr();Le(_,new ba(_,f))}ye.Ja="timingevent";function pi(f,_){V.call(this,ye.Ja,f),this.size=_}v(pi,V);function yi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Nf(f,_,E,x,H,Y){f.info(function(){if(f.g)if(Y){var ot="",xt=Y.split("&");for(let Gt=0;Gt<xt.length;Gt++){var _e=xt[Gt].split("=");if(_e.length>1){const he=_e[0];_e=_e[1];const Nn=he.split("_");ot=Nn.length>=2&&Nn[1]=="type"?ot+(he+"="+_e+"&"):ot+(he+"=redacted&")}}}else ot=null;else ot=Y;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+_+`
`+E+`
`+ot})}function Fu(f,_,E,x,H,Y,ot){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+_+`
`+E+`
`+Y+" "+ot})}function _i(f,_,E,x){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+kf(f,E)+(x?" "+x:"")})}function Ea(f,_){f.info(function(){return"TIMEOUT: "+_})}Wn.prototype.info=function(){};function kf(f,_){if(!f.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var E=Y[f];if(!(E.length<2)){var x=E[1];if(Array.isArray(x)&&!(x.length<1)){var H=x[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ot=1;ot<x.length;ot++)x[ot]=""}}}}return Es(Y)}catch{return _}}var Ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function Sa(){}v(Sa,Bu),Sa.prototype.g=function(){return new XMLHttpRequest},Fo=new Sa;function qi(f){return encodeURIComponent(String(f))}function qu(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Zn(f,_,E,x){this.j=f,this.i=_,this.l=E,this.S=x||1,this.V=new va(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var xe={},je={};function vi(f,_,E){f.M=1,f.A=Aa(Re(_)),f.u=E,f.R=!0,br(f,null)}function br(f,_){f.F=Date.now(),bi(f),f.B=Re(f.A);var E=f.B,x=f.S;Array.isArray(x)||(x=[String(x)]),Ar(E.i,"t",x),f.C=0,E=f.j.L,f.h=new Jn,f.g=ac(f.j,E?_:null,!f.u),f.P>0&&(f.O=new ln(g(f.Y,f,f.g),f.P)),_=f.V,E=f.g,x=f.ba;var H="readystatechange";Array.isArray(H)||(H&&(Uo[0]=H.toString()),H=Uo);for(let Y=0;Y<H.length;Y++){const ot=ce(E,H[Y],x||_.handleEvent,!1,_.h||_);if(!ot)break;_.g[ot.key]=ot}_=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),gi(),Nf(f.i,f.v,f.B,f.l,f.S,f.u)}Zn.prototype.ba=function(f){f=f.target;const _=this.O;_&&ni(f)==3?_.j():this.Y(f)},Zn.prototype.Y=function(f){try{if(f==this.g)t:{const xt=ni(this.g),_e=this.g.ya(),Gt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||xt!=4||_e==7||(_e==8||Gt<=0?gi(3):gi(2)),Ei(this);var _=this.g.ca();this.X=_;var E=Lf(this);if(this.o=_==200,Fu(this.i,this.v,this.B,this.l,this.S,xt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var x,H=this.g;if((x=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(x)){var Y=x;break e}}Y=null}if(f=Y)_i(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,f);else{this.o=!1,this.m=3,Ae(12),En(this),On(this);break t}}if(this.R){f=!0;let he;for(;!this.K&&this.C<E.length;)if(he=Yu(this,E),he==je){xt==4&&(this.m=4,Ae(14),f=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(he==xe){this.m=4,Ae(15),_i(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else _i(this.i,this.l,he,null),Ti(this,he);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),f=!1),this.o=this.o&&f,!f)_i(this.i,this.l,E,"[Invalid Chunked Response]"),En(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),sl(ot),ot.P=!0,Ae(11))}}else _i(this.i,this.l,E,null),Ti(this,E);xt==4&&En(this),this.o&&!this.K&&(xt==4?ec(this.j,this):(this.o=!1,bi(this)))}else Yi(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),En(this),On(this)}}}catch{}};function Lf(f){if(!Gu(f))return f.g.la();const _=Ye(f.g);if(_==="")return"";let E="";const x=_.length,H=ni(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return En(f),On(f),"";f.h.i=new u.TextDecoder}for(let Y=0;Y<x;Y++)f.h.h=!0,E+=f.h.i.decode(_[Y],{stream:!(H&&Y==x-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function Gu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Yu(f,_){var E=f.C,x=_.indexOf(`
`,E);return x==-1?je:(E=Number(_.substring(E,x)),isNaN(E)?xe:(x+=1,x+E>_.length?je:(_=_.slice(x,x+E),f.C=x+E,_)))}Zn.prototype.cancel=function(){this.K=!0,En(this)};function bi(f){f.T=Date.now()+f.H,Er(f,f.H)}function Er(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=yi(g(f.aa,f),_)}function Ei(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Zn.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ea(this.i,this.B),this.M!=2&&(gi(),Ae(17)),En(this),this.m=2,On(this)):Er(this,this.T-f)};function On(f){f.j.I==0||f.K||ec(f.j,f)}function En(f){Ei(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,jo(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Ti(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Ai(E.h,f))){if(!f.L&&Ai(E.h,f)&&E.I==3){try{var x=E.Ba.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Dr(E),Ds(E);else break t;Oa(E),Ae(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=yi(g(E.Va,E),6e3));Si(E.h)<=1&&E.ta&&(E.ta=void 0)}else Mi(E,11)}else if((f.L||E.g==f)&&Dr(E),!I(_))for(H=E.Ba.g.parse(_),_=0;_<H.length;_++){let Gt=H[_];const he=Gt[0];if(!(he<=E.K))if(E.K=he,Gt=Gt[1],E.I==2)if(Gt[0]=="c"){E.M=Gt[1],E.ba=Gt[2];const Nn=Gt[3];Nn!=null&&(E.ka=Nn,E.j.info("VER="+E.ka));const Oi=Gt[4];Oi!=null&&(E.za=Oi,E.j.info("SVER="+E.za));const ii=Gt[5];ii!=null&&typeof ii=="number"&&ii>0&&(x=1.5*ii,E.O=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const si=f.g;if(si){const Ia=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ia){var Y=x.h;Y.g||Ia.indexOf("spdy")==-1&&Ia.indexOf("quic")==-1&&Ia.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Yo(Y,Y.h),Y.h=null))}if(x.G){const Mr=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Mr&&(x.wa=Mr,Xt(x.J,x.G,Mr))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),x=E;var ot=f;if(x.na=sc(x,x.L?x.ba:null,x.W),ot.L){Qo(x.h,ot);var xt=ot,_e=x.O;_e&&(xt.H=_e),xt.D&&(Ei(xt),bi(xt)),x.g=ot}else Ju(x);E.i.length>0&&Di(E)}else Gt[0]!="stop"&&Gt[0]!="close"||Mi(E,7);else E.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Mi(E,7):nl(E):Gt[0]!="noop"&&E.l&&E.l.qa(Gt),E.A=0)}}gi(4)}catch{}}var we=class{constructor(f,_){this.g=f,this.map=_}};function qo(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Go(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Si(f){return f.h?1:f.g?f.g.size:0}function Ai(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Yo(f,_){f.g?f.g.add(_):f.h=_}function Qo(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}qo.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ko(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return A(f.i)}var Qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tr(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const x=f[E].indexOf("=");let H,Y=null;x>=0?(H=f[E].substring(0,x),Y=f[E].substring(x+1)):H=f[E],_(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Tn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Tn?(this.l=f.l,He(this,f.j),this.o=f.o,this.g=f.g,Ts(this,f.u),this.h=f.h,Xo(this,Wu(f.i)),this.m=f.m):f&&(_=String(f).match(Qu))?(this.l=!1,He(this,_[1]||"",!0),this.o=xi(_[2]||""),this.g=xi(_[3]||"",!0),Ts(this,_[4]),this.h=xi(_[5]||"",!0),Xo(this,_[6]||"",!0),this.m=xi(_[7]||"")):(this.l=!1,this.i=new As(null,this.l))}Tn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(xa(_,Sr,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(xa(_,Sr,!0),"@"),f.push(qi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(xa(E,E.charAt(0)=="/"?$o:Ku,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",xa(E,Xu)),f.join("")},Tn.prototype.resolve=function(f){const _=Re(this);let E=!!f.j;E?He(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var x=f.h;if(E)Ts(_,f.u);else if(E=!!f.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var H=_.h.lastIndexOf("/");H!=-1&&(x=_.h.slice(0,H+1)+x)}if(H=x,H==".."||H==".")x="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){x=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let ot=0;ot<H.length;){const xt=H[ot++];xt=="."?x&&ot==H.length&&Y.push(""):xt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),x&&ot==H.length&&Y.push("")):(Y.push(xt),x=!0)}x=Y.join("/")}else x=H}return E?_.h=x:E=f.i.toString()!=="",E?Xo(_,Wu(f.i)):E=!!f.m,E&&(_.m=f.m),_};function Re(f){return new Tn(f)}function He(f,_,E){f.j=E?xi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Ts(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Xo(f,_,E){_ instanceof As?(f.i=_,xr(f.i,f.l)):(E||(_=xa(_,Ss)),f.i=new As(_,f.l))}function Xt(f,_,E){f.i.set(_,E)}function Aa(f){return Xt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function xi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xa(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,hn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Sr=/[#\/\?@]/g,Ku=/[#\?:]/g,$o=/[#\?]/g,Ss=/[#\?@]/g,Xu=/#/g;function As(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function fn(f){f.g||(f.g=new Map,f.h=0,f.i&&Tr(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=As.prototype,n.add=function(f,_){fn(this),this.i=null,f=xs(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function $u(f,_){fn(f),_=xs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Wo(f,_){return fn(f),_=xs(f,_),f.g.has(_)}n.forEach=function(f,_){fn(this),this.g.forEach(function(E,x){E.forEach(function(H){f.call(_,H,x,this)},this)},this)};function Zo(f,_){fn(f);let E=[];if(typeof _=="string")Wo(f,_)&&(E=E.concat(f.g.get(xs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}n.set=function(f,_){return fn(this),this.i=null,f=xs(this,f),Wo(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=Zo(this,f),f.length>0?String(f[0]):_):_};function Ar(f,_,E){$u(f,_),E.length>0&&(f.i=null,f.g.set(xs(f,_),A(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let x=0;x<_.length;x++){var E=_[x];const H=qi(E);E=Zo(this,E);for(let Y=0;Y<E.length;Y++){let ot=H;E[Y]!==""&&(ot+="="+qi(E[Y])),f.push(ot)}}return this.i=f.join("&")};function Wu(f){const _=new As;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function xs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function xr(f,_){_&&!f.j&&(fn(f),f.i=null,f.g.forEach(function(E,x){const H=x.toLowerCase();x!=H&&($u(this,x),Ar(this,H,E))},f)),f.j=_}function ti(f,_){const E=new Wn;if(u.Image){const x=new Image;x.onload=y(In,E,"TestLoadImage: loaded",!0,_,x),x.onerror=y(In,E,"TestLoadImage: error",!1,_,x),x.onabort=y(In,E,"TestLoadImage: abort",!1,_,x),x.ontimeout=y(In,E,"TestLoadImage: timeout",!1,_,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else _(!1)}function Jo(f,_){const E=new Wn,x=new AbortController,H=setTimeout(()=>{x.abort(),In(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:x.signal}).then(Y=>{clearTimeout(H),Y.ok?In(E,"TestPingServer: ok",!0,_):In(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),In(E,"TestPingServer: error",!1,_)})}function In(f,_,E,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(E)}catch{}}function ws(){this.g=new Pu}function wi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(wi,Bu),wi.prototype.g=function(){return new wa(this.i,this.h)};function wa(f,_){Se.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(wa,Se),n=wa.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,ei(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wr(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function wr(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Rs(this):ei(this),this.readyState==3&&wr(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Rs(this))},n.Na=function(f){this.g&&(this.response=f,Rs(this))},n.ga=function(){this.g&&Rs(this)};function Rs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ei(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function ei(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Vn(f){let _="";return Dt(f,function(E,x){_+=x,_+=":",_+=E,_+=`\r
`}),_}function Ra(f,_,E){t:{for(x in E){var x=!1;break t}x=!0}x||(E=Vn(E),typeof f=="string"?E!=null&&qi(E):Xt(f,_,E))}function Jt(f){Se.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Jt,Se);var Ri=/^https?$/i,tl=["POST","PUT"];n=Jt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Y){Ca(this,Y);return}if(f=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)E.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())E.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(tl,_,void 0)>=0)||x||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ot]of E)this.g.setRequestHeader(Y,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){Ca(this,Y)}};function Ca(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,el(f),Gi(f)}function el(f){f.A||(f.A=!0,Le(f,"complete"),Le(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Le(this,"complete"),Le(this,"abort"),Gi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Jt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},n.Xa=function(){Da(this)};function Da(f){if(f.h&&typeof l<"u"){if(f.v&&ni(f)==4)setTimeout(f.Ca.bind(f),0);else if(Le(f,"readystatechange"),ni(f)==4){f.h=!1;try{const Y=f.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var x;if(x=Y===0){let ot=String(f.D).match(Qu)[1]||null;!ot&&u.self&&u.self.location&&(ot=u.self.location.protocol.slice(0,-1)),x=!Ri.test(ot?ot.toLowerCase():"")}E=x}if(E)Le(f,"complete"),Le(f,"success");else{f.o=6;try{var H=ni(f)>2?f.g.statusText:""}catch{H=""}f.l=H+" ["+f.ca()+"]",el(f)}}finally{Gi(f)}}}}function Gi(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Le(f,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ni(f){return f.g?f.g.readyState:0}n.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Vf(_)}};function Ye(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(f){const _={};f=(f.g&&ni(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(I(f[x]))continue;var E=qu(f[x]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[H]||[];_[H]=Y,Y.push(E)}It(_,function(x){return x.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Cs(f){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,f),this.Za=Ci("retryDelaySeedMs",1e4,f),this.Ta=Ci("forwardChannelMaxRetries",2,f),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(f&&f.concurrentRequestLimit),this.Ba=new ws,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Cs.prototype,n.ka=8,n.I=1,n.connect=function(f,_,E,x){Ae(0),this.W=f,this.H=_||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.J=sc(this,null,this.W),Di(this)};function nl(f){if(Rr(f),f.I==3){var _=f.V++,E=Re(f.J);if(Xt(E,"SID",f.M),Xt(E,"RID",_),Xt(E,"TYPE","terminate"),Ma(f,E),_=new Zn(f,f.j,_),_.M=2,_.A=Aa(Re(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=ac(_.j,null),_.g.ea(_.A)),_.F=Date.now(),bi(_)}ic(f)}function Ds(f){f.g&&(sl(f),f.g.cancel(),f.g=null)}function Rr(f){Ds(f),f.v&&(u.clearTimeout(f.v),f.v=null),Dr(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Di(f){if(!Go(f.h)&&!f.m){f.m=!0;var _=f.Ea;it||w(),rt||(it(),rt=!0),R.add(_,f),f.D=0}}function Cr(f,_){return Si(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=yi(g(f.Ea,f,_),nc(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const H=new Zn(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=z(Y),lt(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(_+=x,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Zu(this,H,_),E=Re(this.J),Xt(E,"RID",f),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),Ma(this,E),Y&&(this.R?_="headers="+qi(Vn(Y))+"&"+_:this.u&&Ra(E,this.u,Y)),Yo(this.h,H),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",_),Xt(E,"SID","null"),H.U=!0,vi(H,E,null)):vi(H,E,_),this.I=2}}else this.I==3&&(f?il(this,f):this.i.length==0||Go(this.h)||il(this))};function il(f,_){var E;_?E=_.l:E=f.V++;const x=Re(f.J);Xt(x,"SID",f.M),Xt(x,"RID",E),Xt(x,"AID",f.K),Ma(f,x),f.u&&f.o&&Ra(x,f.u,f.o),E=new Zn(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Zu(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Yo(f.h,E),vi(E,x,_)}function Ma(f,_){f.H&&Dt(f.H,function(E,x){Xt(_,x,E)}),f.l&&Dt({},function(E,x){Xt(_,x,E)})}function Zu(f,_,E){E=Math.min(f.i.length,E);const x=f.l?g(f.l.Ka,f.l,f):null;t:{var H=f.i;let xt=-1;for(;;){const _e=["count="+E];xt==-1?E>0?(xt=H[0].g,_e.push("ofs="+xt)):xt=0:_e.push("ofs="+xt);let Gt=!0;for(let he=0;he<E;he++){var Y=H[he].g;const Nn=H[he].map;if(Y-=xt,Y<0)xt=Math.max(0,H[he].g-100),Gt=!1;else try{Y="req"+Y+"_"||"";try{var ot=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Oi,ii]of ot){let si=ii;h(ii)&&(si=Es(ii)),_e.push(Y+Oi+"="+encodeURIComponent(si))}}catch(Oi){throw _e.push(Y+"type="+encodeURIComponent("_badmap")),Oi}}catch{x&&x(Nn)}}if(Gt){ot=_e.join("&");break t}}ot=void 0}return f=f.i.splice(0,E),_.G=f,ot}function Ju(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;it||w(),rt||(it(),rt=!0),R.add(_,f),f.A=0}}function Oa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=yi(g(f.Da,f),nc(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=yi(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Ds(this),tc(this))};function sl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function tc(f){f.g=new Zn(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Re(f.na);Xt(_,"RID","rpc"),Xt(_,"SID",f.M),Xt(_,"AID",f.K),Xt(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Xt(_,"TO",f.ia),Xt(_,"TYPE","xmlhttp"),Ma(f,_),f.u&&f.o&&Ra(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Aa(Re(_)),E.u=null,E.R=!0,br(E,f)}n.Va=function(){this.C!=null&&(this.C=null,Ds(this),Oa(this),Ae(19))};function Dr(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function ec(f,_){var E=null;if(f.g==_){Dr(f),sl(f),f.g=null;var x=2}else if(Ai(f.h,_))E=_.G,Qo(f.h,_),x=1;else return;if(f.I!=0){if(_.o)if(x==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var H=f.D;x=vr(),Le(x,new pi(x,E)),Di(f)}else Ju(f);else if(H=_.m,H==3||H==0&&_.X>0||!(x==1&&Cr(f,_)||x==2&&Oa(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),H){case 1:Mi(f,5);break;case 4:Mi(f,10);break;case 3:Mi(f,6);break;default:Mi(f,2)}}}function nc(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function Mi(f,_){if(f.j.info("Error code "+_),_==2){var E=g(f.bb,f),x=f.Ua;const H=!x;x=new Tn(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||He(x,"https"),Aa(x),H?ti(x.toString(),E):Jo(x.toString(),E)}else Ae(2);f.I=0,f.l&&f.l.pa(_),ic(f),Rr(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function ic(f){if(f.I=0,f.ja=[],f.l){const _=Ko(f.h);(_.length!=0||f.i.length!=0)&&(O(f.ja,_),O(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function sc(f,_,E){var x=E instanceof Tn?Re(E):new Tn(E);if(x.g!="")_&&(x.g=_+"."+x.g),Ts(x,x.u);else{var H=u.location;x=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const Y=new Tn(null);x&&He(Y,x),_&&(Y.g=_),H&&Ts(Y,H),E&&(Y.h=E),x=Y}return E=f.G,_=f.wa,E&&_&&Xt(x,E,_),Xt(x,"VER",f.ka),Ma(f,x),x}function ac(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new Jt(new wi({ab:E})):new Jt(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}n=rc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ms(){}Ms.prototype.g=function(f,_){return new un(f,_)};function un(f,_){Se.call(this),this.g=new Cs(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!I(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Qi(this)}v(un,Se),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){nl(this.g)},un.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Es(f),f=E);_.i.push(new we(_.Ya++,f)),_.I==3&&Di(_)},un.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,un.Z.N.call(this)};function oc(f){Ge.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const E in _){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(oc,Ge);function lc(){Mn.call(this),this.status=1}v(lc,Mn);function Qi(f){this.g=f}v(Qi,rc),Qi.prototype.ra=function(){Le(this.g,"a")},Qi.prototype.qa=function(f){Le(this.g,new oc(f))},Qi.prototype.pa=function(f){Le(this.g,new lc)},Qi.prototype.oa=function(){Le(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,wT=function(){return new Ms},xT=function(){return vr()},AT=ye,dg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ta.NO_ERROR=0,Ta.TIMEOUT=8,Ta.HTTP_ERROR=6,Vh=Ta,Ho.COMPLETE="complete",ST=Ho,Uu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Se.prototype.listen=Se.prototype.J,$l=Uu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,TT=Jt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Do="12.8.0";function qR(n){Do=n}const rr=new gT("@firebase/firestore");function oo(){return rr.logLevel}function ht(n,...t){if(rr.logLevel<=jt.DEBUG){const e=t.map(qg);rr.debug(`Firestore (${Do}): ${n}`,...e)}}function ys(n,...t){if(rr.logLevel<=jt.ERROR){const e=t.map(qg);rr.error(`Firestore (${Do}): ${n}`,...e)}}function vo(n,...t){if(rr.logLevel<=jt.WARN){const e=t.map(qg);rr.warn(`Firestore (${Do}): ${n}`,...e)}}function qg(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Et(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,RT(n,s,e)}function RT(n,t,e){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw ys(s),new Error(s)}function Kt(n,t,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,n||RT(t,r,s)}function At(n,t){return n}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Co{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class CT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(sn.UNAUTHENTICATED)))}shutdown(){}}class YR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class QR{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let s=this.i;const r=d=>this.i!==s?(s=this.i,e(d)):Promise.resolve();let l=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new nr,t.enqueueRetryable((()=>r(this.currentUser)))};const u=()=>{const d=l;t.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},h=d=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new nr)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new CT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class KR{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class XR{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new KR(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $R{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,RR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const s=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const r=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>r(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?r(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Ov(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}class Gg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=WR(40);for(let l=0;l<r.length;++l)s.length<20&&r[l]<e&&(s+=t.charAt(r[l]%62))}return s}}function kt(n,t){return n<t?-1:n>t?1:0}function mg(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const r=n.charAt(s),l=t.charAt(s);if(r!==l)return Fm(r)===Fm(l)?kt(r,l):Fm(r)?1:-1}return kt(n.length,t.length)}const ZR=55296,JR=57343;function Fm(n){const t=n.charCodeAt(0);return t>=ZR&&t<=JR}function bo(n,t,e){return n.length===t.length&&n.every(((s,r)=>e(s,t[r])))}const Iv="__name__";class Bi{constructor(t,e,s){e===void 0?e=0:e>t.length&&Et(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Et(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let r=0;r<s;r++){const l=Bi.compareSegments(t.get(r),e.get(r));if(l!==0)return l}return kt(t.length,e.length)}static compareSegments(t,e){const s=Bi.isNumericId(t),r=Bi.isNumericId(e);return s&&!r?-1:!s&&r?1:s&&r?Bi.extractNumericId(t).compare(Bi.extractNumericId(e)):mg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return aa.fromString(t.substring(4,t.length-2))}}class ae extends Bi{construct(t,e,s){return new ae(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((r=>r.length>0)))}return new ae(e)}static emptyPath(){return new ae([])}}const tC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Bi{construct(t,e,s){return new Ze(t,e,s)}static isValidIdentifier(t){return tC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new Ze([Iv])}static fromServerFormat(t){const e=[];let s="",r=0;const l=()=>{if(s.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let u=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new ct(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ct(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=d,r+=2}else h==="`"?(u=!u,r++):h!=="."||u?(s+=h,r++):(l(),r++)}if(l(),u)throw new ct(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ae.fromString(t))}static fromName(t){return new yt(ae.fromString(t).popFirst(5))}static empty(){return new yt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ae.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ae(t.slice()))}}function DT(n,t,e){if(!e)throw new ct(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function eC(n,t,e,s){if(t===!0&&s===!0)throw new ct(et.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Vv(n){if(!yt.isDocumentKey(n))throw new ct(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Nv(n){if(yt.isDocumentKey(n))throw new ct(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function su(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ct(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=mf(n);throw new ct(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Ne(n,t){const e={typeString:n};return t&&(e.value=t),e}function Ou(n,t){if(!MT(n))throw new ct(et.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const r=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const u=n[s];if(r&&typeof u!==r){e=`JSON field '${s}' must be a ${r}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${s}' field to equal '${l.value}'`;break}}if(e)throw new ct(et.INVALID_ARGUMENT,e);return!0}const kv=-62135596800,Lv=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*Lv);return new ue(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<kv)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lv}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ou(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-kv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Ne("string",ue._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ue(0,0))}static max(){return new Tt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gu=-1;function nC(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(s===1e9?new ue(e+1,0):new ue(e,s));return new ca(r,yt.empty(),t)}function iC(n){return new ca(n.readTime,n.key,gu)}class ca{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ca(Tt.min(),yt.empty(),gu)}static max(){return new ca(Tt.max(),yt.empty(),gu)}}function sC(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:kt(n.largestBatchId,t.largestBatchId))}const aC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Mo(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==aC)throw n;ht("LocalStore","Unexpectedly lost primary lease")}class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new nt(((s,r)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,r)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof nt?e:nt.resolve(e)}catch(e){return nt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):nt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):nt.reject(e)}static resolve(t){return new nt(((e,s)=>{e(t)}))}static reject(t){return new nt(((e,s)=>{s(t)}))}static waitFor(t){return new nt(((e,s)=>{let r=0,l=0,u=!1;t.forEach((h=>{++r,h.next((()=>{++l,u&&l===r&&e()}),(d=>s(d)))})),u=!0,l===r&&e()}))}static or(t){let e=nt.resolve(!1);for(const s of t)e=e.next((r=>r?nt.resolve(r):s()));return e}static forEach(t,e){const s=[];return t.forEach(((r,l)=>{s.push(e.call(this,r,l))})),this.waitFor(s)}static mapArray(t,e){return new nt(((s,r)=>{const l=t.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const g=d;e(t[g]).next((y=>{u[g]=y,++h,h===l&&s(u)}),(y=>r(y)))}}))}static doWhile(t,e){return new nt(((s,r)=>{const l=()=>{t()===!0?e().next((()=>{l()}),r):s()};l()}))}}function oC(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Oo(n){return n.name==="IndexedDbTransactionError"}class gf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gf.ce=-1;const Yg=-1;function pf(n){return n==null}function Qh(n){return n===0&&1/n==-1/0}function lC(n){return typeof n=="number"&&Number.isInteger(n)&&!Qh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const OT="";function uC(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=zv(t)),t=cC(n.get(e),t);return zv(t)}function cC(n,t){let e=t;const s=n.length;for(let r=0;r<s;r++){const l=n.charAt(r);switch(l){case"\0":e+="";break;case OT:e+="";break;default:e+=l}}return e}function zv(n){return n+OT+""}function Pv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function hr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function IT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class me{constructor(t,e){this.comparator=t,this.root=e||We.EMPTY}insert(t,e){return new me(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return e+s.left.size;r<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mh(this.root,t,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mh(this.root,t,this.comparator,!0)}}class mh{constructor(t,e,s,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&r&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,e,s,r,l){this.key=t,this.value=e,this.color=s??We.RED,this.left=r??We.EMPTY,this.right=l??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,r,l){return new We(t??this.key,e??this.value,s??this.color,r??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let r=this;const l=s(t,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(t,e,s),null):l===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return We.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,e,s,r,l){return this}insert(t,e,s){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(t){return new Bv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=s.getNext().key;if(this.comparator(r,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ue(this.comparator);return e.data=t,e}}class Bv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class li{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new li([])}unionWith(t){let e=new Ue(Ze.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new li(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bo(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new VT("Invalid base64 string: "+l):l}})(t);return new Je(e)}static fromUint8Array(t){const e=(function(r){let l="";for(let u=0;u<r.length;++u)l+=String.fromCharCode(r[u]);return l})(t);return new Je(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let r=0;r<e.length;r++)s[r]=e.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const hC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=hC.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(n.seconds),nanos:Ee(n.nanos)}}function Ee(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fa(n){return typeof n=="string"?Je.fromBase64String(n):Je.fromUint8Array(n)}const NT="server_timestamp",kT="__type__",LT="__previous_value__",zT="__local_write_time__";function Qg(n){return(n?.mapValue?.fields||{})[kT]?.stringValue===NT}function yf(n){const t=n.mapValue.fields[LT];return Qg(t)?yf(t):t}function pu(n){const t=ha(n.mapValue.fields[zT].timestampValue);return new ue(t.seconds,t.nanos)}class fC{constructor(t,e,s,r,l,u,h,d,g,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=r,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=v}}const Kh="(default)";class yu{constructor(t,e){this.projectId=t,this.database=e||Kh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(t){return t instanceof yu&&t.projectId===this.projectId&&t.database===this.database}}function dC(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ct(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(n.options.projectId,t)}const PT="__type__",mC="__max__",gh={mapValue:{}},BT="__vector__",Xh="value";function da(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qg(n)?4:pC(n)?9007199254740991:gC(n)?10:11:Et(28295,{value:n})}function Fi(n,t){if(n===t)return!0;const e=da(n);if(e!==da(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return pu(n).isEqual(pu(t));case 3:return(function(r,l){if(typeof r.timestampValue=="string"&&typeof l.timestampValue=="string"&&r.timestampValue.length===l.timestampValue.length)return r.timestampValue===l.timestampValue;const u=ha(r.timestampValue),h=ha(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,l){return fa(r.bytesValue).isEqual(fa(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,l){return Ee(r.geoPointValue.latitude)===Ee(l.geoPointValue.latitude)&&Ee(r.geoPointValue.longitude)===Ee(l.geoPointValue.longitude)})(n,t);case 2:return(function(r,l){if("integerValue"in r&&"integerValue"in l)return Ee(r.integerValue)===Ee(l.integerValue);if("doubleValue"in r&&"doubleValue"in l){const u=Ee(r.doubleValue),h=Ee(l.doubleValue);return u===h?Qh(u)===Qh(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return bo(n.arrayValue.values||[],t.arrayValue.values||[],Fi);case 10:case 11:return(function(r,l){const u=r.mapValue.fields||{},h=l.mapValue.fields||{};if(Pv(u)!==Pv(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Fi(u[d],h[d])))return!1;return!0})(n,t);default:return Et(52216,{left:n})}}function _u(n,t){return(n.values||[]).find((e=>Fi(e,t)))!==void 0}function Eo(n,t){if(n===t)return 0;const e=da(n),s=da(t);if(e!==s)return kt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const h=Ee(l.integerValue||l.doubleValue),d=Ee(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,t);case 3:return Uv(n.timestampValue,t.timestampValue);case 4:return Uv(pu(n),pu(t));case 5:return mg(n.stringValue,t.stringValue);case 6:return(function(l,u){const h=fa(l),d=fa(u);return h.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let g=0;g<h.length&&g<d.length;g++){const y=kt(h[g],d[g]);if(y!==0)return y}return kt(h.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const h=kt(Ee(l.latitude),Ee(u.latitude));return h!==0?h:kt(Ee(l.longitude),Ee(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return jv(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},g=h[Xh]?.arrayValue,y=d[Xh]?.arrayValue,v=kt(g?.values?.length||0,y?.values?.length||0);return v!==0?v:jv(g,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===gh.mapValue&&u===gh.mapValue)return 0;if(l===gh.mapValue)return 1;if(u===gh.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),g=u.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=mg(d[v],y[v]);if(T!==0)return T;const A=Eo(h[d[v]],g[y[v]]);if(A!==0)return A}return kt(d.length,y.length)})(n.mapValue,t.mapValue);default:throw Et(23264,{he:e})}}function Uv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return kt(n,t);const e=ha(n),s=ha(t),r=kt(e.seconds,s.seconds);return r!==0?r:kt(e.nanos,s.nanos)}function jv(n,t){const e=n.values||[],s=t.values||[];for(let r=0;r<e.length&&r<s.length;++r){const l=Eo(e[r],s[r]);if(l)return l}return kt(e.length,s.length)}function To(n){return gg(n)}function gg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=ha(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return fa(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return yt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",r=!0;for(const l of e.values||[])r?r=!1:s+=",",s+=gg(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let r="{",l=!0;for(const u of s)l?l=!1:r+=",",r+=`${u}:${gg(e.fields[u])}`;return r+"}"})(n.mapValue):Et(61005,{value:n})}function Nh(n){switch(da(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yf(n);return t?16+Nh(t):16;case 5:return 2*n.stringValue.length;case 6:return fa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,l)=>r+Nh(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let r=0;return hr(s.fields,((l,u)=>{r+=l.length+Nh(u)})),r})(n.mapValue);default:throw Et(13486,{value:n})}}function Hv(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function pg(n){return!!n&&"integerValue"in n}function Kg(n){return!!n&&"arrayValue"in n}function Fv(n){return!!n&&"nullValue"in n}function qv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kh(n){return!!n&&"mapValue"in n}function gC(n){return(n?.mapValue?.fields||{})[PT]?.stringValue===BT}function au(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return hr(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=au(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=au(n.arrayValue.values[e]);return t}return{...n}}function pC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mC}class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!kh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=au(e)}setAll(t){let e=Ze.emptyPath(),s={},r=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,s,r),s={},r=[],e=h.popLast()}u?s[h.lastSegment()]=au(u):r.push(h.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,s,r)}delete(t){const e=this.field(t.popLast());kh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Fi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let r=e.mapValue.fields[t.get(s)];kh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,s){hr(e,((r,l)=>t[r]=l));for(const r of s)delete t[r]}clone(){return new qn(au(this.value))}}function UT(n){const t=[];return hr(n.fields,((e,s)=>{const r=new Ze([e]);if(kh(s)){const l=UT(s.mapValue).fields;if(l.length===0)t.push(r);else for(const u of l)t.push(r.child(u))}else t.push(r)})),new li(t)}class an{constructor(t,e,s,r,l,u,h){this.key=t,this.documentType=e,this.version=s,this.readTime=r,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(t){return new an(t,0,Tt.min(),Tt.min(),Tt.min(),qn.empty(),0)}static newFoundDocument(t,e,s,r){return new an(t,1,e,Tt.min(),s,r,0)}static newNoDocument(t,e){return new an(t,2,e,Tt.min(),Tt.min(),qn.empty(),0)}static newUnknownDocument(t,e){return new an(t,3,e,Tt.min(),Tt.min(),qn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $h{constructor(t,e){this.position=t,this.inclusive=e}}function Gv(n,t,e){let s=0;for(let r=0;r<n.position.length;r++){const l=t[r],u=n.position[r];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(u.referenceValue),e.key):s=Eo(u,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yv(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Fi(n.position[e],t.position[e]))return!1;return!0}class vu{constructor(t,e="asc"){this.field=t,this.dir=e}}function yC(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class jT{}class Ve extends jT{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new vC(t,e,s):e==="array-contains"?new TC(t,s):e==="in"?new SC(t,s):e==="not-in"?new AC(t,s):e==="array-contains-any"?new xC(t,s):new Ve(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new bC(t,s):new EC(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Eo(e,this.value)):e!==null&&da(this.value)===da(e)&&this.matchesComparison(Eo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends jT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new di(t,e)}matches(t){return HT(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HT(n){return n.op==="and"}function FT(n){return _C(n)&&HT(n)}function _C(n){for(const t of n.filters)if(t instanceof di)return!1;return!0}function yg(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+To(n.value);if(FT(n))return n.filters.map((t=>yg(t))).join(",");{const t=n.filters.map((e=>yg(e))).join(",");return`${n.op}(${t})`}}function qT(n,t){return n instanceof Ve?(function(s,r){return r instanceof Ve&&s.op===r.op&&s.field.isEqual(r.field)&&Fi(s.value,r.value)})(n,t):n instanceof di?(function(s,r){return r instanceof di&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((l,u,h)=>l&&qT(u,r.filters[h])),!0):!1})(n,t):void Et(19439)}function GT(n){return n instanceof Ve?(function(e){return`${e.field.canonicalString()} ${e.op} ${To(e.value)}`})(n):n instanceof di?(function(e){return e.op.toString()+" {"+e.getFilters().map(GT).join(" ,")+"}"})(n):"Filter"}class vC extends Ve{constructor(t,e,s){super(t,e,s),this.key=yt.fromName(s.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class bC extends Ve{constructor(t,e){super(t,"in",e),this.keys=YT("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class EC extends Ve{constructor(t,e){super(t,"not-in",e),this.keys=YT("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function YT(n,t){return(t.arrayValue?.values||[]).map((e=>yt.fromName(e.referenceValue)))}class TC extends Ve{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Kg(e)&&_u(e.arrayValue,this.value)}}class SC extends Ve{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&_u(this.value.arrayValue,e)}}class AC extends Ve{constructor(t,e){super(t,"not-in",e)}matches(t){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!_u(this.value.arrayValue,e)}}class xC extends Ve{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Kg(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>_u(this.value.arrayValue,s)))}}class wC{constructor(t,e=null,s=[],r=[],l=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=r,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Qv(n,t=null,e=[],s=[],r=null,l=null,u=null){return new wC(n,t,e,s,r,l,u)}function Xg(n){const t=At(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>yg(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),pf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>To(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>To(s))).join(",")),t.Te=e}return t.Te}function $g(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!yC(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!qT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Yv(n.startAt,t.startAt)&&Yv(n.endAt,t.endAt)}function _g(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Io{constructor(t,e=null,s=[],r=[],l=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=r,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function RC(n,t,e,s,r,l,u,h){return new Io(n,t,e,s,r,l,u,h)}function Wg(n){return new Io(n)}function Kv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CC(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function QT(n){return n.collectionGroup!==null}function ru(n){const t=At(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ue(Ze.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new vu(l,s))})),e.has(Ze.keyField().canonicalString())||t.Ie.push(new vu(Ze.keyField(),s))}return t.Ie}function Ui(n){const t=At(n);return t.Ee||(t.Ee=DC(t,ru(n))),t.Ee}function DC(n,t){if(n.limitType==="F")return Qv(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const l=r.dir==="desc"?"asc":"desc";return new vu(r.field,l)}));const e=n.endAt?new $h(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new $h(n.startAt.position,n.startAt.inclusive):null;return Qv(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function vg(n,t){const e=n.filters.concat([t]);return new Io(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function MC(n,t){const e=n.explicitOrderBy.concat([t]);return new Io(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function bg(n,t,e){return new Io(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function _f(n,t){return $g(Ui(n),Ui(t))&&n.limitType===t.limitType}function KT(n){return`${Xg(Ui(n))}|lt:${n.limitType}`}function lo(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((r=>GT(r))).join(", ")}]`),pf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((r=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(r))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>To(r))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>To(r))).join(",")),`Target(${s})`})(Ui(n))}; limitType=${n.limitType})`}function vf(n,t){return t.isFoundDocument()&&(function(s,r){const l=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,t)&&(function(s,r){for(const l of ru(s))if(!l.field.isKeyField()&&r.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(s,r){for(const l of s.filters)if(!l.matches(r))return!1;return!0})(n,t)&&(function(s,r){return!(s.startAt&&!(function(u,h,d){const g=Gv(u,h,d);return u.inclusive?g<=0:g<0})(s.startAt,ru(s),r)||s.endAt&&!(function(u,h,d){const g=Gv(u,h,d);return u.inclusive?g>=0:g>0})(s.endAt,ru(s),r))})(n,t)}function OC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function XT(n){return(t,e)=>{let s=!1;for(const r of ru(n)){const l=IC(r,t,e);if(l!==0)return l;s=s||r.field.isKeyField()}return 0}}function IC(n,t,e){const s=n.field.isKeyField()?yt.comparator(t.key,e.key):(function(l,u,h){const d=u.data.field(l),g=h.data.field(l);return d!==null&&g!==null?Eo(d,g):Et(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:n.dir})}}class fr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[r,l]of s)if(this.equalsFn(r,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),r=this.inner[s];if(r===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return void(r[l]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return s.length===1?delete this.inner[e]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(t){hr(this.inner,((e,s)=>{for(const[r,l]of s)t(r,l)}))}isEmpty(){return IT(this.inner)}size(){return this.innerSize}}const VC=new me(yt.comparator);function _s(){return VC}const $T=new me(yt.comparator);function Wl(...n){let t=$T;for(const e of n)t=t.insert(e.key,e);return t}function WT(n){let t=$T;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function tr(){return ou()}function ZT(){return ou()}function ou(){return new fr((n=>n.toString()),((n,t)=>n.isEqual(t)))}const NC=new me(yt.comparator),kC=new Ue(yt.comparator);function Lt(...n){let t=kC;for(const e of n)t=t.add(e);return t}const LC=new Ue(kt);function zC(){return LC}function Zg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(t)?"-0":t}}function JT(n){return{integerValue:""+n}}function PC(n,t){return lC(t)?JT(t):Zg(n,t)}class bf{constructor(){this._=void 0}}function BC(n,t,e){return n instanceof bu?(function(r,l){const u={fields:{[kT]:{stringValue:NT},[zT]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return l&&Qg(l)&&(l=yf(l)),l&&(u.fields[LT]=l),{mapValue:u}})(e,t):n instanceof Eu?e1(n,t):n instanceof Tu?n1(n,t):(function(r,l){const u=t1(r,l),h=Xv(u)+Xv(r.Ae);return pg(u)&&pg(r.Ae)?JT(h):Zg(r.serializer,h)})(n,t)}function UC(n,t,e){return n instanceof Eu?e1(n,t):n instanceof Tu?n1(n,t):e}function t1(n,t){return n instanceof Wh?(function(s){return pg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class bu extends bf{}class Eu extends bf{constructor(t){super(),this.elements=t}}function e1(n,t){const e=i1(t);for(const s of n.elements)e.some((r=>Fi(r,s)))||e.push(s);return{arrayValue:{values:e}}}class Tu extends bf{constructor(t){super(),this.elements=t}}function n1(n,t){let e=i1(t);for(const s of n.elements)e=e.filter((r=>!Fi(r,s)));return{arrayValue:{values:e}}}class Wh extends bf{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Xv(n){return Ee(n.integerValue||n.doubleValue)}function i1(n){return Kg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jC{constructor(t,e){this.field=t,this.transform=e}}function HC(n,t){return n.field.isEqual(t.field)&&(function(s,r){return s instanceof Eu&&r instanceof Eu||s instanceof Tu&&r instanceof Tu?bo(s.elements,r.elements,Fi):s instanceof Wh&&r instanceof Wh?Fi(s.Ae,r.Ae):s instanceof bu&&r instanceof bu})(n.transform,t.transform)}class FC{constructor(t,e){this.version=t,this.transformResults=e}}class ms{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ms}static exists(t){return new ms(void 0,t)}static updateTime(t){return new ms(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Ef{}function s1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new r1(n.key,ms.none()):new Iu(n.key,n.data,ms.none());{const e=n.data,s=qn.empty();let r=new Ue(Ze.comparator);for(let l of t.fields)if(!r.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?s.delete(l):s.set(l,u),r=r.add(l)}return new dr(n.key,s,new li(r.toArray()),ms.none())}}function qC(n,t,e){n instanceof Iu?(function(r,l,u){const h=r.value.clone(),d=Wv(r.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof dr?(function(r,l,u){if(!Lh(r.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Wv(r.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(a1(r)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,t,e):(function(r,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function lu(n,t,e,s){return n instanceof Iu?(function(l,u,h,d){if(!Lh(l.precondition,u))return h;const g=l.value.clone(),y=Zv(l.fieldTransforms,d,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,t,e,s):n instanceof dr?(function(l,u,h,d){if(!Lh(l.precondition,u))return h;const g=Zv(l.fieldTransforms,d,u),y=u.data;return y.setAll(a1(l)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,s):(function(l,u,h){return Lh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function GC(n,t){let e=null;for(const s of n.fieldTransforms){const r=t.data.field(s.field),l=t1(s.transform,r||null);l!=null&&(e===null&&(e=qn.empty()),e.set(s.field,l))}return e||null}function $v(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&bo(s,r,((l,u)=>HC(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Iu extends Ef{constructor(t,e,s,r=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class dr extends Ef{constructor(t,e,s,r,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=r,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function a1(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function Wv(n,t,e){const s=new Map;Kt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let r=0;r<e.length;r++){const l=n[r],u=l.transform,h=t.data.field(l.field);s.set(l.field,UC(u,h,e[r]))}return s}function Zv(n,t,e){const s=new Map;for(const r of n){const l=r.transform,u=e.data.field(r.field);s.set(r.field,BC(l,u,t))}return s}class r1 extends Ef{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YC extends Ef{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QC{constructor(t,e,s,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(t.key)&&qC(l,t,s[r])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=lu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=lu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=ZT();return this.mutations.forEach((r=>{const l=t.get(r.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=e.has(r.key)?null:h;const d=s1(u,h);d!==null&&s.set(r.key,d),u.isValidDocument()||u.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&bo(this.mutations,t.mutations,((e,s)=>$v(e,s)))&&bo(this.baseMutations,t.baseMutations,((e,s)=>$v(e,s)))}}class Jg{constructor(t,e,s,r){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=r}static from(t,e,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let r=(function(){return NC})();const l=t.mutations;for(let u=0;u<l.length;u++)r=r.insert(l[u].key,s[u].version);return new Jg(t,e,s,r)}}class KC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class XC{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ie,Ut;function $C(n){switch(n){case et.OK:return Et(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function o1(n){if(n===void 0)return ys("GRPC error has no .code"),et.UNKNOWN;switch(n){case Ie.OK:return et.OK;case Ie.CANCELLED:return et.CANCELLED;case Ie.UNKNOWN:return et.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return et.INTERNAL;case Ie.UNAVAILABLE:return et.UNAVAILABLE;case Ie.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ie.NOT_FOUND:return et.NOT_FOUND;case Ie.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ie.ABORTED:return et.ABORTED;case Ie.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ie.DATA_LOSS:return et.DATA_LOSS;default:return Et(39323,{code:n})}}(Ut=Ie||(Ie={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function WC(){return new TextEncoder}const ZC=new aa([4294967295,4294967295],0);function Jv(n){const t=WC().encode(n),e=new ET;return e.update(t),new Uint8Array(e.digest())}function tb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),r=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new aa([e,s],0),new aa([r,l],0)]}class tp{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Zl(`Invalid padding: ${e}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=aa.fromNumber(this.ge)}ye(t,e,s){let r=t.add(e.multiply(aa.fromNumber(s)));return r.compare(ZC)===1&&(r=new aa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Jv(t),[s,r]=tb(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,r,l);if(!this.we(u))return!1}return!0}static create(t,e,s){const r=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new tp(l,r,e);return s.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=Jv(t),[s,r]=tb(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,r,l);this.be(u)}}be(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tf{constructor(t,e,s,r,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const r=new Map;return r.set(t,Vu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Tf(Tt.min(),r,new me(kt),_s(),Lt())}}class Vu{constructor(t,e,s,r,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Vu(s,e,Lt(),Lt(),Lt())}}class zh{constructor(t,e,s,r){this.Se=t,this.removedTargetIds=e,this.key=s,this.De=r}}class l1{constructor(t,e){this.targetId=t,this.Ce=e}}class u1{constructor(t,e,s=Je.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=r}}class eb{constructor(){this.ve=0,this.Fe=nb(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),e=Lt(),s=Lt();return this.Fe.forEach(((r,l)=>{switch(l){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:s=s.add(r);break;default:Et(38017,{changeType:l})}})),new Vu(this.Me,this.xe,t,e,s)}Ke(){this.Oe=!1,this.Fe=nb()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class JC{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.He=ph(),this.Je=ph(),this.Ze=new me(kt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((s,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,s=t.Ce.count,r=this.ot(e);if(r){const l=r.target;if(_g(l))if(s===0){const u=new yt(l.path);this.et(e,u,an.newNoDocument(u,Tt.min()))}else Kt(s===1,20013,{expectedCount:s});else{const u=this._t(e);if(u!==s){const h=this.ut(t),d=h?this.ct(h,t,u):1;if(d!==0){this.it(e);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:l=0}=e;let u,h;try{u=fa(s).toUint8Array()}catch(d){if(d instanceof VT)return vo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new tp(u,r,l)}catch(d){return vo(d instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let r=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(e,l,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&_g(h.target)){const d=new yt(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,an.newNoDocument(d,t))}l.Be&&(e.set(u,l.ke()),l.Ke())}}));let s=Lt();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const g=this.ot(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const r=new Tf(t,e,this.Ze,this.je,s);return this.je=_s(),this.He=ph(),this.Je=ph(),this.Ze=new me(kt),r}Ye(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,s),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.qe(e,1):r.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new eb,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ue(kt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ue(kt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new eb),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ph(){return new me(yt.comparator)}function nb(){return new me(yt.comparator)}const tD={asc:"ASCENDING",desc:"DESCENDING"},eD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nD={and:"AND",or:"OR"};class iD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Eg(n,t){return n.useProto3Json||pf(t)?t:{value:t}}function Zh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function c1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function sD(n,t){return Zh(n,t.toTimestamp())}function ji(n){return Kt(!!n,49232),Tt.fromTimestamp((function(e){const s=ha(e);return new ue(s.seconds,s.nanos)})(n))}function ep(n,t){return Tg(n,t).canonicalString()}function Tg(n,t){const e=(function(r){return new ae(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function h1(n){const t=ae.fromString(n);return Kt(p1(t),10190,{key:t.toString()}),t}function Sg(n,t){return ep(n.databaseId,t.path)}function qm(n,t){const e=h1(t);if(e.get(1)!==n.databaseId.projectId)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(d1(e))}function f1(n,t){return ep(n.databaseId,t)}function aD(n){const t=h1(n);return t.length===4?ae.emptyPath():d1(t)}function Ag(n){return new ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function d1(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ib(n,t,e){return{name:Sg(n,t),fields:e.value.mapValue.fields}}function rD(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),Je.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Je.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(g){const y=g.code===void 0?et.UNKNOWN:o1(g.code);return new ct(y,g.message||"")})(u);e=new u1(s,r,l,h||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const r=qm(n,s.document.name),l=ji(s.document.updateTime),u=s.document.createTime?ji(s.document.createTime):Tt.min(),h=new qn({mapValue:{fields:s.document.fields}}),d=an.newFoundDocument(r,l,u,h),g=s.targetIds||[],y=s.removedTargetIds||[];e=new zh(g,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const r=qm(n,s.document),l=s.readTime?ji(s.readTime):Tt.min(),u=an.newNoDocument(r,l),h=s.removedTargetIds||[];e=new zh([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const r=qm(n,s.document),l=s.removedTargetIds||[];e=new zh([],l,r,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:r=0,unchangedNames:l}=s,u=new XC(r,l),h=s.targetId;e=new l1(h,u)}}return e}function oD(n,t){let e;if(t instanceof Iu)e={update:ib(n,t.key,t.value)};else if(t instanceof r1)e={delete:Sg(n,t.key)};else if(t instanceof dr)e={update:ib(n,t.key,t.data),updateMask:pD(t.fieldMask)};else{if(!(t instanceof YC))return Et(16599,{dt:t.type});e={verify:Sg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof bu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Eu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Tu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Wh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Et(20930,{transform:u.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(r,l){return l.updateTime!==void 0?{updateTime:sD(r,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)})(n,t.precondition)),e}function lD(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map((e=>(function(r,l){let u=r.updateTime?ji(r.updateTime):ji(l);return u.isEqual(Tt.min())&&(u=ji(l)),new FC(u,r.transformResults||[])})(e,t)))):[]}function uD(n,t){return{documents:[f1(n,t.path)]}}function cD(n,t){const e={structuredQuery:{}},s=t.path;let r;t.collectionGroup!==null?(r=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=f1(n,r);const l=(function(g){if(g.length!==0)return g1(di.create(g,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((y=>(function(T){return{field:uo(T.field),direction:dD(T.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=Eg(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:r}}function hD(n){let t=aD(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let r=null;if(s>0){Kt(s===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const T=m1(v);return T instanceof di&&FT(T)?T.getFilters():[T]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((T=>(function(O){return new vu(co(O.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,pf(T)?null:T})(e.limit));let d=null;e.startAt&&(d=(function(v){const T=!!v.before,A=v.values||[];return new $h(A,T)})(e.startAt));let g=null;return e.endAt&&(g=(function(v){const T=!v.before,A=v.values||[];return new $h(A,T)})(e.endAt)),RC(t,r,u,l,h,"F",d,g)}function fD(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function m1(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=co(e.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=co(e.unaryFilter.field);return Ve.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=co(e.unaryFilter.field);return Ve.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=co(e.unaryFilter.field);return Ve.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ve.create(co(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return di.create(e.compositeFilter.filters.map((s=>m1(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(e.compositeFilter.op))})(n):Et(30097,{filter:n})}function dD(n){return tD[n]}function mD(n){return eD[n]}function gD(n){return nD[n]}function uo(n){return{fieldPath:n.canonicalString()}}function co(n){return Ze.fromServerFormat(n.fieldPath)}function g1(n){return n instanceof Ve?(function(e){if(e.op==="=="){if(qv(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NAN"}};if(Fv(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(qv(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NOT_NAN"}};if(Fv(e.value))return{unaryFilter:{field:uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(e.field),op:mD(e.op),value:e.value}}})(n):n instanceof di?(function(e){const s=e.getFilters().map((r=>g1(r)));return s.length===1?s[0]:{compositeFilter:{op:gD(e.op),filters:s}}})(n):Et(54877,{filter:n})}function pD(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function p1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function y1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Js{constructor(t,e,s,r,l=Tt.min(),u=Tt.min(),h=Je.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class yD{constructor(t){this.yt=t}}function _D(n){const t=hD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bg(t,t.limit,"L"):t}class vD{constructor(){this.Sn=new bD}addToCollectionParentIndex(t,e){return this.Sn.add(e),nt.resolve()}getCollectionParents(t,e){return nt.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return nt.resolve()}deleteFieldIndex(t,e){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,e){return nt.resolve()}getDocumentsMatchingTarget(t,e){return nt.resolve(null)}getIndexType(t,e){return nt.resolve(0)}getFieldIndexes(t,e){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,e){return nt.resolve(ca.min())}getMinOffsetFromCollectionGroup(t,e){return nt.resolve(ca.min())}updateCollectionGroup(t,e,s){return nt.resolve()}updateIndexEntries(t,e){return nt.resolve()}}class bD{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),r=this.index[e]||new Ue(ae.comparator),l=!r.has(s);return this.index[e]=r.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),r=this.index[e];return r&&r.has(s)}getEntries(t){return(this.index[t]||new Ue(ae.comparator)).toArray()}}const sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_1=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(_1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class So{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new So(0)}static ar(){return new So(-1)}}const ab="LruGarbageCollector",ED=1048576;function rb([n,t],[e,s]){const r=kt(n,e);return r===0?kt(t,s):r}class TD{constructor(t){this.Pr=t,this.buffer=new Ue(rb),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();rb(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class SD{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ht(ab,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Oo(e)?ht(ab,"Ignoring IndexedDB error during garbage collection: ",e):await Mo(e)}await this.Ar(3e5)}))}}class AD{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return nt.resolve(gf.ce);const s=new TD(e);return this.Vr.forEachTarget(t,(r=>s.Er(r.sequenceNumber))).next((()=>this.Vr.mr(t,(r=>s.Er(r))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.Vr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(sb)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sb):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let s,r,l,u,h,d,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,u=Date.now(),this.nthSequenceNumber(t,r)))).next((v=>(s=v,h=Date.now(),this.removeTargets(t,s,e)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(t,s)))).next((v=>(g=Date.now(),oo()<=jt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${r} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(g-d)+`ms
Total Duration: ${g-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:v}))))}}function xD(n,t){return new AD(n,t)}class wD{constructor(){this.changes=new fr((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?nt.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class RD{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class CD{constructor(t,e,s,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=r}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(s=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(s!==null&&lu(s.mutation,r,li.empty(),ue.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=Lt()){const r=tr();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,s).next((l=>{let u=Wl();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const s=tr();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,Lt())))}populateOverlays(t,e,s){const r=[];return s.forEach((l=>{e.has(l)||r.push(l)})),this.documentOverlayCache.getOverlays(t,r).next((l=>{l.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,s,r){let l=_s();const u=ou(),h=(function(){return ou()})();return e.forEach(((d,g)=>{const y=s.get(g.key);r.has(g.key)&&(y===void 0||y.mutation instanceof dr)?l=l.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),lu(y.mutation,g,y.mutation.getFieldMask(),ue.now())):u.set(g.key,li.empty())})),this.recalculateAndSaveOverlays(t,l).next((d=>(d.forEach(((g,y)=>u.set(g,y))),e.forEach(((g,y)=>h.set(g,new RD(y,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(t,e){const s=ou();let r=new me(((u,h)=>u-h)),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((d=>{const g=e.get(d);if(g===null)return;let y=s.get(d)||li.empty();y=h.applyToLocalView(g,y),s.set(d,y);const v=(r.get(h.batchId)||Lt()).add(d);r=r.insert(h.batchId,v)}))})).next((()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),g=d.key,y=d.value,v=ZT();y.forEach((T=>{if(!l.has(T)){const A=s1(e.get(T),s.get(T));A!==null&&v.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(t,g,v))}return nt.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,r){return CC(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):QT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,r):this.getDocumentsMatchingCollectionQuery(t,e,s,r)}getNextDocuments(t,e,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,r).next((l=>{const u=r-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,r-l.size):nt.resolve(tr());let h=gu,d=l;return u.next((g=>nt.forEach(g,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,d,g,Lt()))).next((y=>({batchId:h,changes:WT(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next((s=>{let r=Wl();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,r){const l=e.collectionGroup;let u=Wl();return this.indexManager.getCollectionParents(t,l).next((h=>nt.forEach(h,(d=>{const g=(function(v,T){return new Io(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,d.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,r).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,s,r){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,r)))).next((u=>{l.forEach(((d,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,an.newInvalidDocument(y)))}));let h=Wl();return u.forEach(((d,g)=>{const y=l.get(d);y!==void 0&&lu(y.mutation,g,li.empty(),ue.now()),vf(e,g)&&(h=h.insert(d,g))})),h}))}}class DD{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return nt.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:ji(r.createTime)}})(e)),nt.resolve()}getNamedQuery(t,e){return nt.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(r){return{name:r.name,query:_D(r.bundledQuery),readTime:ji(r.readTime)}})(e)),nt.resolve()}}class MD{constructor(){this.overlays=new me(yt.comparator),this.Lr=new Map}getOverlay(t,e){return nt.resolve(this.overlays.get(e))}getOverlays(t,e){const s=tr();return nt.forEach(e,(r=>this.getOverlay(t,r).next((l=>{l!==null&&s.set(r,l)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((r,l)=>{this.bt(t,e,l)})),nt.resolve()}removeOverlaysForBatchId(t,e,s){const r=this.Lr.get(s);return r!==void 0&&(r.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),nt.resolve()}getOverlaysForCollection(t,e,s){const r=tr(),l=e.length+1,u=new yt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,g=d.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&d.largestBatchId>s&&r.set(d.getKey(),d)}return nt.resolve(r)}getOverlaysForCollectionGroup(t,e,s,r){let l=new me(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=tr(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=tr(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((g,y)=>h.set(g,y))),!(h.size()>=r)););return nt.resolve(h)}bt(t,e,s){const r=this.overlays.get(s.key);if(r!==null){const u=this.Lr.get(r.largestBatchId).delete(s.key);this.Lr.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new KC(e,s));let l=this.Lr.get(e);l===void 0&&(l=Lt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(s.key))}}class OD{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,nt.resolve()}}class np{constructor(){this.kr=new Ue(qe.Kr),this.qr=new Ue(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const s=new qe(t,e);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Wr(new qe(t,e))}Qr(t,e){t.forEach((s=>this.removeReference(s,e)))}Gr(t){const e=new yt(new ae([])),s=new qe(e,t),r=new qe(e,t+1),l=[];return this.qr.forEachInRange([s,r],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new yt(new ae([])),s=new qe(e,t),r=new qe(e,t+1);let l=Lt();return this.qr.forEachInRange([s,r],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new qe(t,0),s=this.kr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return yt.comparator(t.key,e.key)||kt(t.Hr,e.Hr)}static Ur(t,e){return kt(t.Hr,e.Hr)||yt.comparator(t.key,e.key)}}class ID{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ue(qe.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,r){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new QC(l,e,s,r);this.mutationQueue.push(u);for(const h of r)this.Jr=this.Jr.add(new qe(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return nt.resolve(u)}lookupMutationBatch(t,e){return nt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,r=this.Xr(s),l=r<0?0:r;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Yg:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new qe(e,0),r=new qe(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,r],(u=>{const h=this.Zr(u.Hr);l.push(h)})),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Ue(kt);return e.forEach((r=>{const l=new qe(r,0),u=new qe(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{s=s.add(h.Hr)}))})),nt.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,r=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const u=new qe(new yt(l),0);let h=new Ue(kt);return this.Jr.forEachWhile((d=>{const g=d.key.path;return!!s.isPrefixOf(g)&&(g.length===r&&(h=h.add(d.Hr)),!0)}),u),nt.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((s=>{const r=this.Zr(s);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Kt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return nt.forEach(e.mutations,(r=>{const l=new qe(r.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,e){const s=new qe(e,0),r=this.Jr.firstAfterOrEqual(s);return nt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class VD{constructor(t){this.ti=t,this.docs=(function(){return new me(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,r=this.docs.get(s),l=r?r.size:0,u=this.ti(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return nt.resolve(s?s.document.mutableCopy():an.newInvalidDocument(e))}getEntries(t,e){let s=_s();return e.forEach((r=>{const l=this.docs.get(r);s=s.insert(r,l?l.document.mutableCopy():an.newInvalidDocument(r))})),nt.resolve(s)}getDocumentsMatchingQuery(t,e,s,r){let l=_s();const u=e.path,h=new yt(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||sC(iC(y),s)<=0||(r.has(y.key)||vf(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,e,s,r){Et(9500)}ni(t,e){return nt.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new ND(this)}getSize(t){return nt.resolve(this.size)}}class ND extends wD{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?e.push(this.Mr.addEntry(t,r)):this.Mr.removeEntry(s)})),nt.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class kD{constructor(t){this.persistence=t,this.ri=new fr((e=>Xg(e)),$g),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new np,this.targetCount=0,this.oi=So._r()}forEachTarget(t,e){return this.ri.forEach(((s,r)=>e(r))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.ii&&(this.ii=e),nt.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new So(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,nt.resolve()}updateTargetData(t,e){return this.lr(e),nt.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,e,s){let r=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=e&&s.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),nt.waitFor(l).next((()=>r))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,e){const s=this.ri.get(e)||null;return nt.resolve(s)}addMatchingKeys(t,e,s){return this.si.$r(e,s),nt.resolve()}removeMatchingKeys(t,e,s){this.si.Qr(e,s);const r=this.persistence.referenceDelegate,l=[];return r&&e.forEach((u=>{l.push(r.markPotentiallyOrphaned(t,u))})),nt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),nt.resolve()}getMatchingKeysForTargetId(t,e){const s=this.si.jr(e);return nt.resolve(s)}containsKey(t,e){return nt.resolve(this.si.containsKey(e))}}class v1{constructor(t,e){this._i={},this.overlays={},this.ai=new gf(0),this.ui=!1,this.ui=!0,this.ci=new OD,this.referenceDelegate=t(this),this.li=new kD(this),this.indexManager=new vD,this.remoteDocumentCache=(function(r){return new VD(r)})((s=>this.referenceDelegate.hi(s))),this.serializer=new yD(e),this.Pi=new DD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new MD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this._i[t.toKey()];return s||(s=new ID(e,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,s){ht("MemoryPersistence","Starting transaction:",t);const r=new LD(this.ai.next());return this.referenceDelegate.Ti(),s(r).next((l=>this.referenceDelegate.Ii(r).next((()=>l)))).toPromise().then((l=>(r.raiseOnCommittedEvent(),l)))}Ei(t,e){return nt.or(Object.values(this._i).map((s=>()=>s.containsKey(t,e))))}}class LD extends rC{constructor(t){super(),this.currentSequenceNumber=t}}class ip{constructor(t){this.persistence=t,this.Ri=new np,this.Ai=null}static Vi(t){return new ip(t)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.di.delete(s.toString()),nt.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.di.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),nt.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((r=>this.di.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(s=>{const r=yt.fromPath(s);return this.mi(t,r).next((l=>{l||e.removeEntry(r,Tt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((s=>{s?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return nt.or([()=>nt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Jh{constructor(t,e){this.persistence=t,this.fi=new fr((s=>uC(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=xD(this,e)}static Vi(t,e){return new Jh(t,e)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((r=>s+r))))}pr(t){let e=0;return this.mr(t,(s=>{e++})).next((()=>e))}mr(t,e){return nt.forEach(this.fi,((s,r)=>this.wr(t,s,r).next((l=>l?nt.resolve():e(r)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const r=this.persistence.getRemoteDocumentCache(),l=r.newChangeBuffer();return r.ni(t,(u=>this.wr(t,u,e).next((h=>{h||(s++,l.removeEntry(u,Tt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),nt.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,e,s){return this.fi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),nt.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Nh(t.data.value)),e}wr(t,e,s){return nt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.fi.get(e);return nt.resolve(r!==void 0&&r>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class sp{constructor(t,e,s,r){this.targetId=t,this.fromCache=e,this.Ts=s,this.Is=r}static Es(t,e){let s=Lt(),r=Lt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new sp(t,e.fromCache,s,r)}}class zD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class PD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return A2()?8:oC(T2())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,r){const l={result:null};return this.gs(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(t,e,r,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new zD;return this.ys(t,e,u).next((h=>{if(l.result=h,this.As)return this.ws(t,e,u,h.size)}))})).next((()=>l.result))}ws(t,e,s,r){return s.documentReadCount<this.Vs?(oo()<=jt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",lo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(oo()<=jt.DEBUG&&ht("QueryEngine","Query:",lo(e),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ds*r?(oo()<=jt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",lo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(e))):nt.resolve())}gs(t,e){if(Kv(e))return nt.resolve(null);let s=Ui(e);return this.indexManager.getIndexType(t,s).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=bg(e,null,"F"),s=Ui(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const u=Lt(...l);return this.fs.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,s).next((d=>{const g=this.bs(e,h);return this.Ss(e,g,u,d.readTime)?this.gs(t,bg(e,null,"F")):this.Ds(t,g,e,d)}))))})))))}ps(t,e,s,r){return Kv(e)||r.isEqual(Tt.min())?nt.resolve(null):this.fs.getDocuments(t,s).next((l=>{const u=this.bs(e,l);return this.Ss(e,u,s,r)?nt.resolve(null):(oo()<=jt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lo(e)),this.Ds(t,u,e,nC(r,gu)).next((h=>h)))}))}bs(t,e){let s=new Ue(XT(t));return e.forEach(((r,l)=>{vf(t,l)&&(s=s.add(l))})),s}Ss(t,e,s,r){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}ys(t,e,s){return oo()<=jt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",lo(e)),this.fs.getDocumentsMatchingQuery(t,e,ca.min(),s)}Ds(t,e,s,r){return this.fs.getDocumentsMatchingQuery(t,s,r).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const ap="LocalStore",BD=3e8;class UD{constructor(t,e,s,r){this.persistence=t,this.Cs=e,this.serializer=r,this.vs=new me(kt),this.Fs=new fr((l=>Xg(l)),$g),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new CD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function jD(n,t,e,s){return new UD(n,t,e,s)}async function b1(n,t){const e=At(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return e.mutationQueue.getAllMutationBatches(s).next((l=>(r=l,e.Os(t),e.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let d=Lt();for(const g of r){u.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of l){h.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(s,d).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function HD(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,g,y){const v=g.batch,T=v.keys();let A=nt.resolve();return T.forEach((O=>{A=A.next((()=>y.getEntry(d,O))).next((D=>{const M=g.docVersions.get(O);Kt(M!==null,48541),D.version.compareTo(M)<0&&(v.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),y.addEntry(D)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(e,s,t,l).next((()=>l.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=Lt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(d=d.add(h.batch.mutations[g].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(s,r)))}))}function E1(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function FD(n,t){const e=At(n),s=t.snapshotVersion;let r=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});r=e.vs;const h=[];t.targetChanges.forEach(((y,v)=>{const T=r.get(v);if(!T)return;h.push(e.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,v))));let A=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?A=A.withResumeToken(Je.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),r=r.insert(v,A),(function(D,M,B){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=BD?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,A,y)&&h.push(e.li.updateTargetData(l,A))}));let d=_s(),g=Lt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(qD(l,u,t.documentUpdates).next((y=>{d=y.Bs,g=y.Ls}))),!s.isEqual(Tt.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((v=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return nt.waitFor(h).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,d,g))).next((()=>d))})).then((l=>(e.vs=r,l)))}function qD(n,t,e){let s=Lt(),r=Lt();return e.forEach((l=>s=s.add(l))),t.getEntries(n,s).next((l=>{let u=_s();return e.forEach(((h,d)=>{const g=l.get(h);d.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),d.isNoDocument()&&d.version.isEqual(Tt.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):ht(ap,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",d.version)})),{Bs:u,Ls:r}}))}function GD(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Yg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function YD(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return e.li.getTargetData(s,t).next((l=>l?(r=l,nt.resolve(r)):e.li.allocateTargetId(s).next((u=>(r=new Js(t,u,"TargetPurposeListen",s.currentSequenceNumber),e.li.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=e.vs.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.vs=e.vs.insert(s.targetId,s),e.Fs.set(t,s.targetId)),s}))}async function xg(n,t,e){const s=At(n),r=s.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Oo(u))throw u;ht(ap,`Failed to update sequence numbers for target ${t}: ${u}`)}s.vs=s.vs.remove(t),s.Fs.delete(r.target)}function ob(n,t,e){const s=At(n);let r=Tt.min(),l=Lt();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,g,y){const v=At(d),T=v.Fs.get(y);return T!==void 0?nt.resolve(v.vs.get(T)):v.li.getTargetData(g,y)})(s,u,Ui(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,t,e?r:Tt.min(),e?l:Lt()))).next((h=>(QD(s,OC(t),h),{documents:h,ks:l})))))}function QD(n,t,e){let s=n.Ms.get(t)||Tt.min();e.forEach(((r,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(t,s)}class lb{constructor(){this.activeTargetIds=zC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KD{constructor(){this.vo=new lb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,s){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new lb,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class XD{Mo(t){}shutdown(){}}const ub="ConnectivityMonitor";class cb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(ub,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ht(ub,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yh=null;function wg(){return yh===null?yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():yh++,"0x"+yh.toString(16)}const Gm="RestConnection",$D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class WD{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${s}/databases/${r}`,this.$o=this.databaseId.database===Kh?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Wo(t,e,s,r,l){const u=wg(),h=this.Qo(t,e.toUriEncodedString());ht(Gm,`Sending RPC '${t}' ${u}:`,h,s);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,r,l);const{host:g}=new URL(h),y=Hg(g);return this.zo(t,h,d,s,y).then((v=>(ht(Gm,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw vo(Gm,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",s),v}))}jo(t,e,s,r,l,u){return this.Wo(t,e,s,r,l)}Go(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,l)=>t[l]=r)),s&&s.headers.forEach(((r,l)=>t[l]=r))}Qo(t,e){const s=$D[t];let r=`${this.qo}/v1/${e}:${s}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class ZD{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const en="WebChannelConnection",ql=(n,t,e)=>{n.listen(t,(s=>{try{e(s)}catch(r){setTimeout((()=>{throw r}),0)}}))};class mo extends WD{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!mo.c_){const t=xT();ql(t,AT.STAT_EVENT,(e=>{e.stat===dg.PROXY?ht(en,"STAT_EVENT: detected buffering proxy"):e.stat===dg.NOPROXY&&ht(en,"STAT_EVENT: detected no buffering proxy")})),mo.c_=!0}}zo(t,e,s,r,l){const u=wg();return new Promise(((h,d)=>{const g=new TT;g.setWithCredentials(!0),g.listenOnce(ST.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Vh.NO_ERROR:const v=g.getResponseJson();ht(en,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case Vh.TIMEOUT:ht(en,`RPC '${t}' ${u} timed out`),d(new ct(et.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const T=g.getStatus();if(ht(en,`RPC '${t}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A?.error;if(O&&O.status&&O.message){const D=(function(B){const j=B.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(j)>=0?j:et.UNKNOWN})(O.status);d(new ct(D,O.message))}else d(new ct(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new ct(et.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(en,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(r);ht(en,`RPC '${t}' ${u} sending request:`,r),g.send(e,"POST",y,s,15)}))}T_(t,e,s){const r=wg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,s),h.encodeInitMessageHeaders=!0;const g=l.join("");ht(en,`Creating RPC '${t}' stream ${r}: ${g}`,h);const y=u.createWebChannel(g,h);this.I_(y);let v=!1,T=!1;const A=new ZD({Ho:O=>{T?ht(en,`Not sending because RPC '${t}' stream ${r} is closed:`,O):(v||(ht(en,`Opening RPC '${t}' stream ${r} transport.`),y.open(),v=!0),ht(en,`RPC '${t}' stream ${r} sending:`,O),y.send(O))},Jo:()=>y.close()});return ql(y,$l.EventType.OPEN,(()=>{T||(ht(en,`RPC '${t}' stream ${r} transport opened.`),A.i_())})),ql(y,$l.EventType.CLOSE,(()=>{T||(T=!0,ht(en,`RPC '${t}' stream ${r} transport closed`),A.o_(),this.E_(y))})),ql(y,$l.EventType.ERROR,(O=>{T||(T=!0,vo(en,`RPC '${t}' stream ${r} transport errored. Name:`,O.name,"Message:",O.message),A.o_(new ct(et.UNAVAILABLE,"The operation could not be completed")))})),ql(y,$l.EventType.MESSAGE,(O=>{if(!T){const D=O.data[0];Kt(!!D,16349);const M=D,B=M?.error||M[0]?.error;if(B){ht(en,`RPC '${t}' stream ${r} received error:`,B);const j=B.status;let $=(function(rt){const R=Ie[rt];if(R!==void 0)return o1(R)})(j),st=B.message;$===void 0&&($=et.INTERNAL,st="Unknown error status: "+j+" with message "+B.message),T=!0,A.o_(new ct($,st)),y.close()}else ht(en,`RPC '${t}' stream ${r} received:`,D),A.__(D)}})),mo.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,s){super.Go(t,e,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return wT()}}function JD(n){return new mo(n)}function Ym(){return typeof document<"u"?document:null}function Sf(n){return new iD(n,!0)}mo.c_=!1;class T1{constructor(t,e,s=1e3,r=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=s,this.A_=r,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-s);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const hb="PersistentStream";class S1{constructor(t,e,s,r,l,u,h,d){this.Ci=t,this.b_=s,this.S_=r,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===et.RESOURCE_EXHAUSTED?(ys(e.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===e&&this.G_(s,r)}),(s=>{t((()=>{const r=new ct(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(t,e){const s=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(hb,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(ht(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tM extends S1{constructor(t,e,s,r,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,r,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=rD(this.serializer,t),s=(function(l){if(!("targetChange"in l))return Tt.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Tt.min():u.readTime?ji(u.readTime):Tt.min()})(t);return this.listener.J_(e,s)}Z_(t){const e={};e.database=Ag(this.serializer),e.addTarget=(function(l,u){let h;const d=u.target;if(h=_g(d)?{documents:uD(l,d)}:{query:cD(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=c1(l,u.resumeToken);const g=Eg(l,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Tt.min())>0){h.readTime=Zh(l,u.snapshotVersion.toTimestamp());const g=Eg(l,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,t);const s=fD(this.serializer,t);s&&(e.labels=s),this.K_(e)}X_(t){const e={};e.database=Ag(this.serializer),e.removeTarget=t,this.K_(e)}}class eM extends S1{constructor(t,e,s,r,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,r,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=lD(t.writeResults,t.commitTime),s=ji(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=Ag(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>oD(this.serializer,s)))};this.K_(e)}}class nM{}class iM extends nM{constructor(t,e,s,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(t,Tg(e,s),r,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(et.UNKNOWN,l.toString())}))}jo(t,e,s,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(t,Tg(e,s),r,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(et.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function sM(n,t,e,s){return new iM(n,t,e,s)}class aM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(e),this.aa=!1):ht("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const or="RemoteStore";class rM{constructor(t,e,s,r,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{mr(this)&&(ht(or,"Restarting streams for network reachability change."),await(async function(d){const g=At(d);g.Ea.add(4),await Nu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Af(g)})(this))}))})),this.Va=new aM(s,r)}}async function Af(n){if(mr(n))for(const t of n.Ra)await t(!0)}async function Nu(n){for(const t of n.Ra)await t(!1)}function A1(n,t){const e=At(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),up(e)?lp(e):Vo(e).O_()&&op(e,t))}function rp(n,t){const e=At(n),s=Vo(e);e.Ia.delete(t),s.O_()&&x1(e,t),e.Ia.size===0&&(s.O_()?s.L_():mr(e)&&e.Va.set("Unknown"))}function op(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Vo(n).Z_(t)}function x1(n,t){n.da.$e(t),Vo(n).X_(t)}function lp(n){n.da=new JC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Vo(n).start(),n.Va.ua()}function up(n){return mr(n)&&!Vo(n).x_()&&n.Ia.size>0}function mr(n){return At(n).Ea.size===0}function w1(n){n.da=void 0}async function oM(n){n.Va.set("Online")}async function lM(n){n.Ia.forEach(((t,e)=>{op(n,t)}))}async function uM(n,t){w1(n),up(n)?(n.Va.ha(t),lp(n)):n.Va.set("Unknown")}async function cM(n,t,e){if(n.Va.set("Online"),t instanceof u1&&t.state===2&&t.cause)try{await(async function(r,l){const u=l.cause;for(const h of l.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,u),r.Ia.delete(h),r.da.removeTarget(h))})(n,t)}catch(s){ht(or,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await tf(n,s)}else if(t instanceof zh?n.da.Xe(t):t instanceof l1?n.da.st(t):n.da.tt(t),!e.isEqual(Tt.min()))try{const s=await E1(n.localStore);e.compareTo(s)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,g)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(Je.EMPTY_BYTE_STRING,y.snapshotVersion)),x1(l,d);const v=new Js(y.target,d,g,y.sequenceNumber);op(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(s){ht(or,"Failed to raise snapshot:",s),await tf(n,s)}}async function tf(n,t,e){if(!Oo(t))throw t;n.Ea.add(1),await Nu(n),n.Va.set("Offline"),e||(e=()=>E1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(or,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Af(n)}))}function R1(n,t){return t().catch((e=>tf(n,e,t)))}async function xf(n){const t=At(n),e=ma(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Yg;for(;hM(t);)try{const r=await GD(t.localStore,s);if(r===null){t.Ta.length===0&&e.L_();break}s=r.batchId,fM(t,r)}catch(r){await tf(t,r)}C1(t)&&D1(t)}function hM(n){return mr(n)&&n.Ta.length<10}function fM(n,t){n.Ta.push(t);const e=ma(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function C1(n){return mr(n)&&!ma(n).x_()&&n.Ta.length>0}function D1(n){ma(n).start()}async function dM(n){ma(n).ra()}async function mM(n){const t=ma(n);for(const e of n.Ta)t.ea(e.mutations)}async function gM(n,t,e){const s=n.Ta.shift(),r=Jg.from(s,t,e);await R1(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await xf(n)}async function pM(n,t){t&&ma(n).Y_&&await(async function(s,r){if((function(u){return $C(u)&&u!==et.ABORTED})(r.code)){const l=s.Ta.shift();ma(s).B_(),await R1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,r))),await xf(s)}})(n,t),C1(n)&&D1(n)}async function fb(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),ht(or,"RemoteStore received new credentials");const s=mr(e);e.Ea.add(3),await Nu(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Af(e)}async function yM(n,t){const e=At(n);t?(e.Ea.delete(2),await Af(e)):t||(e.Ea.add(2),await Nu(e),e.Va.set("Unknown"))}function Vo(n){return n.ma||(n.ma=(function(e,s,r){const l=At(e);return l.sa(),new tM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,r)})(n.datastore,n.asyncQueue,{Zo:oM.bind(null,n),Yo:lM.bind(null,n),t_:uM.bind(null,n),J_:cM.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),up(n)?lp(n):n.Va.set("Unknown")):(await n.ma.stop(),w1(n))}))),n.ma}function ma(n){return n.fa||(n.fa=(function(e,s,r){const l=At(e);return l.sa(),new eM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:dM.bind(null,n),t_:pM.bind(null,n),ta:mM.bind(null,n),na:gM.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await xf(n)):(await n.fa.stop(),n.Ta.length>0&&(ht(or,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class cp{constructor(t,e,s,r,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=r,this.removalCallback=l,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,r,l){const u=Date.now()+s,h=new cp(t,e,u,r,l);return h.start(s),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(n,t){if(ys("AsyncQueue",`${t}: ${n}`),Oo(n))return new ct(et.UNAVAILABLE,`${t}: ${n}`);throw n}class go{static emptySet(t){return new go(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||yt.comparator(e.key,s.key):(e,s)=>yt.comparator(e.key,s.key),this.keyedMap=Wl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof go)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=s.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new go;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class db{constructor(){this.ga=new me(yt.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Et(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,s)=>{t.push(s)})),t}}class Ao{constructor(t,e,s,r,l,u,h,d,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,r,l){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new Ao(t,e,go.emptySet(e),u,s,r,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==s[r].type||!e[r].doc.isEqual(s[r].doc))return!1;return!0}}class _M{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class vM{constructor(){this.queries=mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const r=At(e),l=r.queries;r.queries=mb(),l.forEach(((u,h)=>{for(const d of h.ba)d.onError(s)}))})(this,new ct(et.ABORTED,"Firestore shutting down"))}}function mb(){return new fr((n=>KT(n)),_f)}async function bM(n,t){const e=At(n);let s=3;const r=t.query;let l=e.queries.get(r);l?!l.Sa()&&t.Da()&&(s=2):(l=new _M,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await e.onListen(r,!0);break;case 1:l.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(u){const h=hp(u,`Initialization of query '${lo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&fp(e)}async function EM(n,t){const e=At(n),s=t.query;let r=3;const l=e.queries.get(s);if(l){const u=l.ba.indexOf(t);u>=0&&(l.ba.splice(u,1),l.ba.length===0?r=t.Da()?0:1:!l.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function TM(n,t){const e=At(n);let s=!1;for(const r of t){const l=r.query,u=e.queries.get(l);if(u){for(const h of u.ba)h.Fa(r)&&(s=!0);u.wa=r}}s&&fp(e)}function SM(n,t,e){const s=At(n),r=s.queries.get(t);if(r)for(const l of r.ba)l.onError(e);s.queries.delete(t)}function fp(n){n.Ca.forEach((t=>{t.next()}))}var Rg,gb;(gb=Rg||(Rg={})).Ma="default",gb.Cache="cache";class AM{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const r of t.docChanges)r.type!==3&&s.push(r);t=new Ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rg.Cache}}class M1{constructor(t){this.key=t}}class O1{constructor(t){this.key=t}}class xM{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=XT(t),this.tu=new go(this.eu)}get nu(){return this.Za}ru(t,e){const s=e?e.iu:new db,r=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,g=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((y,v)=>{const T=r.get(y),A=vf(this.query,v)?v:null,O=!!T&&this.mutatedKeys.has(T.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;T&&A?T.data.isEqual(A.data)?O!==D&&(s.track({type:3,doc:A}),M=!0):this.su(T,A)||(s.track({type:2,doc:A}),M=!0,(d&&this.eu(A,d)>0||g&&this.eu(A,g)<0)&&(h=!0)):!T&&A?(s.track({type:0,doc:A}),M=!0):T&&!A&&(s.track({type:1,doc:T}),M=!0,(d||g)&&(h=!0)),M&&(A?(u=u.add(A),l=D?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Ss:h,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,r){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,v)=>(function(A,O){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:M})}};return D(A)-D(O)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),r=r??!1;const h=e&&!r?this._u():[],d=this.Ya.size===0&&this.current&&!r?1:0,g=d!==this.Xa;return this.Xa=d,u.length!==0||g?{snapshot:new Ao(this.query,t.tu,l,u,t.mutatedKeys,d===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new db,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const e=[];return t.forEach((s=>{this.Ya.has(s)||e.push(new O1(s))})),this.Ya.forEach((s=>{t.has(s)||e.push(new M1(s))})),e}cu(t){this.Za=t.ks,this.Ya=Lt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const dp="SyncEngine";class wM{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class RM{constructor(t){this.key=t,this.hu=!1}}class CM{constructor(t,e,s,r,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new fr((h=>KT(h)),_f),this.Iu=new Map,this.Eu=new Set,this.Ru=new me(yt.comparator),this.Au=new Map,this.Vu=new np,this.du={},this.mu=new Map,this.fu=So.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DM(n,t,e=!0){const s=z1(n);let r;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),r=l.view.lu()):r=await I1(s,t,e,!0),r}async function MM(n,t){const e=z1(n);await I1(e,t,!0,!1)}async function I1(n,t,e,s){const r=await YD(n.localStore,Ui(t)),l=r.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let h;return s&&(h=await OM(n,t,l,u==="current",r.resumeToken)),n.isPrimaryClient&&e&&A1(n.remoteStore,r),h}async function OM(n,t,e,s,r){n.pu=(v,T,A)=>(async function(D,M,B,j){let $=M.view.ru(B);$.Ss&&($=await ob(D.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,$))));const st=j&&j.targetChanges.get(M.targetId),it=j&&j.targetMismatches.get(M.targetId)!=null,rt=M.view.applyChanges($,D.isPrimaryClient,st,it);return yb(D,M.targetId,rt.au),rt.snapshot})(n,v,T,A);const l=await ob(n.localStore,t,!0),u=new xM(t,l.ks),h=u.ru(l.documents),d=Vu.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",r),g=u.applyChanges(h,n.isPrimaryClient,d);yb(n,e,g.au);const y=new wM(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function IM(n,t,e){const s=At(n),r=s.Tu.get(t),l=s.Iu.get(r.targetId);if(l.length>1)return s.Iu.set(r.targetId,l.filter((u=>!_f(u,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await xg(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),e&&rp(s.remoteStore,r.targetId),Cg(s,r.targetId)})).catch(Mo)):(Cg(s,r.targetId),await xg(s.localStore,r.targetId,!0))}async function VM(n,t){const e=At(n),s=e.Tu.get(t),r=e.Iu.get(s.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),rp(e.remoteStore,s.targetId))}async function NM(n,t,e){const s=jM(n);try{const r=await(function(u,h){const d=At(u),g=ue.now(),y=h.reduce(((A,O)=>A.add(O.key)),Lt());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let O=_s(),D=Lt();return d.xs.getEntries(A,y).next((M=>{O=M,O.forEach(((B,j)=>{j.isValidDocument()||(D=D.add(B))}))})).next((()=>d.localDocuments.getOverlayedDocuments(A,O))).next((M=>{v=M;const B=[];for(const j of h){const $=GC(j,v.get(j.key).overlayedDocument);$!=null&&B.push(new dr(j.key,$,UT($.value.mapValue),ms.exists(!0)))}return d.mutationQueue.addMutationBatch(A,g,B,h)})).next((M=>{T=M;const B=M.applyToLocalDocumentSet(v,D);return d.documentOverlayCache.saveOverlays(A,M.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:WT(v)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(r.batchId),(function(u,h,d){let g=u.du[u.currentUser.toKey()];g||(g=new me(kt)),g=g.insert(h,d),u.du[u.currentUser.toKey()]=g})(s,r.batchId,e),await ku(s,r.changes),await xf(s.remoteStore)}catch(r){const l=hp(r,"Failed to persist write");e.reject(l)}}async function V1(n,t){const e=At(n);try{const s=await FD(e.localStore,t);t.targetChanges.forEach(((r,l)=>{const u=e.Au.get(l);u&&(Kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?u.hu=!0:r.modifiedDocuments.size>0?Kt(u.hu,14607):r.removedDocuments.size>0&&(Kt(u.hu,42227),u.hu=!1))})),await ku(e,s,t)}catch(s){await Mo(s)}}function pb(n,t,e){const s=At(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const r=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(u,h){const d=At(u);d.onlineState=h;let g=!1;d.queries.forEach(((y,v)=>{for(const T of v.ba)T.va(h)&&(g=!0)})),g&&fp(d)})(s.eventManager,t),r.length&&s.Pu.J_(r),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function kM(n,t,e){const s=At(n);s.sharedClientState.updateQueryState(t,"rejected",e);const r=s.Au.get(t),l=r&&r.key;if(l){let u=new me(yt.comparator);u=u.insert(l,an.newNoDocument(l,Tt.min()));const h=Lt().add(l),d=new Tf(Tt.min(),new Map,new me(kt),u,h);await V1(s,d),s.Ru=s.Ru.remove(l),s.Au.delete(t),mp(s)}else await xg(s.localStore,t,!1).then((()=>Cg(s,t,e))).catch(Mo)}async function LM(n,t){const e=At(n),s=t.batch.batchId;try{const r=await HD(e.localStore,t);k1(e,s,null),N1(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await ku(e,r)}catch(r){await Mo(r)}}async function zM(n,t,e){const s=At(n);try{const r=await(function(u,h){const d=At(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return d.mutationQueue.lookupMutationBatch(g,h).next((v=>(Kt(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(g,v)))).next((()=>d.mutationQueue.performConsistencyCheck(g))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>d.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);k1(s,t,e),N1(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await ku(s,r)}catch(r){await Mo(r)}}function N1(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function k1(n,t,e){const s=At(n);let r=s.du[s.currentUser.toKey()];if(r){const l=r.get(t);l&&(e?l.reject(e):l.resolve(),r=r.remove(t)),s.du[s.currentUser.toKey()]=r}}function Cg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((s=>{n.Vu.containsKey(s)||L1(n,s)}))}function L1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(rp(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),mp(n))}function yb(n,t,e){for(const s of e)s instanceof M1?(n.Vu.addReference(s.key,t),PM(n,s)):s instanceof O1?(ht(dp,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,t),n.Vu.containsKey(s.key)||L1(n,s.key)):Et(19791,{wu:s})}function PM(n,t){const e=t.key,s=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(s)||(ht(dp,"New document in limbo: "+e),n.Eu.add(s),mp(n))}function mp(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new yt(ae.fromString(t)),s=n.fu.next();n.Au.set(s,new RM(e)),n.Ru=n.Ru.insert(e,s),A1(n.remoteStore,new Js(Ui(Wg(e.path)),s,"TargetPurposeLimboResolution",gf.ce))}}async function ku(n,t,e){const s=At(n),r=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{u.push(s.pu(d,t,e).then((g=>{if((g||e)&&s.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(g){r.push(g);const y=sp.Es(d.targetId,g);l.push(y)}})))})),await Promise.all(u),s.Pu.J_(r),await(async function(d,g){const y=At(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>nt.forEach(g,(T=>nt.forEach(T.Ts,(A=>y.persistence.referenceDelegate.addReference(v,T.targetId,A))).next((()=>nt.forEach(T.Is,(A=>y.persistence.referenceDelegate.removeReference(v,T.targetId,A)))))))))}catch(v){if(!Oo(v))throw v;ht(ap,"Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const A=y.vs.get(T),O=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(O);y.vs=y.vs.insert(T,D)}}})(s.localStore,l))}async function BM(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){ht(dp,"User change. New user:",t.toKey());const s=await b1(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new ct(et.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ku(e,s.Ns)}}function UM(n,t){const e=At(n),s=e.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let r=Lt();const l=e.Iu.get(t);if(!l)return r;for(const u of l){const h=e.Tu.get(u);r=r.unionWith(h.view.nu)}return r}}function z1(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kM.bind(null,t),t.Pu.J_=TM.bind(null,t.eventManager),t.Pu.yu=SM.bind(null,t.eventManager),t}function jM(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zM.bind(null,t),t}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return jD(this.persistence,new PD,t.initialUser,this.serializer)}Cu(t){return new v1(ip.Vi,this.serializer)}Du(t){return new KD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class HM extends ef{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Kt(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SD(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new v1((s=>Jh.Vi(s,e)),this.serializer)}}class Dg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=BM.bind(null,this.syncEngine),await yM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vM})()}createDatastore(t){const e=Sf(t.databaseInfo.databaseId),s=JD(t.databaseInfo);return sM(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,r,l,u,h){return new rM(s,r,l,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>pb(this.syncEngine,e,0)),(function(){return cb.v()?new cb:new XD})())}createSyncEngine(t,e){return(function(r,l,u,h,d,g,y){const v=new CM(r,l,u,h,d,g);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const s=At(e);ht(or,"RemoteStore shutting down."),s.Ea.add(5),await Nu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dg.provider={build:()=>new Dg};class FM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ys("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const ga="FirestoreClient";class qM{constructor(t,e,s,r,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this._databaseInfo=r,this.user=sn.UNAUTHENTICATED,this.clientId=Gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ht(ga,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ht(ga,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=hp(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Qm(n,t){n.asyncQueue.verifyOperationInProgress(),ht(ga,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async r=>{s.isEqual(r)||(await b1(t.localStore,r),s=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function _b(n,t){n.asyncQueue.verifyOperationInProgress();const e=await GM(n);ht(ga,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>fb(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,r)=>fb(t.remoteStore,r))),n._onlineComponents=t}async function GM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(ga,"Using user provided OfflineComponentProvider");try{await Qm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===et.FAILED_PRECONDITION||r.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;vo("Error using user provided cache. Falling back to memory cache: "+e),await Qm(n,new ef)}}else ht(ga,"Using default OfflineComponentProvider"),await Qm(n,new HM(void 0));return n._offlineComponents}async function P1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(ga,"Using user provided OnlineComponentProvider"),await _b(n,n._uninitializedComponentsProvider._online)):(ht(ga,"Using default OnlineComponentProvider"),await _b(n,new Dg))),n._onlineComponents}function YM(n){return P1(n).then((t=>t.syncEngine))}async function vb(n){const t=await P1(n),e=t.eventManager;return e.onListen=DM.bind(null,t.syncEngine),e.onUnlisten=IM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=MM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=VM.bind(null,t.syncEngine),e}function QM(n,t,e,s){const r=new FM(s),l=new AM(t,r,e);return n.asyncQueue.enqueueAndForget((async()=>bM(await vb(n),l))),()=>{r.Nu(),n.asyncQueue.enqueueAndForget((async()=>EM(await vb(n),l)))}}function KM(n,t){const e=new nr;return n.asyncQueue.enqueueAndForget((async()=>NM(await YM(n),t,e))),e.promise}function B1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const XM="ComponentProvider",bb=new Map;function $M(n,t,e,s,r){return new fC(n,t,e,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,B1(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,s)}const U1="firestore.googleapis.com",Eb=!0;class Tb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U1,this.ssl=Eb}else this.host=t.host,this.ssl=t.ssl??Eb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ED)throw new ct(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wf{constructor(t,e,s,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new GR;switch(s.type){case"firstParty":return new XR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=bb.get(e);s&&(ht(XM,"Removing Datastore"),bb.delete(e),s.terminate())})(this),Promise.resolve()}}function WM(n,t,e,s={}){n=su(n,wf);const r=Hg(t),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(y2(`https://${h}`),E2("Firestore",!0)),l.host!==U1&&l.host!==h&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:r,emulatorOptions:s};if(!qh(d,u)&&(n._setSettings(d),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=sn.MOCK_USER;else{g=_2(s.mockUserToken,n._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ct(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(v)}n._authCredentials=new YR(new CT(g,y))}}class gr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new gr(this.firestore,t,this._query)}}class Be{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Ou(e,Be._jsonSchema))return new Be(t,s||null,new yt(ae.fromString(e.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Ne("string",Be._jsonSchemaVersion),referencePath:Ne("string")};class ra extends gr{constructor(t,e,s){super(t,e,Wg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new yt(t))}withConverter(t){return new ra(this.firestore,t,this._path)}}function j1(n,t,...e){if(n=ar(n),DT("collection","path",t),n instanceof wf){const s=ae.fromString(t,...e);return Nv(s),new ra(n,null,s)}{if(!(n instanceof Be||n instanceof ra))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ae.fromString(t,...e));return Nv(s),new ra(n.firestore,null,s)}}function ZM(n,t,...e){if(n=ar(n),arguments.length===1&&(t=Gg.newId()),DT("doc","path",t),n instanceof wf){const s=ae.fromString(t,...e);return Vv(s),new Be(n,null,new yt(s))}{if(!(n instanceof Be||n instanceof ra))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ae.fromString(t,...e));return Vv(s),new Be(n.firestore,n instanceof ra?n.converter:null,new yt(s))}}const Sb="AsyncQueue";class Ab{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T1(this,"async_queue_retry"),this._c=()=>{const s=Ym();s&&ht(Sb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=Ym();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ym();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new nr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Oo(t))throw t;ht(Sb,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",xb(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=cp.createAndSchedule(this,t,e,s,(l=>this.hc(l)));return this.tc.push(r),r}uc(){this.nc&&Et(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function xb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class nf extends wf{constructor(t,e,s,r){super(t,e,s,r),this.type="firestore",this._queue=new Ab,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ab(t),this._firestoreClient=void 0,await t}}}function JM(n,t){const e=typeof n=="object"?n:OR(),s=typeof n=="string"?n:Kh,r=wR(e,"firestore").getImmediate({identifier:s});if(!r._initialized){const l=g2("firestore");l&&WM(r,...l)}return r}function H1(n){if(n._terminated)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tO(n),n._firestoreClient}function tO(n){const t=n._freezeSettings(),e=$M(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new qM(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const l=r?._online.build();return{_offline:r?._offline.build(l),_online:l}})(n._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(Je.fromBase64String(t))}catch(e){throw new ct(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Gn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ou(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ne("string",Gn._jsonSchemaVersion),bytes:Ne("string")};class F1{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ct(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class gp{constructor(t){this._methodName=t}}class Hi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ct(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ct(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Ou(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Ne("string",Hi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class hi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,r){if(s.length!==r.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==r[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ou(t,hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new hi(t.vectorValues);throw new ct(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Ne("string",hi._jsonSchemaVersion),vectorValues:Ne("object")};const eO=/^__.*__$/;class nO{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new dr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Iu(t,this.data,e,this.fieldTransforms)}}function q1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:n})}}class pp{constructor(t,e,s,r,l,u){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=r,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new pp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const e=this.path?.child(t),s=this.contextWith({path:e,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return sf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(q1(this.dataSource)&&eO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class iO{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Sf(t)}createContext(t,e,s,r=!1){return new pp({dataSource:t,methodName:e,targetDoc:s,path:Ze.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G1(n){const t=n._freezeSettings(),e=Sf(n._databaseId);return new iO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function sO(n,t,e,s,r,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,t,e,r);K1("Data must be an object, but it was:",u,s);const h=Y1(s,u);let d,g;if(l.merge)d=new li(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=Rf(t,v,e);if(!u.contains(T))throw new ct(et.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);lO(y,T)||y.push(T)}d=new li(y),g=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,g=u.fieldTransforms;return new nO(new qn(h),d,g)}class yp extends gp{_toFieldTransform(t){return new jC(t.path,new bu)}isEqual(t){return t instanceof yp}}function aO(n,t,e,s=!1){return _p(e,n.createContext(s?4:3,t))}function _p(n,t){if(Q1(n=ar(n)))return K1("Unsupported field value:",t,n),Y1(n,t);if(n instanceof gp)return(function(s,r){if(!q1(r.dataSource))throw r.createError(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(r);l&&r.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,r){const l=[];let u=0;for(const h of s){let d=_p(h,r.childContextForArray(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(n,t)}return(function(s,r){if((s=ar(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PC(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ue.fromDate(s);return{timestampValue:Zh(r.serializer,l)}}if(s instanceof ue){const l=new ue(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zh(r.serializer,l)}}if(s instanceof Hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:c1(r.serializer,s._byteString)};if(s instanceof Be){const l=r.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw r.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ep(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof hi)return(function(u,h){const d=u instanceof hi?u.toArray():u;return{mapValue:{fields:{[PT]:{stringValue:BT},[Xh]:{arrayValue:{values:d.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return Zg(h.serializer,y)}))}}}}}})(s,r);if(y1(s))return s._toProto(r.serializer);throw r.createError(`Unsupported field value: ${mf(s)}`)})(n,t)}function Y1(n,t){const e={};return IT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hr(n,((s,r)=>{const l=_p(r,t.childContextForField(s));l!=null&&(e[s]=l)})),{mapValue:{fields:e}}}function Q1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ue||n instanceof Hi||n instanceof Gn||n instanceof Be||n instanceof gp||n instanceof hi||y1(n))}function K1(n,t,e){if(!Q1(e)||!MT(e)){const s=mf(e);throw s==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+s)}}function Rf(n,t,e){if((t=ar(t))instanceof F1)return t._internalPath;if(typeof t=="string")return oO(n,t);throw sf("Field path arguments must be of type string or ",n,!1,void 0,e)}const rO=new RegExp("[~\\*/\\[\\]]");function oO(n,t,e){if(t.search(rO)>=0)throw sf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new F1(...t.split("."))._internalPath}catch{throw sf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function sf(n,t,e,s,r){const l=s&&!s.isEmpty(),u=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${s}`),u&&(d+=` in document ${r}`),d+=")"),new ct(et.INVALID_ARGUMENT,h+n+d)}function lO(n,t){return n.some((e=>e.isEqual(t)))}class uO{convertValue(t,e="none"){switch(da(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return hr(t,((r,l)=>{s[r]=this.convertValue(l,e)})),s}convertVectorValue(t){const e=t.fields?.[Xh].arrayValue?.values?.map((s=>Ee(s.doubleValue)));return new hi(e)}convertGeoPoint(t){return new Hi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=yf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(pu(t));default:return null}}convertTimestamp(t){const e=ha(t);return new ue(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ae.fromString(t);Kt(p1(s),9688,{name:t});const r=new yu(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return r.isEqual(e)||ys(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class X1 extends uO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}function cO(){return new yp("serverTimestamp")}const wb="@firebase/firestore",Rb="4.10.0";function Cb(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const r=e;for(const l of s)if(l in r&&typeof r[l]=="function")return!0;return!1})(n,["next","error","complete"])}class $1{constructor(t,e,s,r,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Rf("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class hO extends $1{data(){return super.data()}}function fO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ct(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class W1 extends vp{}function dO(n,t,...e){let s=[];t instanceof vp&&s.push(t),s=s.concat(e),(function(l){const u=l.filter((d=>d instanceof Ep)).length,h=l.filter((d=>d instanceof bp)).length;if(u>1||u>0&&h>0)throw new ct(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const r of s)n=r._apply(n);return n}class bp extends W1{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new bp(t,e,s)}_apply(t){const e=this._parse(t);return Z1(t._query,e),new gr(t.firestore,t.converter,vg(t._query,e))}_parse(t){const e=G1(t.firestore);return(function(l,u,h,d,g,y,v){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Mb(v,y);const O=[];for(const D of v)O.push(Db(d,l,D));T={arrayValue:{values:O}}}else T=Db(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Mb(v,y),T=aO(h,u,v,y==="in"||y==="not-in");return Ve.create(g,y,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Ep extends vp{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ep(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:di.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,l){let u=r;const h=l.getFlattenedFilters();for(const d of h)Z1(u,d),u=vg(u,d)})(t._query,e),new gr(t.firestore,t.converter,vg(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tp extends W1{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Tp(t,e)}_apply(t){const e=(function(r,l,u){if(r.startAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(l,u)})(t._query,this._field,this._direction);return new gr(t.firestore,t.converter,MC(t._query,e))}}function mO(n,t="asc"){const e=t,s=Rf("orderBy",n);return Tp._create(s,e)}function Db(n,t,e){if(typeof(e=ar(e))=="string"){if(e==="")throw new ct(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QT(t)&&e.indexOf("/")!==-1)throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ae.fromString(e));if(!yt.isDocumentKey(s))throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hv(n,new yt(s))}if(e instanceof Be)return Hv(n,e._key);throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(e)}.`)}function Mb(n,t){if(!Array.isArray(n)||n.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Z1(n,t){const e=(function(r,l){for(const u of r)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function gO(n,t,e){let s;return s=n?n.toFirestore(t):t,s}class Jl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ir extends $1{constructor(t,e,s,r,l,u){super(t,e,s,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Rf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ir._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",ir._jsonSchema={type:Ne("string",ir._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Ph extends ir{data(t={}){return super.data(t)}}class po{constructor(t,e,s,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Jl(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new Ph(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ct(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,l){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map((h=>{const d=new Ph(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Jl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Ph(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Jl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,y=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:pO(h.type),doc:d,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],r=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),r.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function pO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Ne("string",po._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function yO(n,t){const e=su(n.firestore,nf),s=ZM(n),r=gO(n.converter,t),l=G1(n.firestore);return vO(e,[sO(l,"addDoc",s._key,r,n.converter!==null,{}).toMutation(s._key,ms.exists(!1))]).then((()=>s))}function _O(n,...t){n=ar(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Cb(t[s])||(e=t[s++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Cb(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let l,u,h;if(n instanceof Be)u=su(n.firestore,nf),h=Wg(n._key.path),l={next:g=>{t[s]&&t[s](bO(u,n,g))},error:t[s+1],complete:t[s+2]};else{const g=su(n,gr);u=su(g.firestore,nf),h=g._query;const y=new X1(u);l={next:v=>{t[s]&&t[s](new po(u,y,g,v))},error:t[s+1],complete:t[s+2]},fO(n._query)}const d=H1(u);return QM(d,h,r,l)}function vO(n,t){const e=H1(n);return KM(e,t)}function bO(n,t,e){const s=e.docs.get(t._key),r=new X1(n);return new ir(n,r,t._key,s,new Jl(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){qR(MR),Yh(new du("firestore",((s,{instanceIdentifier:r,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new nf(new QR(s.getProvider("auth-internal")),new $R(u,s.getProvider("app-check-internal")),dC(u,r),u);return l={useFetchStreams:e,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),fo(wb,Rb,t),fo(wb,Rb,"esm2020")})();const EO={apiKey:"AIzaSyB7FTe4d-OnaKY5134_oSQg9BXOSAx0p6M",authDomain:"polls-6d92f.firebaseapp.com",projectId:"polls-6d92f",storageBucket:"polls-6d92f.firebasestorage.app",messagingSenderId:"239573208451",appId:"1:239573208451:web:3eeddca96a8dbe45483ab6"},TO=_T(EO),J1=JM(TO),Ob=["Section 1","Section 2","Section 3","Section 4","Section 5"];function SO(){const[n,t]=X.useState([20,20,20,20,20]),[e,s]=X.useState(!1),[r,l]=X.useState(!1);X.useEffect(()=>{localStorage.getItem("allocation_submitted")&&s(!0)},[]);const u=n.reduce((g,y)=>g+y,0),h=(g,y)=>{const v=[...n];v[g]=y,t(v)},d=async()=>{if(u===100){l(!0);try{console.log("Starting submission...");const g="class_01",y=new Promise((v,T)=>{setTimeout(()=>T(new Error("Request timed out check your internet connection")),1e4)});await Promise.race([yO(j1(J1,"sessions",g,"allocations"),{values:n,total:u,createdAt:cO()}),y]),console.log("Submission successful!"),localStorage.setItem("allocation_submitted","true"),s(!0)}catch(g){console.error("Error submitting document: ",g),alert(`Failed to submit: ${g.message}. Please try again.`)}finally{l(!1)}}};return e?ft.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4",children:ft.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[ft.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"Submission Received!"}),ft.jsx("p",{className:"text-gray-600",children:"Thank you for participating."}),ft.jsxs("div",{className:"mt-6",children:[ft.jsx("p",{className:"text-sm text-gray-500",children:"Your allocation:"}),ft.jsx("div",{className:"mt-2 space-y-2",children:Ob.map((g,y)=>ft.jsxs("div",{className:"flex justify-between text-xs",children:[ft.jsx("span",{children:g}),ft.jsxs("span",{className:"font-medium",children:[n[y],"%"]})]},y))})]}),ft.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100",children:ft.jsx("a",{href:"#/results",className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:"View Class Results "})})]})}):ft.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:ft.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 space-y-6",children:[ft.jsxs("header",{className:"text-center",children:[ft.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Class Allocation"}),ft.jsx("p",{className:"text-sm text-gray-500",children:"Distribute 100 points across the sections."})]}),ft.jsx("div",{className:"space-y-6",children:Ob.map((g,y)=>ft.jsxs("div",{className:"space-y-2",children:[ft.jsxs("div",{className:"flex justify-between items-center",children:[ft.jsx("label",{className:"text-sm font-medium text-gray-700",children:g}),ft.jsx("span",{className:`text-sm font-bold ${n[y]>100?"text-red-500":"text-blue-600"}`,children:n[y]})]}),ft.jsx("input",{type:"range",min:"0",max:"100",value:n[y],onChange:v=>h(y,parseInt(v.target.value)||0),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]},y))}),ft.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[ft.jsxs("div",{className:"flex justify-between items-center mb-4",children:[ft.jsx("span",{className:"text-gray-600",children:"Total Allocated:"}),ft.jsxs("span",{className:`text-xl font-bold ${u===100?"text-green-600":"text-red-500"}`,children:[u," / 100"]})]}),u!==100&&ft.jsx("p",{className:"text-xs text-center text-red-500 mb-3 font-medium",children:"Total must be exactly 100 to submit."}),ft.jsx("button",{onClick:d,disabled:u!==100||r,className:`w-full py-3 rounded-xl font-bold text-white transition-all
              ${u===100&&!r?"bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5":"bg-gray-300 cursor-not-allowed"}`,children:r?"Submitting...":"Submit Allocation"}),ft.jsx("div",{className:"mt-4 text-center",children:ft.jsx("a",{href:"#/results",className:"text-gray-400 hover:text-gray-600 text-xs transition-colors",children:"Skip to Results"})})]})]})})}function Lu(n){return n+.5|0}const ta=(n,t,e)=>Math.max(Math.min(n,e),t);function tu(n){return ta(Lu(n*2.55),0,255)}function oa(n){return ta(Lu(n*255),0,255)}function fs(n){return ta(Lu(n/2.55)/100,0,1)}function Ib(n){return ta(Lu(n*100),0,100)}const Fn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Mg=[..."0123456789ABCDEF"],AO=n=>Mg[n&15],xO=n=>Mg[(n&240)>>4]+Mg[n&15],_h=n=>(n&240)>>4===(n&15),wO=n=>_h(n.r)&&_h(n.g)&&_h(n.b)&&_h(n.a);function RO(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Fn[n[1]]*17,g:255&Fn[n[2]]*17,b:255&Fn[n[3]]*17,a:t===5?Fn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Fn[n[1]]<<4|Fn[n[2]],g:Fn[n[3]]<<4|Fn[n[4]],b:Fn[n[5]]<<4|Fn[n[6]],a:t===9?Fn[n[7]]<<4|Fn[n[8]]:255})),e}const CO=(n,t)=>n<255?t(n):"";function DO(n){var t=wO(n)?AO:xO;return n?"#"+t(n.r)+t(n.g)+t(n.b)+CO(n.a,t):void 0}const MO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tS(n,t,e){const s=t*Math.min(e,1-e),r=(l,u=(l+n/30)%12)=>e-s*Math.max(Math.min(u-3,9-u,1),-1);return[r(0),r(8),r(4)]}function OO(n,t,e){const s=(r,l=(r+n/60)%6)=>e-e*t*Math.max(Math.min(l,4-l,1),0);return[s(5),s(3),s(1)]}function IO(n,t,e){const s=tS(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)s[r]*=1-t-e,s[r]+=t;return s}function VO(n,t,e,s,r){return n===r?(t-e)/s+(t<e?6:0):t===r?(e-n)/s+2:(n-t)/s+4}function Sp(n){const e=n.r/255,s=n.g/255,r=n.b/255,l=Math.max(e,s,r),u=Math.min(e,s,r),h=(l+u)/2;let d,g,y;return l!==u&&(y=l-u,g=h>.5?y/(2-l-u):y/(l+u),d=VO(e,s,r,y,l),d=d*60+.5),[d|0,g||0,h]}function Ap(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(oa)}function xp(n,t,e){return Ap(tS,n,t,e)}function NO(n,t,e){return Ap(IO,n,t,e)}function kO(n,t,e){return Ap(OO,n,t,e)}function eS(n){return(n%360+360)%360}function LO(n){const t=MO.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?tu(+t[5]):oa(+t[5]));const r=eS(+t[2]),l=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?s=NO(r,l,u):t[1]==="hsv"?s=kO(r,l,u):s=xp(r,l,u),{r:s[0],g:s[1],b:s[2],a:e}}function zO(n,t){var e=Sp(n);e[0]=eS(e[0]+t),e=xp(e),n.r=e[0],n.g=e[1],n.b=e[2]}function PO(n){if(!n)return;const t=Sp(n),e=t[0],s=Ib(t[1]),r=Ib(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${r}%, ${fs(n.a)})`:`hsl(${e}, ${s}%, ${r}%)`}const Vb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Nb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function BO(){const n={},t=Object.keys(Nb),e=Object.keys(Vb);let s,r,l,u,h;for(s=0;s<t.length;s++){for(u=h=t[s],r=0;r<e.length;r++)l=e[r],h=h.replace(l,Vb[l]);l=parseInt(Nb[u],16),n[h]=[l>>16&255,l>>8&255,l&255]}return n}let vh;function UO(n){vh||(vh=BO(),vh.transparent=[0,0,0,0]);const t=vh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const jO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function HO(n){const t=jO.exec(n);let e=255,s,r,l;if(t){if(t[7]!==s){const u=+t[7];e=t[8]?tu(u):ta(u*255,0,255)}return s=+t[1],r=+t[3],l=+t[5],s=255&(t[2]?tu(s):ta(s,0,255)),r=255&(t[4]?tu(r):ta(r,0,255)),l=255&(t[6]?tu(l):ta(l,0,255)),{r:s,g:r,b:l,a:e}}}function FO(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${fs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Km=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ro=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function qO(n,t,e){const s=ro(fs(n.r)),r=ro(fs(n.g)),l=ro(fs(n.b));return{r:oa(Km(s+e*(ro(fs(t.r))-s))),g:oa(Km(r+e*(ro(fs(t.g))-r))),b:oa(Km(l+e*(ro(fs(t.b))-l))),a:n.a+e*(t.a-n.a)}}function bh(n,t,e){if(n){let s=Sp(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=xp(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function nS(n,t){return n&&Object.assign(t||{},n)}function kb(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=oa(n[3]))):(t=nS(n,{r:0,g:0,b:0,a:1}),t.a=oa(t.a)),t}function GO(n){return n.charAt(0)==="r"?HO(n):LO(n)}class Su{constructor(t){if(t instanceof Su)return t;const e=typeof t;let s;e==="object"?s=kb(t):e==="string"&&(s=RO(t)||UO(t)||GO(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=nS(this._rgb);return t&&(t.a=fs(t.a)),t}set rgb(t){this._rgb=kb(t)}rgbString(){return this._valid?FO(this._rgb):void 0}hexString(){return this._valid?DO(this._rgb):void 0}hslString(){return this._valid?PO(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,r=t.rgb;let l;const u=e===l?.5:e,h=2*u-1,d=s.a-r.a,g=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;l=1-g,s.r=255&g*s.r+l*r.r+.5,s.g=255&g*s.g+l*r.g+.5,s.b=255&g*s.b+l*r.b+.5,s.a=u*s.a+(1-u)*r.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=qO(this._rgb,t._rgb,e)),this}clone(){return new Su(this.rgb)}alpha(t){return this._rgb.a=oa(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Lu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return bh(this._rgb,2,t),this}darken(t){return bh(this._rgb,2,-t),this}saturate(t){return bh(this._rgb,1,t),this}desaturate(t){return bh(this._rgb,1,-t),this}rotate(t){return zO(this._rgb,t),this}}function us(){}const YO=(()=>{let n=0;return()=>n++})();function se(n){return n==null}function Pe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Qn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Li(n,t){return Qn(n)?n:t}function Qt(n,t){return typeof n>"u"?t:n}const QO=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function le(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Zt(n,t,e,s){let r,l,u;if(Pe(n))for(l=n.length,r=0;r<l;r++)t.call(e,n[r],r);else if(qt(n))for(u=Object.keys(n),l=u.length,r=0;r<l;r++)t.call(e,n[u[r]],u[r])}function af(n,t){let e,s,r,l;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(r=n[e],l=t[e],r.datasetIndex!==l.datasetIndex||r.index!==l.index)return!1;return!0}function rf(n){if(Pe(n))return n.map(rf);if(qt(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let r=0;for(;r<s;++r)t[e[r]]=rf(n[e[r]]);return t}return n}function iS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function KO(n,t,e,s){if(!iS(n))return;const r=t[n],l=e[n];qt(r)&&qt(l)?Au(r,l,s):t[n]=rf(l)}function Au(n,t,e){const s=Pe(t)?t:[t],r=s.length;if(!qt(n))return n;e=e||{};const l=e.merger||KO;let u;for(let h=0;h<r;++h){if(u=s[h],!qt(u))continue;const d=Object.keys(u);for(let g=0,y=d.length;g<y;++g)l(d[g],n,u,e)}return n}function uu(n,t){return Au(n,t,{merger:XO})}function XO(n,t,e){if(!iS(n))return;const s=t[n],r=e[n];qt(s)&&qt(r)?uu(s,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=rf(r))}const Lb={"":n=>n,x:n=>n.x,y:n=>n.y};function $O(n){const t=n.split("."),e=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function WO(n){const t=$O(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function xo(n,t){return(Lb[t]||(Lb[t]=WO(t)))(n)}function wp(n){return n.charAt(0).toUpperCase()+n.slice(1)}const xu=n=>typeof n<"u",pa=n=>typeof n=="function",zb=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function ZO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const on=Math.PI,la=2*on,of=Number.POSITIVE_INFINITY,JO=on/180,ui=on/2,Ka=on/4,Pb=on*2/3,sS=Math.log10,ua=Math.sign;function Bh(n,t,e){return Math.abs(n-t)<e}function Bb(n){const t=Math.round(n);n=Bh(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(sS(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function tI(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((r,l)=>r-l).pop(),t}function eI(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function lf(n){return!eI(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function nI(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function iI(n,t,e){let s,r,l;for(s=0,r=n.length;s<r;s++)l=n[s][e],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function er(n){return n*(on/180)}function sI(n){return n*(180/on)}function Ub(n){if(!Qn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function aI(n,t){const e=t.x-n.x,s=t.y-n.y,r=Math.sqrt(e*e+s*s);let l=Math.atan2(s,e);return l<-.5*on&&(l+=la),{angle:l,distance:r}}function rI(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Xa(n){return(n%la+la)%la}function oI(n,t,e,s){const r=Xa(n),l=Xa(t),u=Xa(e),h=Xa(l-r),d=Xa(u-r),g=Xa(r-l),y=Xa(r-u);return r===l||r===u||s||h>d&&g<y}function ci(n,t,e){return Math.max(t,Math.min(e,n))}function lI(n){return ci(n,-32768,32767)}function ho(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function Rp(n,t,e){e=e||(u=>n[u]<t);let s=n.length-1,r=0,l;for(;s-r>1;)l=r+s>>1,e(l)?r=l:s=l;return{lo:r,hi:s}}const Og=(n,t,e,s)=>Rp(n,e,s?r=>{const l=n[r][t];return l<e||l===e&&n[r+1][t]===e}:r=>n[r][t]<e),uI=(n,t,e)=>Rp(n,e,s=>n[s][t]>=e);function cI(n,t,e){let s=0,r=n.length;for(;s<r&&n[s]<t;)s++;for(;r>s&&n[r-1]>e;)r--;return s>0||r<n.length?n.slice(s,r):n}const aS=["push","pop","shift","splice","unshift"];function hI(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),aS.forEach(e=>{const s="_onData"+wp(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...l){const u=r.apply(this,l);return n._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...l)}),u}})})}function jb(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(aS.forEach(l=>{delete n[l]}),delete n._chartjs)}function rS(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const oS=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function lS(n,t){let e=[],s=!1;return function(...r){e=r,s||(s=!0,oS.call(window,()=>{s=!1,n.apply(t,e)}))}}function fI(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const Cp=n=>n==="start"?"left":n==="end"?"right":"center",nn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,dI=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t,Eh=n=>n===0||n===1,Hb=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*la/e)),Fb=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*la/e)+1,cu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ui)+1,easeOutSine:n=>Math.sin(n*ui),easeInOutSine:n=>-.5*(Math.cos(on*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Eh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Eh(n)?n:Hb(n,.075,.3),easeOutElastic:n=>Eh(n)?n:Fb(n,.075,.3),easeInOutElastic(n){return Eh(n)?n:n<.5?.5*Hb(n*2,.1125,.45):.5+.5*Fb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-cu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?cu.easeInBounce(n*2)*.5:cu.easeOutBounce(n*2-1)*.5+.5};function uS(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function qb(n){return uS(n)?n:new Su(n)}function Xm(n){return uS(n)?n:new Su(n).saturate(.5).darken(.1).hexString()}const mI=["x","y","borderWidth","radius","tension"],gI=["color","borderColor","backgroundColor"];function pI(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:gI},numbers:{type:"number",properties:mI}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function yI(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Gb=new Map;function _I(n,t){t=t||{};const e=n+JSON.stringify(t);let s=Gb.get(e);return s||(s=new Intl.NumberFormat(n,t),Gb.set(e,s)),s}function cS(n,t,e){return _I(t,e).format(n)}const vI={values(n){return Pe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const s=this.chart.options.locale;let r,l=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),l=bI(n,e)}const u=sS(Math.abs(l)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),cS(n,s,d)}};function bI(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var hS={formatters:vI};function EI(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const lr=Object.create(null),Ig=Object.create(null);function hu(n,t){if(!t)return n;const e=t.split(".");for(let s=0,r=e.length;s<r;++s){const l=e[s];n=n[l]||(n[l]=Object.create(null))}return n}function $m(n,t,e){return typeof t=="string"?Au(hu(n,t),e):Au(hu(n,""),t)}class TI{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Xm(r.backgroundColor),this.hoverBorderColor=(s,r)=>Xm(r.borderColor),this.hoverColor=(s,r)=>Xm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return $m(this,t,e)}get(t){return hu(this,t)}describe(t,e){return $m(Ig,t,e)}override(t,e){return $m(lr,t,e)}route(t,e,s,r){const l=hu(this,t),u=hu(this,s),h="_"+e;Object.defineProperties(l,{[h]:{value:l[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],g=u[r];return qt(d)?Object.assign({},g,d):Qt(d,g)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var Te=new TI({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pI,yI,EI]);function SI(n){return!n||se(n.size)||se(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Yb(n,t,e,s,r){let l=t[r];return l||(l=t[r]=n.measureText(r).width,e.push(r)),l>s&&(s=l),s}function $a(n,t,e){const s=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*s)/s+r}function Qb(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Kb(n,t,e,s){fS(n,t,e,s,null)}function fS(n,t,e,s,r){let l,u,h,d,g,y,v,T;const A=t.pointStyle,O=t.rotation,D=t.radius;let M=(O||0)*JO;if(A&&typeof A=="object"&&(l=A.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(M),n.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),n.restore();return}if(!(isNaN(D)||D<=0)){switch(n.beginPath(),A){default:r?n.ellipse(e,s,r/2,D,0,0,la):n.arc(e,s,D,0,la),n.closePath();break;case"triangle":y=r?r/2:D,n.moveTo(e+Math.sin(M)*y,s-Math.cos(M)*D),M+=Pb,n.lineTo(e+Math.sin(M)*y,s-Math.cos(M)*D),M+=Pb,n.lineTo(e+Math.sin(M)*y,s-Math.cos(M)*D),n.closePath();break;case"rectRounded":g=D*.516,d=D-g,u=Math.cos(M+Ka)*d,v=Math.cos(M+Ka)*(r?r/2-g:d),h=Math.sin(M+Ka)*d,T=Math.sin(M+Ka)*(r?r/2-g:d),n.arc(e-v,s-h,g,M-on,M-ui),n.arc(e+T,s-u,g,M-ui,M),n.arc(e+v,s+h,g,M,M+ui),n.arc(e-T,s+u,g,M+ui,M+on),n.closePath();break;case"rect":if(!O){d=Math.SQRT1_2*D,y=r?r/2:d,n.rect(e-y,s-d,2*y,2*d);break}M+=Ka;case"rectRot":v=Math.cos(M)*(r?r/2:D),u=Math.cos(M)*D,h=Math.sin(M)*D,T=Math.sin(M)*(r?r/2:D),n.moveTo(e-v,s-h),n.lineTo(e+T,s-u),n.lineTo(e+v,s+h),n.lineTo(e-T,s+u),n.closePath();break;case"crossRot":M+=Ka;case"cross":v=Math.cos(M)*(r?r/2:D),u=Math.cos(M)*D,h=Math.sin(M)*D,T=Math.sin(M)*(r?r/2:D),n.moveTo(e-v,s-h),n.lineTo(e+v,s+h),n.moveTo(e+T,s-u),n.lineTo(e-T,s+u);break;case"star":v=Math.cos(M)*(r?r/2:D),u=Math.cos(M)*D,h=Math.sin(M)*D,T=Math.sin(M)*(r?r/2:D),n.moveTo(e-v,s-h),n.lineTo(e+v,s+h),n.moveTo(e+T,s-u),n.lineTo(e-T,s+u),M+=Ka,v=Math.cos(M)*(r?r/2:D),u=Math.cos(M)*D,h=Math.sin(M)*D,T=Math.sin(M)*(r?r/2:D),n.moveTo(e-v,s-h),n.lineTo(e+v,s+h),n.moveTo(e+T,s-u),n.lineTo(e-T,s+u);break;case"line":u=r?r/2:Math.cos(M)*D,h=Math.sin(M)*D,n.moveTo(e-u,s-h),n.lineTo(e+u,s+h);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(M)*(r?r/2:D),s+Math.sin(M)*D);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function dS(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Dp(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Mp(n){n.restore()}function AI(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),se(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function xI(n,t,e,s,r){if(r.strikethrough||r.underline){const l=n.measureText(s),u=t-l.actualBoundingBoxLeft,h=t+l.actualBoundingBoxRight,d=e-l.actualBoundingBoxAscent,g=e+l.actualBoundingBoxDescent,y=r.strikethrough?(d+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(u,y),n.lineTo(h,y),n.stroke()}}function wI(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function wu(n,t,e,s,r,l={}){const u=Pe(t)?t:[t],h=l.strokeWidth>0&&l.strokeColor!=="";let d,g;for(n.save(),n.font=r.string,AI(n,l),d=0;d<u.length;++d)g=u[d],l.backdrop&&wI(n,l.backdrop),h&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),se(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(g,e,s,l.maxWidth)),n.fillText(g,e,s,l.maxWidth),xI(n,e,s,g,l),s+=Number(r.lineHeight);n.restore()}function uf(n,t){const{x:e,y:s,w:r,h:l,radius:u}=t;n.arc(e+u.topLeft,s+u.topLeft,u.topLeft,1.5*on,on,!0),n.lineTo(e,s+l-u.bottomLeft),n.arc(e+u.bottomLeft,s+l-u.bottomLeft,u.bottomLeft,on,ui,!0),n.lineTo(e+r-u.bottomRight,s+l),n.arc(e+r-u.bottomRight,s+l-u.bottomRight,u.bottomRight,ui,0,!0),n.lineTo(e+r,s+u.topRight),n.arc(e+r-u.topRight,s+u.topRight,u.topRight,0,-ui,!0),n.lineTo(e+u.topLeft,s)}const RI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,CI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DI(n,t){const e=(""+n).match(RI);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const MI=n=>+n||0;function mS(n,t){const e={},s=qt(t),r=s?Object.keys(t):t,l=qt(n)?s?u=>Qt(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of r)e[u]=MI(l(u));return e}function gS(n){return mS(n,{top:"y",right:"x",bottom:"y",left:"x"})}function yo(n){return mS(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Kn(n){const t=gS(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function rn(n,t){n=n||{},t=t||Te.font;let e=Qt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=Qt(n.style,t.style);s&&!(""+s).match(CI)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Qt(n.family,t.family),lineHeight:DI(Qt(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:Qt(n.weight,t.weight),string:""};return r.string=SI(r),r}function Th(n,t,e,s){let r,l,u;for(r=0,l=n.length;r<l;++r)if(u=n[r],u!==void 0&&u!==void 0)return u}function OI(n,t,e){const{min:s,max:r}=n,l=QO(t,(r-s)/2),u=(h,d)=>e&&h===0?0:h+d;return{min:u(s,-Math.abs(l)),max:u(r,l)}}function No(n,t){return Object.assign(Object.create(n),t)}function Op(n,t=[""],e,s,r=()=>n[0]){const l=e||n;typeof s>"u"&&(s=vS("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:l,_fallback:s,_getTarget:r,override:h=>Op([h,...n],t,l,s)};return new Proxy(u,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return yS(h,d,()=>BI(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return $b(h).includes(d)},ownKeys(h){return $b(h)},set(h,d,g){const y=h._storage||(h._storage=r());return h[d]=y[d]=g,delete h._keys,!0}})}function wo(n,t,e,s){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:pS(n,s),setContext:l=>wo(n,l,e,s),override:l=>wo(n.override(l),t,e,s)};return new Proxy(r,{deleteProperty(l,u){return delete l[u],delete n[u],!0},get(l,u,h){return yS(l,u,()=>VI(l,u,h))},getOwnPropertyDescriptor(l,u){return l._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(l,u,h){return n[u]=h,delete l[u],!0}})}function pS(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:s,isScriptable:pa(e)?e:()=>e,isIndexable:pa(s)?s:()=>s}}const II=(n,t)=>n?n+wp(t):t,Ip=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function yS(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function VI(n,t,e){const{_proxy:s,_context:r,_subProxy:l,_descriptors:u}=n;let h=s[t];return pa(h)&&u.isScriptable(t)&&(h=NI(t,h,n,e)),Pe(h)&&h.length&&(h=kI(t,h,n,u.isIndexable)),Ip(t,h)&&(h=wo(h,r,l&&l[t],u)),h}function NI(n,t,e,s){const{_proxy:r,_context:l,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(l,u||s);return h.delete(n),Ip(n,d)&&(d=Vp(r._scopes,r,n,d)),d}function kI(n,t,e,s){const{_proxy:r,_context:l,_subProxy:u,_descriptors:h}=e;if(typeof l.index<"u"&&s(n))return t[l.index%t.length];if(qt(t[0])){const d=t,g=r._scopes.filter(y=>y!==d);t=[];for(const y of d){const v=Vp(g,r,n,y);t.push(wo(v,l,u&&u[n],h))}}return t}function _S(n,t,e){return pa(n)?n(t,e):n}const LI=(n,t)=>n===!0?t:typeof n=="string"?xo(t,n):void 0;function zI(n,t,e,s,r){for(const l of t){const u=LI(e,l);if(u){n.add(u);const h=_S(u._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==s)return h}else if(u===!1&&typeof s<"u"&&e!==s)return null}return!1}function Vp(n,t,e,s){const r=t._rootScopes,l=_S(t._fallback,e,s),u=[...n,...r],h=new Set;h.add(s);let d=Xb(h,u,e,l||e,s);return d===null||typeof l<"u"&&l!==e&&(d=Xb(h,u,l,d,s),d===null)?!1:Op(Array.from(h),[""],r,l,()=>PI(t,e,s))}function Xb(n,t,e,s,r){for(;e;)e=zI(n,t,e,s,r);return e}function PI(n,t,e){const s=n._getTarget();t in s||(s[t]={});const r=s[t];return Pe(r)&&qt(e)?e:r||{}}function BI(n,t,e,s){let r;for(const l of t)if(r=vS(II(l,n),e),typeof r<"u")return Ip(n,r)?Vp(e,s,n,r):r}function vS(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function $b(n){let t=n._keys;return t||(t=n._keys=UI(n._scopes)),t}function UI(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}function Np(){return typeof window<"u"&&typeof document<"u"}function kp(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function cf(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const Cf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function jI(n,t){return Cf(n).getPropertyValue(t)}const HI=["top","right","bottom","left"];function sr(n,t,e){const s={};e=e?"-"+e:"";for(let r=0;r<4;r++){const l=HI[r];s[l]=parseFloat(n[t+"-"+l+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const FI=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function qI(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:r,offsetY:l}=s;let u=!1,h,d;if(FI(r,l,n.target))h=r,d=l;else{const g=t.getBoundingClientRect();h=s.clientX-g.left,d=s.clientY-g.top,u=!0}return{x:h,y:d,box:u}}function Ja(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,r=Cf(e),l=r.boxSizing==="border-box",u=sr(r,"padding"),h=sr(r,"border","width"),{x:d,y:g,box:y}=qI(n,e),v=u.left+(y&&h.left),T=u.top+(y&&h.top);let{width:A,height:O}=t;return l&&(A-=u.width+h.width,O-=u.height+h.height),{x:Math.round((d-v)/A*e.width/s),y:Math.round((g-T)/O*e.height/s)}}function GI(n,t,e){let s,r;if(t===void 0||e===void 0){const l=n&&kp(n);if(!l)t=n.clientWidth,e=n.clientHeight;else{const u=l.getBoundingClientRect(),h=Cf(l),d=sr(h,"border","width"),g=sr(h,"padding");t=u.width-g.width-d.width,e=u.height-g.height-d.height,s=cf(h.maxWidth,l,"clientWidth"),r=cf(h.maxHeight,l,"clientHeight")}}return{width:t,height:e,maxWidth:s||of,maxHeight:r||of}}const ea=n=>Math.round(n*10)/10;function YI(n,t,e,s){const r=Cf(n),l=sr(r,"margin"),u=cf(r.maxWidth,n,"clientWidth")||of,h=cf(r.maxHeight,n,"clientHeight")||of,d=GI(n,t,e);let{width:g,height:y}=d;if(r.boxSizing==="content-box"){const T=sr(r,"border","width"),A=sr(r,"padding");g-=A.width+T.width,y-=A.height+T.height}return g=Math.max(0,g-l.width),y=Math.max(0,s?g/s:y-l.height),g=ea(Math.min(g,u,d.maxWidth)),y=ea(Math.min(y,h,d.maxHeight)),g&&!y&&(y=ea(g/2)),(t!==void 0||e!==void 0)&&s&&d.height&&y>d.height&&(y=d.height,g=ea(Math.floor(y*s))),{width:g,height:y}}function Wb(n,t,e){const s=t||1,r=ea(n.height*s),l=ea(n.width*s);n.height=ea(n.height),n.width=ea(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||u.height!==r||u.width!==l?(n.currentDevicePixelRatio=s,u.height=r,u.width=l,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const QI=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Np()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Zb(n,t){const e=jI(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const KI=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},XI=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function _o(n,t,e){return n?KI(t,e):XI()}function bS(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function ES(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Sh(n,t,e){return n.options.clip?n[e]:t[e]}function $I(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:Sh(e,t,"left"),right:Sh(e,t,"right"),top:Sh(s,t,"top"),bottom:Sh(s,t,"bottom")}:t}function WI(n,t){const e=t._clip;if(e.disabled)return!1;const s=$I(t,n.chartArea);return{left:e.left===!1?0:s.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:s.right+(e.right===!0?0:e.right),top:e.top===!1?0:s.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:s.bottom+(e.bottom===!0?0:e.bottom)}}class ZI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,r){const l=e.listeners[r],u=e.duration;l.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(s-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=oS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const l=s.items;let u=l.length-1,h=!1,d;for(;u>=0;--u)d=l[u],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(t),h=!0):(l[u]=l[l.length-1],l.pop());h&&(r.draw(),this._notify(r,s,t,"progress")),l.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),e+=l.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var cs=new ZI;const Jb="transparent",JI={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=qb(n||Jb),r=s.valid&&qb(t||Jb);return r&&r.valid?r.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class t4{constructor(t,e,s,r){const l=e[s];r=Th([t.to,r,l,t.from]);const u=Th([t.from,l,r]);this._active=!0,this._fn=t.fn||JI[t.type||typeof u],this._easing=cu[t.easing]||cu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=u,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const r=this._target[this._prop],l=s-this._start,u=this._duration-l;this._start=s,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=Th([t.to,e,r,t.from]),this._from=Th([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,r=this._prop,l=this._from,u=this._loop,h=this._to;let d;if(this._active=l!==h&&(u||e<s),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=l;return}d=e/s%2,d=u&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(l,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][e]()}}class TS{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Te.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const l=t[r];if(!qt(l))return;const u={};for(const h of e)u[h]=l[h];(Pe(l.properties)&&l.properties||[r]).forEach(h=>{(h===r||!s.has(h))&&s.set(h,u)})})}_animateOptions(t,e){const s=e.options,r=n4(t,s);if(!r)return[];const l=this._createAnimations(r,s);return s.$shared&&e4(t.options.$animations,s).then(()=>{t.options=s},()=>{}),l}_createAnimations(t,e){const s=this._properties,r=[],l=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let d;for(d=u.length-1;d>=0;--d){const g=u[d];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[g];let v=l[g];const T=s.get(g);if(v)if(T&&v.active()){v.update(T,y,h);continue}else v.cancel();if(!T||!T.duration){t[g]=y;continue}l[g]=v=new t4(T,t,g,y),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return cs.add(this._chart,s),!0}}function e4(n,t){const e=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const l=n[s[r]];l&&l.active()&&e.push(l.wait())}return Promise.all(e)}function n4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function tE(n,t){const e=n&&n.options||{},s=e.reverse,r=e.min===void 0?t:0,l=e.max===void 0?t:0;return{start:s?l:r,end:s?r:l}}function i4(n,t,e){if(e===!1)return!1;const s=tE(n,e),r=tE(t,e);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function s4(n){let t,e,s,r;return qt(n)?(t=n.top,e=n.right,s=n.bottom,r=n.left):t=e=s=r=n,{top:t,right:e,bottom:s,left:r,disabled:n===!1}}function SS(n,t){const e=[],s=n._getSortedDatasetMetas(t);let r,l;for(r=0,l=s.length;r<l;++r)e.push(s[r].index);return e}function eE(n,t,e,s={}){const r=n.keys,l=s.mode==="single";let u,h,d,g;if(t===null)return;let y=!1;for(u=0,h=r.length;u<h;++u){if(d=+r[u],d===e){if(y=!0,s.all)continue;break}g=n.values[d],Qn(g)&&(l||t===0||ua(t)===ua(g))&&(t+=g)}return!y&&!s.all?0:t}function a4(n,t){const{iScale:e,vScale:s}=t,r=e.axis==="x"?"x":"y",l=s.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let d,g,y;for(d=0,g=u.length;d<g;++d)y=u[d],h[d]={[r]:y,[l]:n[y]};return h}function Wm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function r4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function o4(n){const{min:t,max:e,minDefined:s,maxDefined:r}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function l4(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function nE(n,t,e,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const l=n[r.index];if(e&&l>0||!e&&l<0)return r.index}return null}function iE(n,t){const{chart:e,_cachedMeta:s}=n,r=e._stacks||(e._stacks={}),{iScale:l,vScale:u,index:h}=s,d=l.axis,g=u.axis,y=r4(l,u,s),v=t.length;let T;for(let A=0;A<v;++A){const O=t[A],{[d]:D,[g]:M}=O,B=O._stacks||(O._stacks={});T=B[g]=l4(r,y,D),T[h]=M,T._top=nE(T,u,!0,s.type),T._bottom=nE(T,u,!1,s.type);const j=T._visualValues||(T._visualValues={});j[h]=M}}function Zm(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function u4(n,t){return No(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function c4(n,t,e){return No(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Gl(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const r of t){const l=r._stacks;if(!l||l[s]===void 0||l[s][e]===void 0)return;delete l[s][e],l[s]._visualValues!==void 0&&l[s]._visualValues[e]!==void 0&&delete l[s]._visualValues[e]}}}const Jm=n=>n==="reset"||n==="none",sE=(n,t)=>t?n:Object.assign({},n),h4=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:SS(e,!0),values:null};class AS{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Wm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Gl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),r=(v,T,A,O)=>v==="x"?T:v==="r"?O:A,l=e.xAxisID=Qt(s.xAxisID,Zm(t,"x")),u=e.yAxisID=Qt(s.yAxisID,Zm(t,"y")),h=e.rAxisID=Qt(s.rAxisID,Zm(t,"r")),d=e.indexAxis,g=e.iAxisID=r(d,l,u,h),y=e.vAxisID=r(d,u,l,h);e.xScale=this.getScaleForId(l),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&jb(this._data,this),t._stacked&&Gl(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(qt(e)){const r=this._cachedMeta;this._data=a4(e,r)}else if(s!==e){if(s){jb(s,this);const r=this._cachedMeta;Gl(r),r._parsed=[]}e&&Object.isExtensible(e)&&hI(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const l=e._stacked;e._stacked=Wm(e.vScale,e),e.stack!==s.stack&&(r=!0,Gl(e),e.stack=s.stack),this._resyncElements(t),(r||l!==e._stacked)&&(iE(this,e._parsed),e._stacked=Wm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:r}=this,{iScale:l,_stacked:u}=s,h=l.axis;let d=t===0&&e===r.length?!0:s._sorted,g=t>0&&s._parsed[t-1],y,v,T;if(this._parsing===!1)s._parsed=r,s._sorted=!0,T=r;else{Pe(r[t])?T=this.parseArrayData(s,r,t,e):qt(r[t])?T=this.parseObjectData(s,r,t,e):T=this.parsePrimitiveData(s,r,t,e);const A=()=>v[h]===null||g&&v[h]<g[h];for(y=0;y<e;++y)s._parsed[y+t]=v=T[y],d&&(A()&&(d=!1),g=v);s._sorted=d}u&&iE(this,T)}parsePrimitiveData(t,e,s,r){const{iScale:l,vScale:u}=t,h=l.axis,d=u.axis,g=l.getLabels(),y=l===u,v=new Array(r);let T,A,O;for(T=0,A=r;T<A;++T)O=T+s,v[T]={[h]:y||l.parse(g[O],O),[d]:u.parse(e[O],O)};return v}parseArrayData(t,e,s,r){const{xScale:l,yScale:u}=t,h=new Array(r);let d,g,y,v;for(d=0,g=r;d<g;++d)y=d+s,v=e[y],h[d]={x:l.parse(v[0],y),y:u.parse(v[1],y)};return h}parseObjectData(t,e,s,r){const{xScale:l,yScale:u}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,g=new Array(r);let y,v,T,A;for(y=0,v=r;y<v;++y)T=y+s,A=e[T],g[y]={x:l.parse(xo(A,h),T),y:u.parse(xo(A,d),T)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const r=this.chart,l=this._cachedMeta,u=e[t.axis],h={keys:SS(r,!0),values:e._stacks[t.axis]._visualValues};return eE(h,u,l.index,{mode:s})}updateRangeFromParsed(t,e,s,r){const l=s[e.axis];let u=l===null?NaN:l;const h=r&&s._stacks[e.axis];r&&h&&(r.values=h,u=eE(r,l,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const s=this._cachedMeta,r=s._parsed,l=s._sorted&&t===s.iScale,u=r.length,h=this._getOtherScale(t),d=h4(e,s,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=o4(h);let T,A;function O(){A=r[T];const D=A[h.axis];return!Qn(A[t.axis])||y>D||v<D}for(T=0;T<u&&!(!O()&&(this.updateRangeFromParsed(g,t,A,d),l));++T);if(l){for(T=u-1;T>=0;--T)if(!O()){this.updateRangeFromParsed(g,t,A,d);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let r,l,u;for(r=0,l=e.length;r<l;++r)u=e[r][t.axis],Qn(u)&&s.push(u);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,r=e.vScale,l=this.getParsed(t);return{label:s?""+s.getLabelForValue(l[s.axis]):"",value:r?""+r.getLabelForValue(l[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=s4(Qt(this.options.clip,i4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,r=s.data||[],l=e.chartArea,u=[],h=this._drawStart||0,d=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let y;for(s.dataset&&s.dataset.draw(t,l,h,d),y=h;y<h+d;++y){const v=r[y];v.hidden||(v.active&&g?u.push(v):v.draw(t,l))}for(y=0;y<u.length;++y)u[y].draw(t,l)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const r=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];l=u.$context||(u.$context=c4(this.getContext(),t,u)),l.parsed=this.getParsed(t),l.raw=r.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=u4(this.chart.getContext(),this.index)),l.dataset=r,l.index=l.datasetIndex=this.index;return l.active=!!e,l.mode=s,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const r=e==="active",l=this._cachedDataOpts,u=t+"-"+e,h=l[u],d=this.enableOptionSharing&&xu(s);if(h)return sE(h,d);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],T=g.getOptionScopes(this.getDataset(),y),A=Object.keys(Te.elements[t]),O=()=>this.getContext(s,r,e),D=g.resolveNamedOptions(T,A,O,v);return D.$shared&&(D.$shared=d,l[u]=Object.freeze(sE(D,d))),D}_resolveAnimations(t,e,s){const r=this.chart,l=this._cachedDataOpts,u=`animation-${e}`,h=l[u];if(h)return h;let d;if(r.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),T=y.getOptionScopes(this.getDataset(),v);d=y.createResolver(T,this.getContext(t,s,e))}const g=new TS(r,d&&d.animations);return d&&d._cacheable&&(l[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Jm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),r=this._sharedOptions,l=this.getSharedOptions(s),u=this.includeOptions(e,l)||l!==r;return this.updateSharedOptions(l,e,s),{sharedOptions:l,includeOptions:u}}updateElement(t,e,s,r){Jm(r)?Object.assign(t,s):this._resolveAnimations(e,r).update(t,s)}updateSharedOptions(t,e,s){t&&!Jm(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,r){t.active=r;const l=this.getStyle(e,r);this._resolveAnimations(e,s,r).update(t,{options:!r&&this.getSharedOptions(l)||l})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[h,d,g]of this._syncList)this[h](d,g);this._syncList=[];const r=s.length,l=e.length,u=Math.min(l,r);u&&this.parse(0,u),l>r?this._insertElements(r,l-r,t):l<r&&this._removeElements(l,r-l)}_insertElements(t,e,s=!0){const r=this._cachedMeta,l=r.data,u=t+e;let h;const d=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(d(l),h=t;h<u;++h)l[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),s&&this.updateElements(l,t,e,"reset")}updateElements(t,e,s,r){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,e);s._stacked&&Gl(s,r)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,r]=t;this[e](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function f4(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let s=[];for(let r=0,l=e.length;r<l;r++)s=s.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=rS(s.sort((r,l)=>r-l))}return n._cache.$bar}function d4(n){const t=n.iScale,e=f4(t,n.type);let s=t._length,r,l,u,h;const d=()=>{u===32767||u===-32768||(xu(h)&&(s=Math.min(s,Math.abs(u-h)||s)),h=u)};for(r=0,l=e.length;r<l;++r)u=t.getPixelForValue(e[r]),d();for(h=void 0,r=0,l=t.ticks.length;r<l;++r)u=t.getPixelForTick(r),d();return s}function m4(n,t,e,s){const r=e.barThickness;let l,u;return se(r)?(l=t.min*e.categoryPercentage,u=e.barPercentage):(l=r*s,u=1),{chunk:l/s,ratio:u,start:t.pixels[n]-l/2}}function g4(n,t,e,s){const r=t.pixels,l=r[n];let u=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const d=e.categoryPercentage;u===null&&(u=l-(h===null?t.end-t.start:h-l)),h===null&&(h=l+l-u);const g=l-(l-Math.min(u,h))/2*d;return{chunk:Math.abs(h-u)/2*d/s,ratio:e.barPercentage,start:g}}function p4(n,t,e,s){const r=e.parse(n[0],s),l=e.parse(n[1],s),u=Math.min(r,l),h=Math.max(r,l);let d=u,g=h;Math.abs(u)>Math.abs(h)&&(d=h,g=u),t[e.axis]=g,t._custom={barStart:d,barEnd:g,start:r,end:l,min:u,max:h}}function xS(n,t,e,s){return Pe(n)?p4(n,t,e,s):t[e.axis]=e.parse(n,s),t}function aE(n,t,e,s){const r=n.iScale,l=n.vScale,u=r.getLabels(),h=r===l,d=[];let g,y,v,T;for(g=e,y=e+s;g<y;++g)T=t[g],v={},v[r.axis]=h||r.parse(u[g],g),d.push(xS(T,v,l,g));return d}function tg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function y4(n,t,e){return n!==0?ua(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function _4(n){let t,e,s,r,l;return n.horizontal?(t=n.base>n.x,e="left",s="right"):(t=n.base<n.y,e="bottom",s="top"),t?(r="end",l="start"):(r="start",l="end"),{start:e,end:s,reverse:t,top:r,bottom:l}}function v4(n,t,e,s){let r=t.borderSkipped;const l={};if(!r){n.borderSkipped=l;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:u,end:h,reverse:d,top:g,bottom:y}=_4(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===s?r=g:(e._bottom||0)===s?r=y:(l[rE(y,u,h,d)]=!0,r=g)),l[rE(r,u,h,d)]=!0,n.borderSkipped=l}function rE(n,t,e,s){return s?(n=b4(n,t,e),n=oE(n,e,t)):n=oE(n,t,e),n}function b4(n,t,e){return n===t?e:n===e?t:n}function oE(n,t,e){return n==="start"?t:n==="end"?e:n}function E4(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class T4 extends AS{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,s,r){return aE(t,e,s,r)}parseArrayData(t,e,s,r){return aE(t,e,s,r)}parseObjectData(t,e,s,r){const{iScale:l,vScale:u}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,g=l.axis==="x"?h:d,y=u.axis==="x"?h:d,v=[];let T,A,O,D;for(T=s,A=s+r;T<A;++T)D=e[T],O={},O[l.axis]=l.parse(xo(D,g),T),v.push(xS(xo(D,y),O,u,T));return v}updateRangeFromParsed(t,e,s,r){super.updateRangeFromParsed(t,e,s,r);const l=s._custom;l&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,l.min),t.max=Math.max(t.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:s,vScale:r}=e,l=this.getParsed(t),u=l._custom,h=tg(u)?"["+u.start+", "+u.end+"]":""+r.getLabelForValue(l[r.axis]);return{label:""+s.getLabelForValue(l[s.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,s,r){const l=r==="reset",{index:u,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),g=h.isHorizontal(),y=this._getRuler(),{sharedOptions:v,includeOptions:T}=this._getSharedOptions(e,r);for(let A=e;A<e+s;A++){const O=this.getParsed(A),D=l||se(O[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(A),M=this._calculateBarIndexPixels(A,y),B=(O._stacks||{})[h.axis],j={horizontal:g,base:D.base,enableBorderRadius:!B||tg(O._custom)||u===B._top||u===B._bottom,x:g?D.head:M.center,y:g?M.center:D.head,height:g?M.size:Math.abs(D.size),width:g?Math.abs(D.size):M.size};T&&(j.options=v||this.resolveDataElementOptions(A,t[A].active?"active":r));const $=j.options||t[A].options;v4(j,$,B,u),E4(j,$,y.ratio),this.updateElement(t[A],A,j,r)}}_getStacks(t,e){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),l=s.options.stacked,u=[],h=this._cachedMeta.controller.getParsed(e),d=h&&h[s.axis],g=y=>{const v=y._parsed.find(A=>A[s.axis]===d),T=v&&v[y.vScale.axis];if(se(T)||isNaN(T))return!0};for(const y of r)if(!(e!==void 0&&g(y))&&((l===!1||u.indexOf(y.stack)===-1||l===void 0&&y.stack===void 0)&&u.push(y.stack),y.index===t))break;return u.length||u.push(void 0),u}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Qt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,s){const r=this._getStacks(t,s),l=e!==void 0?r.indexOf(e):-1;return l===-1?r.length-1:l}_getRuler(){const t=this.options,e=this._cachedMeta,s=e.iScale,r=[];let l,u;for(l=0,u=e.data.length;l<u;++l)r.push(s.getPixelForValue(this.getParsed(l)[s.axis],l));const h=t.barThickness;return{min:h||d4(e),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:s,index:r},options:{base:l,minBarLength:u}}=this,h=l||0,d=this.getParsed(t),g=d._custom,y=tg(g);let v=d[e.axis],T=0,A=s?this.applyStack(e,d,s):v,O,D;A!==v&&(T=A-v,A=v),y&&(v=g.barStart,A=g.barEnd-g.barStart,v!==0&&ua(v)!==ua(g.barEnd)&&(T=0),T+=v);const M=!se(l)&&!y?l:T;let B=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?O=e.getPixelForValue(T+A):O=B,D=O-B,Math.abs(D)<u){D=y4(D,e,h)*u,v===h&&(B-=D/2);const j=e.getPixelForDecimal(0),$=e.getPixelForDecimal(1),st=Math.min(j,$),it=Math.max(j,$);B=Math.max(Math.min(B,it),st),O=B+D,s&&!y&&(d._stacks[e.axis]._visualValues[r]=e.getValueForPixel(O)-e.getValueForPixel(B))}if(B===e.getPixelForValue(h)){const j=ua(D)*e.getLineWidthForValue(h)/2;B+=j,D-=j}return{size:D,base:B,head:O,center:O+D/2}}_calculateBarIndexPixels(t,e){const s=e.scale,r=this.options,l=r.skipNull,u=Qt(r.maxBarThickness,1/0);let h,d;const g=this._getAxisCount();if(e.grouped){const y=l?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?g4(t,e,r,y*g):m4(t,e,r,y*g),T=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,A=this._getAxis().indexOf(Qt(T,this.getFirstScaleIdForIndexAxis())),O=this._getStackIndex(this.index,this._cachedMeta.stack,l?t:void 0)+A;h=v.start+v.chunk*O+v.chunk/2,d=Math.min(u,v.chunk*v.ratio)}else h=s.getPixelForValue(this.getParsed(t)[s.axis],t),d=Math.min(u,e.min*e.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,s=t.data,r=s.length;let l=0;for(;l<r;++l)this.getParsed(l)[e.axis]!==null&&!s[l].hidden&&s[l].draw(this._ctx)}}function Wa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lp{static override(t){Object.assign(Lp.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Wa()}parse(){return Wa()}format(){return Wa()}add(){return Wa()}diff(){return Wa()}startOf(){return Wa()}endOf(){return Wa()}}var S4={_date:Lp};function A4(n,t,e,s){const{controller:r,data:l,_sorted:u}=n,h=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&l.length){const g=h._reversePixels?uI:Og;if(s){if(r._sharedOptions){const y=l[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const T=g(l,t,e-v),A=g(l,t,e+v);return{lo:T.lo,hi:A.hi}}}}else{const y=g(l,t,e);if(d){const{vScale:v}=r._cachedMeta,{_parsed:T}=n,A=T.slice(0,y.lo+1).reverse().findIndex(D=>!se(D[v.axis]));y.lo-=Math.max(0,A);const O=T.slice(y.hi).findIndex(D=>!se(D[v.axis]));y.hi+=Math.max(0,O)}return y}}return{lo:0,hi:l.length-1}}function Df(n,t,e,s,r){const l=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,d=l.length;h<d;++h){const{index:g,data:y}=l[h],{lo:v,hi:T}=A4(l[h],t,u,r);for(let A=v;A<=T;++A){const O=y[A];O.skip||s(O,g,A)}}}function x4(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,r){const l=t?Math.abs(s.x-r.x):0,u=e?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(u,2))}}function eg(n,t,e,s,r){const l=[];return!r&&!n.isPointInArea(t)||Df(n,e,t,function(h,d,g){!r&&!dS(h,n.chartArea,0)||h.inRange(t.x,t.y,s)&&l.push({element:h,datasetIndex:d,index:g})},!0),l}function w4(n,t,e,s){let r=[];function l(u,h,d){const{startAngle:g,endAngle:y}=u.getProps(["startAngle","endAngle"],s),{angle:v}=aI(u,{x:t.x,y:t.y});oI(v,g,y)&&r.push({element:u,datasetIndex:h,index:d})}return Df(n,e,t,l),r}function R4(n,t,e,s,r,l){let u=[];const h=x4(e);let d=Number.POSITIVE_INFINITY;function g(y,v,T){const A=y.inRange(t.x,t.y,r);if(s&&!A)return;const O=y.getCenterPoint(r);if(!(!!l||n.isPointInArea(O))&&!A)return;const M=h(t,O);M<d?(u=[{element:y,datasetIndex:v,index:T}],d=M):M===d&&u.push({element:y,datasetIndex:v,index:T})}return Df(n,e,t,g),u}function ng(n,t,e,s,r,l){return!l&&!n.isPointInArea(t)?[]:e==="r"&&!s?w4(n,t,e,r):R4(n,t,e,s,r,l)}function lE(n,t,e,s,r){const l=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return Df(n,e,t,(d,g,y)=>{d[u]&&d[u](t[e],r)&&(l.push({element:d,datasetIndex:g,index:y}),h=h||d.inRange(t.x,t.y,r))}),s&&!h?[]:l}var C4={modes:{index(n,t,e,s){const r=Ja(t,n),l=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?eg(n,r,l,s,u):ng(n,r,l,!1,s,u),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,v=g.data[y];v&&!v.skip&&d.push({element:v,datasetIndex:g.index,index:y})}),d):[]},dataset(n,t,e,s){const r=Ja(t,n),l=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?eg(n,r,l,s,u):ng(n,r,l,!1,s,u);if(h.length>0){const d=h[0].datasetIndex,g=n.getDatasetMeta(d).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:d,index:y})}return h},point(n,t,e,s){const r=Ja(t,n),l=e.axis||"xy",u=e.includeInvisible||!1;return eg(n,r,l,s,u)},nearest(n,t,e,s){const r=Ja(t,n),l=e.axis||"xy",u=e.includeInvisible||!1;return ng(n,r,l,e.intersect,s,u)},x(n,t,e,s){const r=Ja(t,n);return lE(n,r,"x",e.intersect,s)},y(n,t,e,s){const r=Ja(t,n);return lE(n,r,"y",e.intersect,s)}}};const wS=["left","top","right","bottom"];function Yl(n,t){return n.filter(e=>e.pos===t)}function uE(n,t){return n.filter(e=>wS.indexOf(e.pos)===-1&&e.box.axis===t)}function Ql(n,t){return n.sort((e,s)=>{const r=t?s:e,l=t?e:s;return r.weight===l.weight?r.index-l.index:r.weight-l.weight})}function D4(n){const t=[];let e,s,r,l,u,h;for(e=0,s=(n||[]).length;e<s;++e)r=n[e],{position:l,options:{stack:u,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:l,horizontal:r.isHorizontal(),weight:r.weight,stack:u&&l+u,stackWeight:h});return t}function M4(n){const t={};for(const e of n){const{stack:s,pos:r,stackWeight:l}=e;if(!s||!wS.includes(r))continue;const u=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=l}return t}function O4(n,t){const e=M4(n),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let l,u,h;for(l=0,u=n.length;l<u;++l){h=n[l];const{fullSize:d}=h.box,g=e[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*s:d&&t.availableWidth,h.height=r):(h.width=s,h.height=y?y*r:d&&t.availableHeight)}return e}function I4(n){const t=D4(n),e=Ql(t.filter(g=>g.box.fullSize),!0),s=Ql(Yl(t,"left"),!0),r=Ql(Yl(t,"right")),l=Ql(Yl(t,"top"),!0),u=Ql(Yl(t,"bottom")),h=uE(t,"x"),d=uE(t,"y");return{fullSize:e,leftAndTop:s.concat(l),rightAndBottom:r.concat(d).concat(u).concat(h),chartArea:Yl(t,"chartArea"),vertical:s.concat(r).concat(d),horizontal:l.concat(u).concat(h)}}function cE(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function RS(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function V4(n,t,e,s){const{pos:r,box:l}=e,u=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const v=s[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?l.height:l.width),e.size=v.size/v.count,n[r]+=e.size}l.getPadding&&RS(u,l.getPadding());const h=Math.max(0,t.outerWidth-cE(u,n,"left","right")),d=Math.max(0,t.outerHeight-cE(u,n,"top","bottom")),g=h!==n.w,y=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:g,other:y}:{same:y,other:g}}function N4(n){const t=n.maxPadding;function e(s){const r=Math.max(t[s]-n[s],0);return n[s]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function k4(n,t){const e=t.maxPadding;function s(r){const l={left:0,top:0,right:0,bottom:0};return r.forEach(u=>{l[u]=Math.max(t[u],e[u])}),l}return s(n?["left","right"]:["top","bottom"])}function eu(n,t,e,s){const r=[];let l,u,h,d,g,y;for(l=0,u=n.length,g=0;l<u;++l){h=n[l],d=h.box,d.update(h.width||t.w,h.height||t.h,k4(h.horizontal,t));const{same:v,other:T}=V4(t,e,h,s);g|=v&&r.length,y=y||T,d.fullSize||r.push(h)}return g&&eu(r,t,e,s)||y}function Ah(n,t,e,s,r){n.top=e,n.left=t,n.right=t+s,n.bottom=e+r,n.width=s,n.height=r}function hE(n,t,e,s){const r=e.padding;let{x:l,y:u}=t;for(const h of n){const d=h.box,g=s[h.stack]||{placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const v=t.w*y,T=g.size||d.height;xu(g.start)&&(u=g.start),d.fullSize?Ah(d,r.left,u,e.outerWidth-r.right-r.left,T):Ah(d,t.left+g.placed,u,v,T),g.start=u,g.placed+=v,u=d.bottom}else{const v=t.h*y,T=g.size||d.width;xu(g.start)&&(l=g.start),d.fullSize?Ah(d,l,r.top,T,e.outerHeight-r.bottom-r.top):Ah(d,l,t.top+g.placed,T,v),g.start=l,g.placed+=v,l=d.right}}t.x=l,t.y=u}var Yn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const r=Kn(n.options.layout.padding),l=Math.max(t-r.width,0),u=Math.max(e-r.height,0),h=I4(n.boxes),d=h.vertical,g=h.horizontal;Zt(n.boxes,D=>{typeof D.beforeLayout=="function"&&D.beforeLayout()});const y=d.reduce((D,M)=>M.box.options&&M.box.options.display===!1?D:D+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:l,availableHeight:u,vBoxMaxWidth:l/2/y,hBoxMaxHeight:u/2}),T=Object.assign({},r);RS(T,Kn(s));const A=Object.assign({maxPadding:T,w:l,h:u,x:r.left,y:r.top},r),O=O4(d.concat(g),v);eu(h.fullSize,A,v,O),eu(d,A,v,O),eu(g,A,v,O)&&eu(d,A,v,O),N4(A),hE(h.leftAndTop,A,v,O),A.x+=A.w,A.y+=A.h,hE(h.rightAndBottom,A,v,O),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},Zt(h.chartArea,D=>{const M=D.box;Object.assign(M,n.chartArea),M.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class CS{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,r){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):s)}}isAttached(t){return!0}updateConfig(t){}}class L4 extends CS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Uh="$chartjs",z4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fE=n=>n===null||n==="";function P4(n,t){const e=n.style,s=n.getAttribute("height"),r=n.getAttribute("width");if(n[Uh]={initial:{height:s,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",fE(r)){const l=Zb(n,"width");l!==void 0&&(n.width=l)}if(fE(s))if(n.style.height==="")n.height=n.width/(t||2);else{const l=Zb(n,"height");l!==void 0&&(n.height=l)}return n}const DS=QI?{passive:!0}:!1;function B4(n,t,e){n&&n.addEventListener(t,e,DS)}function U4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,DS)}function j4(n,t){const e=z4[n.type]||n.type,{x:s,y:r}=Ja(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:r!==void 0?r:null}}function hf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function H4(n,t,e){const s=n.canvas,r=new MutationObserver(l=>{let u=!1;for(const h of l)u=u||hf(h.addedNodes,s),u=u&&!hf(h.removedNodes,s);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function F4(n,t,e){const s=n.canvas,r=new MutationObserver(l=>{let u=!1;for(const h of l)u=u||hf(h.removedNodes,s),u=u&&!hf(h.addedNodes,s);u&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ru=new Map;let dE=0;function MS(){const n=window.devicePixelRatio;n!==dE&&(dE=n,Ru.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function q4(n,t){Ru.size||window.addEventListener("resize",MS),Ru.set(n,t)}function G4(n){Ru.delete(n),Ru.size||window.removeEventListener("resize",MS)}function Y4(n,t,e){const s=n.canvas,r=s&&kp(s);if(!r)return;const l=lS((h,d)=>{const g=r.clientWidth;e(h,d),g<r.clientWidth&&e()},window),u=new ResizeObserver(h=>{const d=h[0],g=d.contentRect.width,y=d.contentRect.height;g===0&&y===0||l(g,y)});return u.observe(r),q4(n,l),u}function ig(n,t,e){e&&e.disconnect(),t==="resize"&&G4(n)}function Q4(n,t,e){const s=n.canvas,r=lS(l=>{n.ctx!==null&&e(j4(l,n))},n);return B4(s,t,r),r}class K4 extends CS{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(P4(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[Uh])return!1;const s=e[Uh].initial;["height","width"].forEach(l=>{const u=s[l];se(u)?e.removeAttribute(l):e.setAttribute(l,u)});const r=s.style||{};return Object.keys(r).forEach(l=>{e.style[l]=r[l]}),e.width=e.width,delete e[Uh],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),u={attach:H4,detach:F4,resize:Y4}[e]||Q4;r[e]=u(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),r=s[e];if(!r)return;({attach:ig,detach:ig,resize:ig}[e]||U4)(t,e,r),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,r){return YI(t,e,s,r)}isAttached(t){const e=t&&kp(t);return!!(e&&e.isConnected)}}function X4(n){return!Np()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?L4:K4}class ko{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return lf(this.x)&&lf(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const r={};return t.forEach(l=>{r[l]=s[l]&&s[l].active()?s[l]._to:this[l]}),r}}function $4(n,t){const e=n.options.ticks,s=W4(n),r=Math.min(e.maxTicksLimit||s,s),l=e.major.enabled?J4(t):[],u=l.length,h=l[0],d=l[u-1],g=[];if(u>r)return tV(t,g,l,u/r),g;const y=Z4(l,t,r);if(u>0){let v,T;const A=u>1?Math.round((d-h)/(u-1)):null;for(xh(t,g,y,se(A)?0:h-A,h),v=0,T=u-1;v<T;v++)xh(t,g,y,l[v],l[v+1]);return xh(t,g,y,d,se(A)?t.length:d+A),g}return xh(t,g,y),g}function W4(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(s,r))}function Z4(n,t,e){const s=eV(n),r=t.length/e;if(!s)return Math.max(r,1);const l=tI(s);for(let u=0,h=l.length-1;u<h;u++){const d=l[u];if(d>r)return d}return Math.max(r,1)}function J4(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function tV(n,t,e,s){let r=0,l=e[0],u;for(s=Math.ceil(s),u=0;u<n.length;u++)u===l&&(t.push(n[u]),r++,l=e[r*s])}function xh(n,t,e,s,r){const l=Qt(s,0),u=Math.min(Qt(r,n.length),n.length);let h=0,d,g,y;for(e=Math.ceil(e),r&&(d=r-s,e=d/Math.floor(d/e)),y=l;y<0;)h++,y=Math.round(l+h*e);for(g=Math.max(l,0);g<u;g++)g===y&&(t.push(n[g]),h++,y=Math.round(l+h*e))}function eV(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const nV=n=>n==="left"?"right":n==="right"?"left":n,mE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,gE=(n,t)=>Math.min(t||n,n);function pE(n,t){const e=[],s=n.length/t,r=n.length;let l=0;for(;l<r;l+=s)e.push(n[Math.floor(l)]);return e}function iV(n,t,e){const s=n.ticks.length,r=Math.min(t,s-1),l=n._startPixel,u=n._endPixel,h=1e-6;let d=n.getPixelForTick(r),g;if(!(e&&(s===1?g=Math.max(d-l,u-d):t===0?g=(n.getPixelForTick(1)-d)/2:g=(d-n.getPixelForTick(r-1))/2,d+=r<t?g:-g,d<l-h||d>u+h)))return d}function sV(n,t){Zt(n,e=>{const s=e.gc,r=s.length/2;let l;if(r>t){for(l=0;l<r;++l)delete e.data[s[l]];s.splice(0,r)}})}function Kl(n){return n.drawTicks?n.tickLength:0}function yE(n,t){if(!n.display)return 0;const e=rn(n.font,t),s=Kn(n.padding);return(Pe(n.text)?n.text.length:1)*e.lineHeight+s.height}function aV(n,t){return No(n,{scale:t,type:"scale"})}function rV(n,t,e){return No(n,{tick:e,index:t,type:"tick"})}function oV(n,t,e){let s=Cp(n);return(e&&t!=="right"||!e&&t==="right")&&(s=nV(s)),s}function lV(n,t,e,s){const{top:r,left:l,bottom:u,right:h,chart:d}=n,{chartArea:g,scales:y}=d;let v=0,T,A,O;const D=u-r,M=h-l;if(n.isHorizontal()){if(A=nn(s,l,h),qt(e)){const B=Object.keys(e)[0],j=e[B];O=y[B].getPixelForValue(j)+D-t}else e==="center"?O=(g.bottom+g.top)/2+D-t:O=mE(n,e,t);T=h-l}else{if(qt(e)){const B=Object.keys(e)[0],j=e[B];A=y[B].getPixelForValue(j)-M+t}else e==="center"?A=(g.left+g.right)/2-M+t:A=mE(n,e,t);O=nn(s,u,r),v=e==="left"?-ui:ui}return{titleX:A,titleY:O,maxWidth:T,rotation:v}}class Lo extends ko{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:r}=this;return t=Li(t,Number.POSITIVE_INFINITY),e=Li(e,Number.NEGATIVE_INFINITY),s=Li(s,Number.POSITIVE_INFINITY),r=Li(r,Number.NEGATIVE_INFINITY),{min:Li(t,s),max:Li(e,r),minDefined:Qn(t),maxDefined:Qn(e)}}getMinMax(t){let{min:e,max:s,minDefined:r,maxDefined:l}=this.getUserBounds(),u;if(r&&l)return{min:e,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,g=h.length;d<g;++d)u=h[d].controller.getMinMax(this,t),r||(e=Math.min(e,u.min)),l||(s=Math.max(s,u.max));return e=l&&e>s?s:e,s=r&&e>s?e:s,{min:Li(e,Li(s,e)),max:Li(s,Li(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){le(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:r,grace:l,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=OI(this,l,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?pE(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=$4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){le(this.options.afterUpdate,[this])}beforeSetDimensions(){le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){le(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),le(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,r,l;for(s=0,r=t.length;s<r;s++)l=t[s],l.label=le(e.callback,[l.value,s,t],this)}afterTickToLabelConversion(){le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=gE(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,l=e.maxRotation;let u=r,h,d,g;if(!this._isVisible()||!e.display||r>=l||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),v=y.widest.width,T=y.highest.height,A=ci(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/s:A/(s-1),v+6>h&&(h=A/(s-(t.offset?.5:1)),d=this.maxHeight-Kl(t.grid)-e.padding-yE(t.title,this.chart.options.font),g=Math.sqrt(v*v+T*T),u=sI(Math.min(Math.asin(ci((y.highest.height+6)/h,-1,1)),Math.asin(ci(d/g,-1,1))-Math.asin(ci(T/g,-1,1)))),u=Math.max(r,Math.min(l,u))),this.labelRotation=u}afterCalculateLabelRotation(){le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){le(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:r,grid:l}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const d=yE(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Kl(l)+d):(t.height=this.maxHeight,t.width=Kl(l)+d),s.display&&this.ticks.length){const{first:g,last:y,widest:v,highest:T}=this._getLabelSizes(),A=s.padding*2,O=er(this.labelRotation),D=Math.cos(O),M=Math.sin(O);if(h){const B=s.mirror?0:M*v.width+D*T.height;t.height=Math.min(this.maxHeight,t.height+B+A)}else{const B=s.mirror?0:D*v.width+M*T.height;t.width=Math.min(this.maxWidth,t.width+B+A)}this._calculatePadding(g,y,M,D)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,r){const{ticks:{align:l,padding:u},position:h}=this.options,d=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,A=0;d?g?(T=r*t.width,A=s*e.height):(T=s*t.height,A=r*e.width):l==="start"?A=e.width:l==="end"?T=t.width:l!=="inner"&&(T=t.width/2,A=e.width/2),this.paddingLeft=Math.max((T-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((A-v+u)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;l==="start"?(y=0,v=t.height):l==="end"&&(y=e.height,v=0),this.paddingTop=y+u,this.paddingBottom=v+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){le(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)se(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=pE(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:r,_longestTextCache:l}=this,u=[],h=[],d=Math.floor(e/gE(e,s));let g=0,y=0,v,T,A,O,D,M,B,j,$,st,it;for(v=0;v<e;v+=d){if(O=t[v].label,D=this._resolveTickFontOptions(v),r.font=M=D.string,B=l[M]=l[M]||{data:{},gc:[]},j=D.lineHeight,$=st=0,!se(O)&&!Pe(O))$=Yb(r,B.data,B.gc,$,O),st=j;else if(Pe(O))for(T=0,A=O.length;T<A;++T)it=O[T],!se(it)&&!Pe(it)&&($=Yb(r,B.data,B.gc,$,it),st+=j);u.push($),h.push(st),g=Math.max($,g),y=Math.max(st,y)}sV(l,e);const rt=u.indexOf(g),R=h.indexOf(y),w=C=>({width:u[C]||0,height:h[C]||0});return{first:w(0),last:w(e-1),widest:w(rt),highest:w(R),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return lI(this._alignToPixels?$a(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=rV(this.getContext(),t,s))}return this.$context||(this.$context=aV(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=er(this.labelRotation),s=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),l=this._getLabelSizes(),u=t.autoSkipPadding||0,h=l?l.widest.width+u:0,d=l?l.highest.height+u:0;return this.isHorizontal()?d*s>h*r?h/s:d/r:d*r<h*s?d/s:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,r=this.options,{grid:l,position:u,border:h}=r,d=l.offset,g=this.isHorizontal(),v=this.ticks.length+(d?1:0),T=Kl(l),A=[],O=h.setContext(this.getContext()),D=O.display?O.width:0,M=D/2,B=function(Q){return $a(s,Q,D)};let j,$,st,it,rt,R,w,C,k,V,L,I;if(u==="top")j=B(this.bottom),R=this.bottom-T,C=j-M,V=B(t.top)+M,I=t.bottom;else if(u==="bottom")j=B(this.top),V=t.top,I=B(t.bottom)-M,R=j+M,C=this.top+T;else if(u==="left")j=B(this.right),rt=this.right-T,w=j-M,k=B(t.left)+M,L=t.right;else if(u==="right")j=B(this.left),k=t.left,L=B(t.right)-M,rt=j+M,w=this.left+T;else if(e==="x"){if(u==="center")j=B((t.top+t.bottom)/2+.5);else if(qt(u)){const Q=Object.keys(u)[0],at=u[Q];j=B(this.chart.scales[Q].getPixelForValue(at))}V=t.top,I=t.bottom,R=j+M,C=R+T}else if(e==="y"){if(u==="center")j=B((t.left+t.right)/2);else if(qt(u)){const Q=Object.keys(u)[0],at=u[Q];j=B(this.chart.scales[Q].getPixelForValue(at))}rt=j-M,w=rt-T,k=t.left,L=t.right}const zt=Qt(r.ticks.maxTicksLimit,v),Rt=Math.max(1,Math.ceil(v/zt));for($=0;$<v;$+=Rt){const Q=this.getContext($),at=l.setContext(Q),gt=h.setContext(Q),Dt=at.lineWidth,It=at.color,z=gt.dash||[],Z=gt.dashOffset,lt=at.tickWidth,ut=at.tickColor,_t=at.tickBorderDash||[],bt=at.tickBorderDashOffset;st=iV(this,$,d),st!==void 0&&(it=$a(s,st,Dt),g?rt=w=k=L=it:R=C=V=I=it,A.push({tx1:rt,ty1:R,tx2:w,ty2:C,x1:k,y1:V,x2:L,y2:I,width:Dt,color:It,borderDash:z,borderDashOffset:Z,tickWidth:lt,tickColor:ut,tickBorderDash:_t,tickBorderDashOffset:bt}))}return this._ticksLength=v,this._borderValue=j,A}_computeLabelItems(t){const e=this.axis,s=this.options,{position:r,ticks:l}=s,u=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:g,padding:y,mirror:v}=l,T=Kl(s.grid),A=T+y,O=v?-y:A,D=-er(this.labelRotation),M=[];let B,j,$,st,it,rt,R,w,C,k,V,L,I="middle";if(r==="top")rt=this.bottom-O,R=this._getXAxisLabelAlignment();else if(r==="bottom")rt=this.top+O,R=this._getXAxisLabelAlignment();else if(r==="left"){const Rt=this._getYAxisLabelAlignment(T);R=Rt.textAlign,it=Rt.x}else if(r==="right"){const Rt=this._getYAxisLabelAlignment(T);R=Rt.textAlign,it=Rt.x}else if(e==="x"){if(r==="center")rt=(t.top+t.bottom)/2+A;else if(qt(r)){const Rt=Object.keys(r)[0],Q=r[Rt];rt=this.chart.scales[Rt].getPixelForValue(Q)+A}R=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")it=(t.left+t.right)/2-A;else if(qt(r)){const Rt=Object.keys(r)[0],Q=r[Rt];it=this.chart.scales[Rt].getPixelForValue(Q)}R=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(d==="start"?I="top":d==="end"&&(I="bottom"));const zt=this._getLabelSizes();for(B=0,j=h.length;B<j;++B){$=h[B],st=$.label;const Rt=l.setContext(this.getContext(B));w=this.getPixelForTick(B)+l.labelOffset,C=this._resolveTickFontOptions(B),k=C.lineHeight,V=Pe(st)?st.length:1;const Q=V/2,at=Rt.color,gt=Rt.textStrokeColor,Dt=Rt.textStrokeWidth;let It=R;u?(it=w,R==="inner"&&(B===j-1?It=this.options.reverse?"left":"right":B===0?It=this.options.reverse?"right":"left":It="center"),r==="top"?g==="near"||D!==0?L=-V*k+k/2:g==="center"?L=-zt.highest.height/2-Q*k+k:L=-zt.highest.height+k/2:g==="near"||D!==0?L=k/2:g==="center"?L=zt.highest.height/2-Q*k:L=zt.highest.height-V*k,v&&(L*=-1),D!==0&&!Rt.showLabelBackdrop&&(it+=k/2*Math.sin(D))):(rt=w,L=(1-V)*k/2);let z;if(Rt.showLabelBackdrop){const Z=Kn(Rt.backdropPadding),lt=zt.heights[B],ut=zt.widths[B];let _t=L-Z.top,bt=0-Z.left;switch(I){case"middle":_t-=lt/2;break;case"bottom":_t-=lt;break}switch(R){case"center":bt-=ut/2;break;case"right":bt-=ut;break;case"inner":B===j-1?bt-=ut:B>0&&(bt-=ut/2);break}z={left:bt,top:_t,width:ut+Z.width,height:lt+Z.height,color:Rt.backdropColor}}M.push({label:st,font:C,textOffset:L,options:{rotation:D,color:at,strokeColor:gt,strokeWidth:Dt,textAlign:It,textBaseline:I,translation:[it,rt],backdrop:z}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-er(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:r,padding:l}}=this.options,u=this._getLabelSizes(),h=t+l,d=u.widest.width;let g,y;return e==="left"?r?(y=this.right+l,s==="near"?g="left":s==="center"?(g="center",y+=d/2):(g="right",y+=d)):(y=this.right-h,s==="near"?g="right":s==="center"?(g="center",y-=d/2):(g="left",y=this.left)):e==="right"?r?(y=this.left+l,s==="near"?g="right":s==="center"?(g="center",y-=d/2):(g="left",y-=d)):(y=this.left+h,s==="near"?g="left":s==="center"?(g="center",y+=d/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:r,width:l,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,r,l,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(l=>l.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,u;const h=(d,g,y)=>{!y.width||!y.color||(s.save(),s.lineWidth=y.width,s.strokeStyle=y.color,s.setLineDash(y.borderDash||[]),s.lineDashOffset=y.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(g.x,g.y),s.stroke(),s.restore())};if(e.display)for(l=0,u=r.length;l<u;++l){const d=r[l];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:r}}=this,l=s.setContext(this.getContext()),u=s.display?l.width:0;if(!u)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let g,y,v,T;this.isHorizontal()?(g=$a(t,this.left,u)-u/2,y=$a(t,this.right,h)+h/2,v=T=d):(v=$a(t,this.top,u)-u/2,T=$a(t,this.bottom,h)+h/2,g=y=d),e.save(),e.lineWidth=l.width,e.strokeStyle=l.color,e.beginPath(),e.moveTo(g,v),e.lineTo(y,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Dp(s,r);const l=this.getLabelItems(t);for(const u of l){const h=u.options,d=u.font,g=u.label,y=u.textOffset;wu(s,g,0,y,d,h)}r&&Mp(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:r}}=this;if(!s.display)return;const l=rn(s.font),u=Kn(s.padding),h=s.align;let d=l.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(d+=u.bottom,Pe(s.text)&&(d+=l.lineHeight*(s.text.length-1))):d+=u.top;const{titleX:g,titleY:y,maxWidth:v,rotation:T}=lV(this,d,e,h);wu(t,s.text,0,0,l,{color:s.color,maxWidth:v,rotation:T,textAlign:oV(h,e,r),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Qt(t.grid&&t.grid.z,-1),r=Qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Lo.prototype.draw?[{z:e,draw:l=>{this.draw(l)}}]:[{z:s,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let l,u;for(l=0,u=e.length;l<u;++l){const h=e[l];h[s]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return rn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class wh{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;hV(e)&&(s=this.register(e));const r=this.items,l=t.id,u=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in r||(r[l]=t,uV(t,u,s),this.override&&Te.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,r=this.scope;s in e&&delete e[s],r&&s in Te[r]&&(delete Te[r][s],this.override&&delete lr[s])}}function uV(n,t,e){const s=Au(Object.create(null),[e?Te.get(e):{},Te.get(t),n.defaults]);Te.set(t,s),n.defaultRoutes&&cV(t,n.defaultRoutes),n.descriptors&&Te.describe(t,n.descriptors)}function cV(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),r=s.pop(),l=[n].concat(s).join("."),u=t[e].split("."),h=u.pop(),d=u.join(".");Te.route(l,r,d,h)})}function hV(n){return"id"in n&&"defaults"in n}class fV{constructor(){this.controllers=new wh(AS,"datasets",!0),this.elements=new wh(ko,"elements"),this.plugins=new wh(Object,"plugins"),this.scales=new wh(Lo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(r=>{const l=s||this._getRegistryForType(r);s||l.isForType(r)||l===this.plugins&&r.id?this._exec(t,l,r):Zt(r,u=>{const h=s||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,s){const r=wp(t);le(s["before"+r],[],s),e[t](s),le(s["after"+r],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var Pi=new fV;class dV{constructor(){this._init=void 0}notify(t,e,s,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const l=r?this._descriptors(t).filter(r):this._descriptors(t),u=this._notify(l,t,e,s);return e==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),u}_notify(t,e,s,r){r=r||{};for(const l of t){const u=l.plugin,h=u[s],d=[e,r,l.options];if(le(h,d,u)===!1&&r.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,r=Qt(s.options&&s.options.plugins,{}),l=mV(s);return r===!1&&!e?[]:pV(t,l,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,r=(l,u)=>l.filter(h=>!u.some(d=>h.plugin.id===d.plugin.id));this._notify(r(e,s),t,"stop"),this._notify(r(s,e),t,"start")}}function mV(n){const t={},e=[],s=Object.keys(Pi.plugins.items);for(let l=0;l<s.length;l++)e.push(Pi.getPlugin(s[l]));const r=n.plugins||[];for(let l=0;l<r.length;l++){const u=r[l];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function gV(n,t){return!t&&n===!1?null:n===!0?{}:n}function pV(n,{plugins:t,localIds:e},s,r){const l=[],u=n.getContext();for(const h of t){const d=h.id,g=gV(s[d],r);g!==null&&l.push({plugin:h,options:yV(n.config,{plugin:h,local:e[d]},g,u)})}return l}function yV(n,{plugin:t,local:e},s,r){const l=n.pluginScopeKeys(t),u=n.getOptionScopes(s,l);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vg(n,t){const e=Te.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function _V(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function vV(n,t){return n===t?"_index_":"_value_"}function _E(n){if(n==="x"||n==="y"||n==="r")return n}function bV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ng(n,...t){if(_E(n))return n;for(const e of t){const s=e.axis||bV(e.position)||n.length>1&&_E(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function vE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function EV(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return vE(n,"x",e[0])||vE(n,"y",e[0])}return{}}function TV(n,t){const e=lr[n.type]||{scales:{}},s=t.scales||{},r=Vg(n.type,t),l=Object.create(null);return Object.keys(s).forEach(u=>{const h=s[u];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const d=Ng(u,h,EV(u,n),Te.scales[h.type]),g=vV(d,r),y=e.scales||{};l[u]=uu(Object.create(null),[{axis:d},h,y[d],y[g]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,d=u.indexAxis||Vg(h,t),y=(lr[h]||{}).scales||{};Object.keys(y).forEach(v=>{const T=_V(v,d),A=u[T+"AxisID"]||T;l[A]=l[A]||Object.create(null),uu(l[A],[{axis:T},s[A],y[v]])})}),Object.keys(l).forEach(u=>{const h=l[u];uu(h,[Te.scales[h.type],Te.scale])}),l}function OS(n){const t=n.options||(n.options={});t.plugins=Qt(t.plugins,{}),t.scales=TV(n,t)}function IS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function SV(n){return n=n||{},n.data=IS(n.data),OS(n),n}const bE=new Map,VS=new Set;function Rh(n,t){let e=bE.get(n);return e||(e=t(),bE.set(n,e),VS.add(e)),e}const Xl=(n,t,e)=>{const s=xo(t,e);s!==void 0&&n.add(s)};class AV{constructor(t){this._config=SV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=IS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),OS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Rh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Rh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Rh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return Rh(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let r=s.get(t);return(!r||e)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,e,s){const{options:r,type:l}=this,u=this._cachedScopes(t,s),h=u.get(e);if(h)return h;const d=new Set;e.forEach(y=>{t&&(d.add(t),y.forEach(v=>Xl(d,t,v))),y.forEach(v=>Xl(d,r,v)),y.forEach(v=>Xl(d,lr[l]||{},v)),y.forEach(v=>Xl(d,Te,v)),y.forEach(v=>Xl(d,Ig,v))});const g=Array.from(d);return g.length===0&&g.push(Object.create(null)),VS.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,lr[e]||{},Te.datasets[e]||{},{type:e},Te,Ig]}resolveNamedOptions(t,e,s,r=[""]){const l={$shared:!0},{resolver:u,subPrefixes:h}=EE(this._resolverCache,t,r);let d=u;if(wV(u,e)){l.$shared=!1,s=pa(s)?s():s;const g=this.createResolver(t,s,h);d=wo(u,s,g)}for(const g of e)l[g]=d[g];return l}createResolver(t,e,s=[""],r){const{resolver:l}=EE(this._resolverCache,t,s);return qt(e)?wo(l,e,void 0,r):l}}function EE(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const r=e.join();let l=s.get(r);return l||(l={resolver:Op(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},s.set(r,l)),l}const xV=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>pa(n[t]));function wV(n,t){const{isScriptable:e,isIndexable:s}=pS(n);for(const r of t){const l=e(r),u=s(r),h=(u||l)&&n[r];if(l&&(pa(h)||xV(h))||u&&Pe(h))return!0}return!1}var RV="4.5.1";const CV=["top","bottom","left","right","chartArea"];function TE(n,t){return n==="top"||n==="bottom"||CV.indexOf(n)===-1&&t==="x"}function SE(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function AE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),le(e&&e.onComplete,[n],t)}function DV(n){const t=n.chart,e=t.options.animation;le(e&&e.onProgress,[n],t)}function NS(n){return Np()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const jh={},xE=n=>{const t=NS(n);return Object.values(jh).filter(e=>e.canvas===t).pop()};function MV(n,t,e){const s=Object.keys(n);for(const r of s){const l=+r;if(l>=t){const u=n[r];delete n[r],(e>0||l>t)&&(n[l+e]=u)}}}function OV(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}let Mf=class{static defaults=Te;static instances=jh;static overrides=lr;static registry=Pi;static version=RV;static getChart=xE;static register(...t){Pi.add(...t),wE()}static unregister(...t){Pi.remove(...t),wE()}constructor(t,e){const s=this.config=new AV(e),r=NS(t),l=xE(r);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const u=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||X4(r)),this.platform.updateConfig(s);const h=this.platform.acquireContext(r,u.aspectRatio),d=h&&h.canvas,g=d&&d.height,y=d&&d.width;if(this.id=YO(),this.ctx=h,this.canvas=d,this.width=y,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fI(v=>this.update(v),u.resizeDelay||0),this._dataChanges=[],jh[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}cs.listen(this,"complete",AE),cs.listen(this,"progress",DV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:r,_aspectRatio:l}=this;return se(t)?e&&l?l:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Pi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Wb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qb(this.canvas,this.ctx),this}stop(){return cs.stop(this),this}resize(t,e){cs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,r=this.canvas,l=s.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(r,t,e,l),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Wb(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),le(s.onResize,[this,u],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Zt(e,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,r=Object.keys(s).reduce((u,h)=>(u[h]=!1,u),{});let l=[];e&&(l=l.concat(Object.keys(e).map(u=>{const h=e[u],d=Ng(u,h),g=d==="r",y=d==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),Zt(l,u=>{const h=u.options,d=h.id,g=Ng(d,h),y=Qt(h.type,u.dtype);(h.position===void 0||TE(h.position,g)!==TE(u.dposition))&&(h.position=u.dposition),r[d]=!0;let v=null;if(d in s&&s[d].type===y)v=s[d];else{const T=Pi.getScale(y);v=new T({id:d,type:y,ctx:this.ctx,chart:this}),s[v.id]=v}v.init(h,t)}),Zt(r,(u,h)=>{u||delete s[h]}),Zt(s,u=>{Yn.configure(this,u,u.options),Yn.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((r,l)=>r.index-l.index),s>e){for(let r=e;r<s;++r)this._destroyDatasetMeta(r);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(SE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,r)=>{e.filter(l=>l===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=e.length;s<r;s++){const l=e[s];let u=this.getDatasetMeta(s);const h=l.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(s),u=this.getDatasetMeta(s)),u.type=h,u.indexAxis=l.indexAxis||Vg(h,this.options),u.order=l.order||0,u.index=s,u.label=""+l.label,u.visible=this.isDatasetVisible(s),u.controller)u.controller.updateIndex(s),u.controller.linkScales();else{const d=Pi.getController(h),{datasetElementType:g,dataElementType:y}=Te.datasets[h];Object.assign(d,{dataElementType:Pi.getElement(y),datasetElementType:g&&Pi.getElement(g)}),u.controller=new d(this,s),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Zt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:v}=this.getDatasetMeta(g),T=!r&&l.indexOf(v)===-1;v.buildOrUpdateElements(T),u=Math.max(+v.getMaxOverflow(),u)}u=this._minPadding=s.layout.autoPadding?u:0,this._updateLayout(u),r||Zt(l,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(SE("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Zt(this.scales,t=>{Yn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!zb(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:l}of e){const u=s==="_removeElements"?-l:l;MV(t,r,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=l=>new Set(t.filter(u=>u[0]===l).map((u,h)=>h+","+u.splice(1).join(","))),r=s(0);for(let l=1;l<e;l++)if(!zb(r,s(l)))return;return Array.from(r).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Yn.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],Zt(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,l)=>{r._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,pa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cs.has(this)?this.attached&&!cs.running(this)&&cs.start(this):(this.draw(),AE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let r,l;for(r=0,l=e.length;r<l;++r){const u=e[r];(!t||u.visible)&&s.push(u)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=WI(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Dp(e,r),t.controller.draw(),r&&Mp(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return dS(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,r){const l=C4.modes[e];return typeof l=="function"?l(this,t,s,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let r=s.filter(l=>l&&l._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=No(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const r=s?"show":"hide",l=this.getDatasetMeta(t),u=l.controller._resolveAnimations(void 0,r);xu(e)?(l.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),u.update(l,{visible:s}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),cs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Qb(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete jh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(l,u)=>{e.addEventListener(this,l,u),t[l]=u},r=(l,u,h)=>{l.offsetX=u,l.offsetY=h,this._eventHandler(l)};Zt(this.options.events,l=>s(l,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(d,g)=>{e.addEventListener(this,d,g),t[d]=g},r=(d,g)=>{t[d]&&(e.removeEventListener(this,d,g),delete t[d])},l=(d,g)=>{this.canvas&&this.resize(d,g)};let u;const h=()=>{r("attach",h),this.attached=!0,this.resize(),s("resize",l),s("detach",u)};u=()=>{this.attached=!1,r("resize",l),this._stop(),this._resize(0,0),s("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Zt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Zt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const r=s?"set":"remove";let l,u,h,d;for(e==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[r+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:l,index:u})=>{const h=this.getDatasetMeta(l);if(!h)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:h.data[u],index:u}});!af(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const r=this.options.hover,l=(d,g)=>d.filter(y=>!g.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),u=l(e,t),h=s?t:l(t,e);u.length&&this.updateHoverStyle(u,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const l=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(l||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:r=[],options:l}=this,u=e,h=this._getActiveElements(t,r,s,u),d=ZO(t),g=OV(t,this._lastEvent,s,d);s&&(this._lastEvent=null,le(l.onHover,[t,h,this],this),d&&le(l.onClick,[t,h,this],this));const y=!af(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,y}_getActiveElements(t,e,s,r){if(t.type==="mouseout")return[];if(!s)return e;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,r)}};function wE(){return Zt(Mf.instances,n=>n._plugins.invalidate())}function kS(n,t){const{x:e,y:s,base:r,width:l,height:u}=n.getProps(["x","y","base","width","height"],t);let h,d,g,y,v;return n.horizontal?(v=u/2,h=Math.min(e,r),d=Math.max(e,r),g=s-v,y=s+v):(v=l/2,h=e-v,d=e+v,g=Math.min(s,r),y=Math.max(s,r)),{left:h,top:g,right:d,bottom:y}}function na(n,t,e,s){return n?0:ci(t,e,s)}function IV(n,t,e){const s=n.options.borderWidth,r=n.borderSkipped,l=gS(s);return{t:na(r.top,l.top,0,e),r:na(r.right,l.right,0,t),b:na(r.bottom,l.bottom,0,e),l:na(r.left,l.left,0,t)}}function VV(n,t,e){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,l=yo(r),u=Math.min(t,e),h=n.borderSkipped,d=s||qt(r);return{topLeft:na(!d||h.top||h.left,l.topLeft,0,u),topRight:na(!d||h.top||h.right,l.topRight,0,u),bottomLeft:na(!d||h.bottom||h.left,l.bottomLeft,0,u),bottomRight:na(!d||h.bottom||h.right,l.bottomRight,0,u)}}function NV(n){const t=kS(n),e=t.right-t.left,s=t.bottom-t.top,r=IV(n,e/2,s/2),l=VV(n,e/2,s/2);return{outer:{x:t.left,y:t.top,w:e,h:s,radius:l},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,l.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(r.b,r.r))}}}}function sg(n,t,e,s){const r=t===null,l=e===null,h=n&&!(r&&l)&&kS(n,s);return h&&(r||ho(t,h.left,h.right))&&(l||ho(e,h.top,h.bottom))}function kV(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function LV(n,t){n.rect(t.x,t.y,t.w,t.h)}function ag(n,t,e={}){const s=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,l=(n.x+n.w!==e.x+e.w?t:0)-s,u=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+s,y:n.y+r,w:n.w+l,h:n.h+u,radius:n.radius}}class zV extends ko{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:s,backgroundColor:r}}=this,{inner:l,outer:u}=NV(this),h=kV(u.radius)?uf:LV;t.save(),(u.w!==l.w||u.h!==l.h)&&(t.beginPath(),h(t,ag(u,e,l)),t.clip(),h(t,ag(l,-e,u)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),h(t,ag(l,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,s){return sg(this,t,e,s)}inXRange(t,e){return sg(this,t,null,e)}inYRange(t,e){return sg(this,null,t,e)}getCenterPoint(t){const{x:e,y:s,base:r,horizontal:l}=this.getProps(["x","y","base","horizontal"],t);return{x:l?(e+r)/2:e,y:l?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const RE=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},PV=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class CE extends ko{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=le(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=rn(s.font),l=r.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=RE(s,l);let g,y;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(u,l,h,d)+10):(y=this.maxHeight,g=this._fitCols(u,r,h,d)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,r){const{ctx:l,maxWidth:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.lineWidths=[0],y=r+h;let v=t;l.textAlign="left",l.textBaseline="middle";let T=-1,A=-y;return this.legendItems.forEach((O,D)=>{const M=s+e/2+l.measureText(O.text).width;(D===0||g[g.length-1]+M+2*h>u)&&(v+=y,g[g.length-(D>0?0:1)]=0,A+=y,T++),d[D]={left:0,top:A,row:T,width:M,height:r},g[g.length-1]+=M+h}),v}_fitCols(t,e,s,r){const{ctx:l,maxHeight:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.columnSizes=[],y=u-t;let v=h,T=0,A=0,O=0,D=0;return this.legendItems.forEach((M,B)=>{const{itemWidth:j,itemHeight:$}=BV(s,e,l,M,r);B>0&&A+$+2*h>y&&(v+=T+h,g.push({width:T,height:A}),O+=T+h,D++,T=A=0),d[B]={left:O,top:A,col:D,width:j,height:$},T=Math.max(T,j),A+=$+h}),v+=T,g.push({width:T,height:A}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:r},rtl:l}}=this,u=_o(l,this.left,this.width);if(this.isHorizontal()){let h=0,d=nn(s,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,d=nn(s,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=u.leftForLtr(u.x(d),g.width),d+=g.width+r}else{let h=0,d=nn(s,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,d=nn(s,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=d,g.left+=this.left+r,g.left=u.leftForLtr(u.x(g.left),g.width),d+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Dp(t,this),this._draw(),Mp(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:r}=this,{align:l,labels:u}=t,h=Te.color,d=_o(t.rtl,this.left,this.width),g=rn(u.font),{padding:y}=u,v=g.size,T=v/2;let A;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:O,boxHeight:D,itemHeight:M}=RE(u,v),B=function(rt,R,w){if(isNaN(O)||O<=0||isNaN(D)||D<0)return;r.save();const C=Qt(w.lineWidth,1);if(r.fillStyle=Qt(w.fillStyle,h),r.lineCap=Qt(w.lineCap,"butt"),r.lineDashOffset=Qt(w.lineDashOffset,0),r.lineJoin=Qt(w.lineJoin,"miter"),r.lineWidth=C,r.strokeStyle=Qt(w.strokeStyle,h),r.setLineDash(Qt(w.lineDash,[])),u.usePointStyle){const k={radius:D*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:C},V=d.xPlus(rt,O/2),L=R+T;fS(r,k,V,L,u.pointStyleWidth&&O)}else{const k=R+Math.max((v-D)/2,0),V=d.leftForLtr(rt,O),L=yo(w.borderRadius);r.beginPath(),Object.values(L).some(I=>I!==0)?uf(r,{x:V,y:k,w:O,h:D,radius:L}):r.rect(V,k,O,D),r.fill(),C!==0&&r.stroke()}r.restore()},j=function(rt,R,w){wu(r,w.text,rt,R+M/2,g,{strikethrough:w.hidden,textAlign:d.textAlign(w.textAlign)})},$=this.isHorizontal(),st=this._computeTitleHeight();$?A={x:nn(l,this.left+y,this.right-s[0]),y:this.top+y+st,line:0}:A={x:this.left+y,y:nn(l,this.top+st+y,this.bottom-e[0].height),line:0},bS(this.ctx,t.textDirection);const it=M+y;this.legendItems.forEach((rt,R)=>{r.strokeStyle=rt.fontColor,r.fillStyle=rt.fontColor;const w=r.measureText(rt.text).width,C=d.textAlign(rt.textAlign||(rt.textAlign=u.textAlign)),k=O+T+w;let V=A.x,L=A.y;d.setWidth(this.width),$?R>0&&V+k+y>this.right&&(L=A.y+=it,A.line++,V=A.x=nn(l,this.left+y,this.right-s[A.line])):R>0&&L+it>this.bottom&&(V=A.x=V+e[A.line].width+y,A.line++,L=A.y=nn(l,this.top+st+y,this.bottom-e[A.line].height));const I=d.x(V);if(B(I,L,rt),V=dI(C,V+O+T,$?V+k:this.right,t.rtl),j(d.x(V),L,rt),$)A.x+=k+y;else if(typeof rt.text!="string"){const zt=g.lineHeight;A.y+=LS(rt,zt)+y}else A.y+=it}),ES(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=rn(e.font),r=Kn(e.padding);if(!e.display)return;const l=_o(t.rtl,this.left,this.width),u=this.ctx,h=e.position,d=s.size/2,g=r.top+d;let y,v=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),y=this.top+g,v=nn(t.align,v,this.right-T);else{const O=this.columnSizes.reduce((D,M)=>Math.max(D,M.height),0);y=g+nn(t.align,this.top,this.bottom-O-t.labels.padding-this._computeTitleHeight())}const A=nn(h,v,v+T);u.textAlign=l.textAlign(Cp(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=s.string,wu(u,e.text,A,y,s)}_computeTitleHeight(){const t=this.options.title,e=rn(t.font),s=Kn(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,r,l;if(ho(t,this.left,this.right)&&ho(e,this.top,this.bottom)){for(l=this.legendHitBoxes,s=0;s<l.length;++s)if(r=l[s],ho(t,r.left,r.left+r.width)&&ho(e,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!HV(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,l=PV(r,s);r&&!l&&le(e.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!l&&le(e.onHover,[t,s,this],this)}else s&&le(e.onClick,[t,s,this],this)}}function BV(n,t,e,s,r){const l=UV(s,n,t,e),u=jV(r,s,t.lineHeight);return{itemWidth:l,itemHeight:u}}function UV(n,t,e,s){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((l,u)=>l.length>u.length?l:u)),t+e.size/2+s.measureText(r).width}function jV(n,t,e){let s=n;return typeof t.text!="string"&&(s=LS(t,e)),s}function LS(n,t){const e=n.text?n.text.length:0;return t*e}function HV(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var FV={id:"legend",_element:CE,start(n,t,e){const s=n.legend=new CE({ctx:n.ctx,options:e,chart:n});Yn.configure(n,s,e),Yn.addBox(n,s)},stop(n){Yn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;Yn.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,r=e.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:r,color:l,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const g=d.controller.getStyle(e?0:void 0),y=Kn(g.borderWidth);return{text:t[d.index].label,fillStyle:g.backgroundColor,fontColor:l,hidden:!d.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:s||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class zS extends ko{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Pe(s.text)?s.text.length:1;this._padding=Kn(s.padding);const l=r*rn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:r,right:l,options:u}=this,h=u.align;let d=0,g,y,v;return this.isHorizontal()?(y=nn(h,s,l),v=e+t,g=l-s):(u.position==="left"?(y=s+t,v=nn(h,r,e),d=on*-.5):(y=l-t,v=nn(h,e,r),d=on*.5),g=r-e),{titleX:y,titleY:v,maxWidth:g,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=rn(e.font),l=s.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:d,rotation:g}=this._drawArgs(l);wu(t,e.text,0,0,s,{color:e.color,maxWidth:d,rotation:g,textAlign:Cp(e.align),textBaseline:"middle",translation:[u,h]})}}function qV(n,t){const e=new zS({ctx:n.ctx,options:t,chart:n});Yn.configure(n,e,t),Yn.addBox(n,e),n.titleBlock=e}var GV={id:"title",_element:zS,start(n,t,e){qV(n,e)},stop(n){const t=n.titleBlock;Yn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;Yn.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nu={average(n){if(!n.length)return!1;let t,e,s=new Set,r=0,l=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),r+=d.y,++l}}return l===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:r/l}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,r=Number.POSITIVE_INFINITY,l,u,h;for(l=0,u=n.length;l<u;++l){const d=n[l].element;if(d&&d.hasValue()){const g=d.getCenterPoint(),y=rI(t,g);y<r&&(r=y,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,s=d.y}return{x:e,y:s}}};function zi(n,t){return t&&(Pe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function hs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function YV(n,t){const{element:e,datasetIndex:s,index:r}=t,l=n.getDatasetMeta(s).controller,{label:u,value:h}=l.getLabelAndValue(r);return{chart:n,label:u,parsed:l.getParsed(r),raw:n.data.datasets[s].data[r],formattedValue:h,dataset:l.getDataset(),dataIndex:r,datasetIndex:s,element:e}}function DE(n,t){const e=n.chart.ctx,{body:s,footer:r,title:l}=n,{boxWidth:u,boxHeight:h}=t,d=rn(t.bodyFont),g=rn(t.titleFont),y=rn(t.footerFont),v=l.length,T=r.length,A=s.length,O=Kn(t.padding);let D=O.height,M=0,B=s.reduce((st,it)=>st+it.before.length+it.lines.length+it.after.length,0);if(B+=n.beforeBody.length+n.afterBody.length,v&&(D+=v*g.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),B){const st=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;D+=A*st+(B-A)*d.lineHeight+(B-1)*t.bodySpacing}T&&(D+=t.footerMarginTop+T*y.lineHeight+(T-1)*t.footerSpacing);let j=0;const $=function(st){M=Math.max(M,e.measureText(st).width+j)};return e.save(),e.font=g.string,Zt(n.title,$),e.font=d.string,Zt(n.beforeBody.concat(n.afterBody),$),j=t.displayColors?u+2+t.boxPadding:0,Zt(s,st=>{Zt(st.before,$),Zt(st.lines,$),Zt(st.after,$)}),j=0,e.font=y.string,Zt(n.footer,$),e.restore(),M+=O.width,{width:M,height:D}}function QV(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function KV(n,t,e,s){const{x:r,width:l}=s,u=e.caretSize+e.caretPadding;if(n==="left"&&r+l+u>t.width||n==="right"&&r-l-u<0)return!0}function XV(n,t,e,s){const{x:r,width:l}=e,{width:u,chartArea:{left:h,right:d}}=n;let g="center";return s==="center"?g=r<=(h+d)/2?"left":"right":r<=l/2?g="left":r>=u-l/2&&(g="right"),KV(g,n,t,e)&&(g="center"),g}function ME(n,t,e){const s=e.yAlign||t.yAlign||QV(n,e);return{xAlign:e.xAlign||t.xAlign||XV(n,t,e,s),yAlign:s}}function $V(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function WV(n,t,e){let{y:s,height:r}=n;return t==="top"?s+=e:t==="bottom"?s-=r+e:s-=r/2,s}function OE(n,t,e,s){const{caretSize:r,caretPadding:l,cornerRadius:u}=n,{xAlign:h,yAlign:d}=e,g=r+l,{topLeft:y,topRight:v,bottomLeft:T,bottomRight:A}=yo(u);let O=$V(t,h);const D=WV(t,d,g);return d==="center"?h==="left"?O+=g:h==="right"&&(O-=g):h==="left"?O-=Math.max(y,T)+r:h==="right"&&(O+=Math.max(v,A)+r),{x:ci(O,0,s.width-t.width),y:ci(D,0,s.height-t.height)}}function Ch(n,t,e){const s=Kn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function IE(n){return zi([],hs(n))}function ZV(n,t,e){return No(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function VE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const PS={beforeTitle:us,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:us,beforeBody:us,beforeLabel:us,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return se(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:us,afterBody:us,beforeFooter:us,footer:us,afterFooter:us};function _n(n,t,e,s){const r=n[t].call(e,s);return typeof r>"u"?PS[t].call(e,s):r}class NE extends ko{static positioners=nu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&e.options.animation&&s.animations,l=new TS(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=ZV(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,r=_n(s,"beforeTitle",this,t),l=_n(s,"title",this,t),u=_n(s,"afterTitle",this,t);let h=[];return h=zi(h,hs(r)),h=zi(h,hs(l)),h=zi(h,hs(u)),h}getBeforeBody(t,e){return IE(_n(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,r=[];return Zt(t,l=>{const u={before:[],lines:[],after:[]},h=VE(s,l);zi(u.before,hs(_n(h,"beforeLabel",this,l))),zi(u.lines,_n(h,"label",this,l)),zi(u.after,hs(_n(h,"afterLabel",this,l))),r.push(u)}),r}getAfterBody(t,e){return IE(_n(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,r=_n(s,"beforeFooter",this,t),l=_n(s,"footer",this,t),u=_n(s,"afterFooter",this,t);let h=[];return h=zi(h,hs(r)),h=zi(h,hs(l)),h=zi(h,hs(u)),h}_createItems(t){const e=this._active,s=this.chart.data,r=[],l=[],u=[];let h=[],d,g;for(d=0,g=e.length;d<g;++d)h.push(YV(this.chart,e[d]));return t.filter&&(h=h.filter((y,v,T)=>t.filter(y,v,T,s))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,s))),Zt(h,y=>{const v=VE(t.callbacks,y);r.push(_n(v,"labelColor",this,y)),l.push(_n(v,"labelPointStyle",this,y)),u.push(_n(v,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=l,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const s=this.options.setContext(this.getContext()),r=this._active;let l,u=[];if(!r.length)this.opacity!==0&&(l={opacity:0});else{const h=nu[s.position].call(this,r,this._eventPosition);u=this._createItems(s),this.title=this.getTitle(u,s),this.beforeBody=this.getBeforeBody(u,s),this.body=this.getBody(u,s),this.afterBody=this.getAfterBody(u,s),this.footer=this.getFooter(u,s);const d=this._size=DE(this,s),g=Object.assign({},h,d),y=ME(this.chart,s,g),v=OE(s,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,l={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,r){const l=this.getCaretPosition(t,s,r);e.lineTo(l.x1,l.y1),e.lineTo(l.x2,l.y2),e.lineTo(l.x3,l.y3)}getCaretPosition(t,e,s){const{xAlign:r,yAlign:l}=this,{caretSize:u,cornerRadius:h}=s,{topLeft:d,topRight:g,bottomLeft:y,bottomRight:v}=yo(h),{x:T,y:A}=t,{width:O,height:D}=e;let M,B,j,$,st,it;return l==="center"?(st=A+D/2,r==="left"?(M=T,B=M-u,$=st+u,it=st-u):(M=T+O,B=M+u,$=st-u,it=st+u),j=M):(r==="left"?B=T+Math.max(d,y)+u:r==="right"?B=T+O-Math.max(g,v)-u:B=this.caretX,l==="top"?($=A,st=$-u,M=B-u,j=B+u):($=A+D,st=$+u,M=B+u,j=B-u),it=$),{x1:M,x2:B,x3:j,y1:$,y2:st,y3:it}}drawTitle(t,e,s){const r=this.title,l=r.length;let u,h,d;if(l){const g=_o(s.rtl,this.x,this.width);for(t.x=Ch(this,s.titleAlign,s),e.textAlign=g.textAlign(s.titleAlign),e.textBaseline="middle",u=rn(s.titleFont),h=s.titleSpacing,e.fillStyle=s.titleColor,e.font=u.string,d=0;d<l;++d)e.fillText(r[d],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,d+1===l&&(t.y+=s.titleMarginBottom-h)}}_drawColorBox(t,e,s,r,l){const u=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:g}=l,y=rn(l.bodyFont),v=Ch(this,"left",l),T=r.x(v),A=d<y.lineHeight?(y.lineHeight-d)/2:0,O=e.y+A;if(l.usePointStyle){const D={radius:Math.min(g,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(T,g)+g/2,B=O+d/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,Kb(t,D,M,B),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Kb(t,D,M,B)}else{t.lineWidth=qt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const D=r.leftForLtr(T,g),M=r.leftForLtr(r.xPlus(T,1),g-2),B=yo(u.borderRadius);Object.values(B).some(j=>j!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,uf(t,{x:D,y:O,w:g,h:d,radius:B}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),uf(t,{x:M,y:O+1,w:g-2,h:d-2,radius:B}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(D,O,g,d),t.strokeRect(D,O,g,d),t.fillStyle=u.backgroundColor,t.fillRect(M,O+1,g-2,d-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:r}=this,{bodySpacing:l,bodyAlign:u,displayColors:h,boxHeight:d,boxWidth:g,boxPadding:y}=s,v=rn(s.bodyFont);let T=v.lineHeight,A=0;const O=_o(s.rtl,this.x,this.width),D=function(w){e.fillText(w,O.x(t.x+A),t.y+T/2),t.y+=T+l},M=O.textAlign(u);let B,j,$,st,it,rt,R;for(e.textAlign=u,e.textBaseline="middle",e.font=v.string,t.x=Ch(this,M,s),e.fillStyle=s.bodyColor,Zt(this.beforeBody,D),A=h&&M!=="right"?u==="center"?g/2+y:g+2+y:0,st=0,rt=r.length;st<rt;++st){for(B=r[st],j=this.labelTextColors[st],e.fillStyle=j,Zt(B.before,D),$=B.lines,h&&$.length&&(this._drawColorBox(e,t,st,O,s),T=Math.max(v.lineHeight,d)),it=0,R=$.length;it<R;++it)D($[it]),T=v.lineHeight;Zt(B.after,D)}A=0,T=v.lineHeight,Zt(this.afterBody,D),t.y-=l}drawFooter(t,e,s){const r=this.footer,l=r.length;let u,h;if(l){const d=_o(s.rtl,this.x,this.width);for(t.x=Ch(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=d.textAlign(s.footerAlign),e.textBaseline="middle",u=rn(s.footerFont),e.fillStyle=s.footerColor,e.font=u.string,h=0;h<l;++h)e.fillText(r[h],d.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+s.footerSpacing}}drawBackground(t,e,s,r){const{xAlign:l,yAlign:u}=this,{x:h,y:d}=t,{width:g,height:y}=s,{topLeft:v,topRight:T,bottomLeft:A,bottomRight:O}=yo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,d),u==="top"&&this.drawCaret(t,e,s,r),e.lineTo(h+g-T,d),e.quadraticCurveTo(h+g,d,h+g,d+T),u==="center"&&l==="right"&&this.drawCaret(t,e,s,r),e.lineTo(h+g,d+y-O),e.quadraticCurveTo(h+g,d+y,h+g-O,d+y),u==="bottom"&&this.drawCaret(t,e,s,r),e.lineTo(h+A,d+y),e.quadraticCurveTo(h,d+y,h,d+y-A),u==="center"&&l==="left"&&this.drawCaret(t,e,s,r),e.lineTo(h,d+v),e.quadraticCurveTo(h,d,h+v,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,r=s&&s.x,l=s&&s.y;if(r||l){const u=nu[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=DE(this,t),d=Object.assign({},u,this._size),g=ME(e,t,d),y=OE(t,d,g,e);(r._to!==y.x||l._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},l={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const u=Kn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=s,this.drawBackground(l,t,r,e),bS(t,e.textDirection),l.y+=u.top,this.drawTitle(l,t,e),this.drawBody(l,t,e),this.drawFooter(l,t,e),ES(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,r=t.map(({datasetIndex:h,index:d})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[d],index:d}}),l=!af(s,r),u=this._positionChanged(r,e);(l||u)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,l=this._active||[],u=this._getActiveElements(t,l,e,s),h=this._positionChanged(u,t),d=e||!af(u,l)||h;return d&&(this._active=u,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,s,r){const l=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,l.mode,l,s);return l.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:s,caretY:r,options:l}=this,u=nu[l.position].call(this,t,e);return u!==!1&&(s!==u.x||r!==u.y)}}var JV={id:"tooltip",_element:NE,positioners:nu,afterInit(n,t,e){e&&(n.tooltip=new NE({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:PS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const tN=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function eN(n,t,e,s){const r=n.indexOf(t);if(r===-1)return tN(n,t,e,s);const l=n.lastIndexOf(t);return r!==l?e:r}const nN=(n,t)=>n===null?null:ci(Math.round(n),0,t);function kE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class iN extends Lo{static id="category";static defaults={ticks:{callback:kE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:r,label:l}of e)s[r]===l&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(se(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:eN(s,t,Qt(e,t),this._addedLabels),nN(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,r=[];let l=this.getLabels();l=t===0&&e===l.length-1?l:l.slice(t,e+1),this._valueRange=Math.max(l.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let u=t;u<=e;u++)r.push({value:u});return r}getLabelForValue(t){return kE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function sN(n,t){const e=[],{bounds:r,step:l,min:u,max:h,precision:d,count:g,maxTicks:y,maxDigits:v,includeBounds:T}=n,A=l||1,O=y-1,{min:D,max:M}=t,B=!se(u),j=!se(h),$=!se(g),st=(M-D)/(v+1);let it=Bb((M-D)/O/A)*A,rt,R,w,C;if(it<1e-14&&!B&&!j)return[{value:D},{value:M}];C=Math.ceil(M/it)-Math.floor(D/it),C>O&&(it=Bb(C*it/O/A)*A),se(d)||(rt=Math.pow(10,d),it=Math.ceil(it*rt)/rt),r==="ticks"?(R=Math.floor(D/it)*it,w=Math.ceil(M/it)*it):(R=D,w=M),B&&j&&l&&nI((h-u)/l,it/1e3)?(C=Math.round(Math.min((h-u)/it,y)),it=(h-u)/C,R=u,w=h):$?(R=B?u:R,w=j?h:w,C=g-1,it=(w-R)/C):(C=(w-R)/it,Bh(C,Math.round(C),it/1e3)?C=Math.round(C):C=Math.ceil(C));const k=Math.max(Ub(it),Ub(R));rt=Math.pow(10,se(d)?k:d),R=Math.round(R*rt)/rt,w=Math.round(w*rt)/rt;let V=0;for(B&&(T&&R!==u?(e.push({value:u}),R<u&&V++,Bh(Math.round((R+V*it)*rt)/rt,u,LE(u,st,n))&&V++):R<u&&V++);V<C;++V){const L=Math.round((R+V*it)*rt)/rt;if(j&&L>h)break;e.push({value:L})}return j&&T&&w!==h?e.length&&Bh(e[e.length-1].value,h,LE(h,st,n))?e[e.length-1].value=h:e.push({value:h}):(!j||w===h)&&e.push({value:w}),e}function LE(n,t,{horizontal:e,minRotation:s}){const r=er(s),l=(e?Math.sin(r):Math.cos(r))||.001,u=.75*t*(""+n).length;return Math.min(t/l,u)}class aN extends Lo{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:r,max:l}=this;const u=d=>r=e?r:d,h=d=>l=s?l:d;if(t){const d=ua(r),g=ua(l);d<0&&g<0?h(0):d>0&&g>0&&u(0)}if(r===l){let d=l===0?1:Math.abs(l*.05);h(l+d),t||u(r-d)}this.min=r,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},l=this._range||this,u=sN(r,l);return t.bounds==="ticks"&&iI(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-e)/Math.max(t.length-1,1)/2;e-=r,s+=r}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return cS(t,this.chart.options.locale,this.options.ticks.format)}}class rN extends aN{static id="linear";static defaults={ticks:{callback:hS.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Qn(t)?t:0,this.max=Qn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=er(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,l.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Of={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bn=Object.keys(Of);function zE(n,t){return n-t}function PE(n,t){if(se(t))return null;const e=n._adapter,{parser:s,round:r,isoWeekday:l}=n._parseOpts;let u=t;return typeof s=="function"&&(u=s(u)),Qn(u)||(u=typeof s=="string"?e.parse(u,s):e.parse(u)),u===null?null:(r&&(u=r==="week"&&(lf(l)||l===!0)?e.startOf(u,"isoWeek",l):e.startOf(u,r)),+u)}function BE(n,t,e,s){const r=bn.length;for(let l=bn.indexOf(n);l<r-1;++l){const u=Of[bn[l]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=s)return bn[l]}return bn[r-1]}function oN(n,t,e,s,r){for(let l=bn.length-1;l>=bn.indexOf(e);l--){const u=bn[l];if(Of[u].common&&n._adapter.diff(r,s,u)>=t-1)return u}return bn[e?bn.indexOf(e):0]}function lN(n){for(let t=bn.indexOf(n)+1,e=bn.length;t<e;++t)if(Of[bn[t]].common)return bn[t]}function UE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:r}=Rp(e,t),l=e[s]>=t?e[s]:e[r];n[l]=!0}}function uN(n,t,e,s){const r=n._adapter,l=+r.startOf(t[0].value,s),u=t[t.length-1].value;let h,d;for(h=l;h<=u;h=+r.add(h,1,s))d=e[h],d>=0&&(t[d].major=!0);return t}function jE(n,t,e){const s=[],r={},l=t.length;let u,h;for(u=0;u<l;++u)h=t[u],r[h]=u,s.push({value:h,major:!1});return l===0||!e?s:uN(n,s,r,e)}class HE extends Lo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),r=this._adapter=new S4._date(t.adapters.date);r.init(e),uu(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:PE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:r,max:l,minDefined:u,maxDefined:h}=this.getUserBounds();function d(g){!u&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(l=Math.max(l,g.max))}(!u||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=Qn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),s),l=Qn(l)&&!isNaN(l)?l:+e.endOf(Date.now(),s)+1,this.min=Math.min(r,l-1),this.max=Math.max(r+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const l=this.min,u=this.max,h=cI(r,l,u);return this._unit=e.unit||(s.autoSkip?BE(e.minUnit,this.min,this.max,this._getLabelCapacity(l)):oN(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:lN(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),jE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,r,l;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?s=l:s=(l-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=ci(e,0,u),s=ci(s,0,u),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,r=this.options,l=r.time,u=l.unit||BE(l.minUnit,e,s,this._getLabelCapacity(e)),h=Qt(r.ticks.stepSize,1),d=u==="week"?l.isoWeekday:!1,g=lf(d)||d===!0,y={};let v=e,T,A;if(g&&(v=+t.startOf(v,"isoWeek",d)),v=+t.startOf(v,g?"day":u),t.diff(s,e,u)>1e5*h)throw new Error(e+" and "+s+" are too far apart with stepSize of "+h+" "+u);const O=r.ticks.source==="data"&&this.getDataTimestamps();for(T=v,A=0;T<s;T=+t.add(T,h,u),A++)UE(y,T,O);return(T===s||r.bounds==="ticks"||A===1)&&UE(y,T,O),Object.keys(y).sort(zE).map(D=>+D)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,l=this._unit,u=e||r[l];return this._adapter.format(t,u)}_tickFormatFunction(t,e,s,r){const l=this.options,u=l.ticks.callback;if(u)return le(u,[t,e,s],this);const h=l.time.displayFormats,d=this._unit,g=this._majorUnit,y=d&&h[d],v=g&&h[g],T=s[e],A=g&&v&&T&&T.major;return this._adapter.format(t,r||(A?v:y))}generateTickLabels(t){let e,s,r;for(e=0,s=t.length;e<s;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,r=er(this.isHorizontal()?e.maxRotation:e.minRotation),l=Math.cos(r),u=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:s*l+h*u,h:s*u+h*l}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,r=s[e.unit]||s.millisecond,l=this._tickFormatFunction(t,0,jE(this,[t],this._majorUnit),r),u=this._getLabelSize(l),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,s=r.length;e<s;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const r=this.getLabels();for(e=0,s=r.length;e<s;++e)t.push(PE(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return rS(t.sort(zE))}}function Dh(n,t,e){let s=0,r=n.length-1,l,u,h,d;e?(t>=n[s].pos&&t<=n[r].pos&&({lo:s,hi:r}=Og(n,"pos",t)),{pos:l,time:h}=n[s],{pos:u,time:d}=n[r]):(t>=n[s].time&&t<=n[r].time&&({lo:s,hi:r}=Og(n,"time",t)),{time:l,pos:h}=n[s],{time:u,pos:d}=n[r]);const g=u-l;return g?h+(d-h)*(t-l)/g:h}class bN extends HE{static id="timeseries";static defaults=HE.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Dh(e,this.min),this._tableRange=Dh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,r=[],l=[];let u,h,d,g,y;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=s&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(u=0,h=r.length;u<h;++u)y=r[u+1],d=r[u-1],g=r[u],Math.round((y+d)/2)!==g&&l.push({time:g,pos:u/(h-1)});return l}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((r,l)=>r-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Dh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return Dh(this._table,s*this._tableRange+this._minPos,!0)}}const BS="label";function FE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function cN(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function US(n,t){n.labels=t}function jS(n,t,e=BS){const s=[];n.datasets=t.map(r=>{const l=n.datasets.find(u=>u[e]===r[e]);return!l||!r.data||s.includes(l)?{...r}:(s.push(l),Object.assign(l,r),l)})}function hN(n,t=BS){const e={labels:[],datasets:[]};return US(e,n.labels),jS(e,n.datasets,t),e}function fN(n,t){const{height:e=150,width:s=300,redraw:r=!1,datasetIdKey:l,type:u,data:h,options:d,plugins:g=[],fallbackContent:y,updateMode:v,...T}=n,A=X.useRef(null),O=X.useRef(null),D=()=>{A.current&&(O.current=new Mf(A.current,{type:u,data:hN(h,l),options:d&&{...d},plugins:g}),FE(t,O.current))},M=()=>{FE(t,null),O.current&&(O.current.destroy(),O.current=null)};return X.useEffect(()=>{!r&&O.current&&d&&cN(O.current,d)},[r,d]),X.useEffect(()=>{!r&&O.current&&US(O.current.config.data,h.labels)},[r,h.labels]),X.useEffect(()=>{!r&&O.current&&h.datasets&&jS(O.current.config.data,h.datasets,l)},[r,h.datasets]),X.useEffect(()=>{O.current&&(r?(M(),setTimeout(D)):O.current.update(v))},[r,d,h.labels,h.datasets,v]),X.useEffect(()=>{O.current&&(M(),setTimeout(D))},[u]),X.useEffect(()=>(D(),()=>M()),[]),ft.jsx("canvas",{ref:A,role:"img",height:e,width:s,...T,children:y})}const dN=X.forwardRef(fN);function mN(n,t){return Mf.register(t),X.forwardRef((e,s)=>ft.jsx(dN,{...e,ref:s,type:n}))}const gN=mN("bar",T4);Mf.register(iN,rN,zV,GV,JV,FV);const pN=["Section 1","Section 2","Section 3","Section 4","Section 5"];function qE(){const[n,t]=X.useState([]),[e,s]=X.useState(!0);X.useEffect(()=>{const u=dO(j1(J1,"sessions","class_01","allocations"),mO("createdAt","desc")),h=_O(u,d=>{const g=d.docs.map(y=>y.data());t(g),s(!1)},d=>{console.error("Error fetching data:",d),s(!1)});return()=>h()},[]);const r=u=>{const h=new Array(10).fill(0);return n.forEach(d=>{if(d.values&&d.values[u]!==void 0){const g=d.values[u];let y=Math.floor(g/10);y>=10&&(y=9),h[y]++}}),{labels:["0-9","10-19","20-29","30-39","40-49","50-59","60-69","70-79","80-89","90-100"],datasets:[{label:"Frequency",data:h,backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]}},l={responsive:!0,plugins:{legend:{display:!1},title:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,precision:0},title:{display:!0,text:"Students"}},x:{grid:{display:!1}}}};return e?ft.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:ft.jsx("div",{className:"text-xl text-gray-600 animate-pulse",children:"Loading live results..."})}):ft.jsxs("div",{className:"min-h-screen bg-gray-50 p-6 md:p-10",children:[ft.jsxs("header",{className:"mb-10 flex flex-col md:flex-row justify-between items-center gap-4",children:[ft.jsxs("div",{children:[ft.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Real-Time Allocation Results"}),ft.jsx("p",{className:"text-gray-500",children:"Live view of student submissions"})]}),ft.jsxs("div",{className:"bg-white px-6 py-4 rounded-xl shadow-lg border border-blue-100 flex items-center",children:[ft.jsx("div",{className:"mr-4 p-3 bg-blue-100 rounded-full text-blue-600",children:ft.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ft.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),ft.jsxs("div",{children:[ft.jsx("div",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Total Responses"}),ft.jsx("div",{className:"text-3xl font-bold text-gray-800",children:n.length})]})]})]}),n.length===0?ft.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl shadow-sm border border-gray-100 text-gray-400",children:[ft.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ft.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),ft.jsx("p",{className:"text-lg",children:"Waiting for submissions..."})]}):ft.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:pN.map((u,h)=>ft.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-50 hover:shadow-xl transition-shadow duration-300",children:[ft.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex justify-between",children:[u,ft.jsxs("span",{className:"text-xs font-normal px-2 py-1 bg-gray-100 rounded text-gray-500",children:["Avg: ",Math.round(n.reduce((d,g)=>d+(g.values[h]||0),0)/n.length),"%"]})]}),ft.jsx("div",{className:"h-64",children:ft.jsx(gN,{options:{...l,maintainAspectRatio:!1},data:r(h)})})]},h))})]})}function yN(){return ft.jsx(Xw,{children:ft.jsxs(xw,{children:[ft.jsx(Mh,{path:"/",element:ft.jsx(SO,{})}),ft.jsx(Mh,{path:"/dashboard",element:ft.jsx(qE,{})}),ft.jsx(Mh,{path:"/results",element:ft.jsx(qE,{})})]})})}Rx.createRoot(document.getElementById("root")).render(ft.jsx(X.StrictMode,{children:ft.jsx(yN,{})}));
